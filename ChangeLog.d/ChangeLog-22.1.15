commit fe3409cc8e87e2d486ba1361e32192791ece5496
Merge: 98af378 c9bb664
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jun 16 17:13:58 2012 +1000

    SXEmacs v22.1.15 is released!
    
    * release-housekeeping:
      Last minute NEWS update
      Update closed bug list
      Last minute update to NEWS.
      Update DISTRIB to talk about git instead of tla
      Various "just before release" updates and housekeeping

commit c9bb664d89349dd12c9b77f0aad688f53464fe31
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jun 16 17:11:06 2012 +1000

    Last minute NEWS update
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 etc/NEWS |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 98af378507e346a7caca1f8b562d4741e412bb14
Merge: b9f23b4 47a97e4
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jun 16 11:16:23 2012 +1000

    Coverity issues done and dusted! from Nelson
    
    * merges:
      Coverity: CID 21028 Logically dead code
      Coverity CID 400011 - Derefence NULL return value

commit 47a97e4f0307052738391bb339a2d58a6aa8b88e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jun 15 11:19:42 2012 -0400

    Coverity: CID 21028 Logically dead code
    
    	* src/ui/X11/event-Xt.c (x_handle_sticky_modifiers): This is a
    	false positive, but this little refactoring makes the analysis
    	easier...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/event-Xt.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit e436f61f195c0d379e42d561101575929386af84
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jun 15 11:14:54 2012 -0400

    Coverity CID 400011 - Derefence NULL return value
    
    	* src/doc.c (Fsnarf_documentation): Verify that indeed end is not
    	NULL. If it is NULL then report a file format error.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/doc.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit b9f23b4d55f2f4889d882a1a06dcbb72e7872c90
Merge: 0cfb001 401b73d
Author: Steve Youngs <steve@sxemacs.org>
Date:   Mon Jun 11 18:52:39 2012 +1000

    Ego is not a dirty word
    
    * ego-patch:
      Update my about info.

commit 401b73deb3add6d705cda4fa04dea0c825abcea4
Author: Steve Youngs <steve@sxemacs.org>
Date:   Mon Jun 11 18:16:53 2012 +1000

    Update my about info.
    
    	* lisp/about.el (about-current-release-maintainers): Promote Horst
    	to the lofty level of "current dev".
    	Put Erik and Hynek into "other"
    
    	* lisp/about.el (about-other-current-hackers): Horst to current;
    	Erik and Hynek to other.
    
    	* lisp/about.el (about-url-alist): Add a couple more of my URLs.
    
    	* lisp/about.el (about-personal-info): Updated my bio, added a
    	couple more URLs, and a dash of colour.
    
    	* etc/photos/steve.png: Update
    
    	* etc/photos/stevem.png: Update
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 etc/photos/steve.png  |  Bin 48649 -> 49065 bytes
 etc/photos/stevem.png |  Bin 17310 -> 24988 bytes
 lisp/about.el         |   57 ++++++++++++++++++++++++++++++++++++-------------
 3 files changed, 42 insertions(+), 15 deletions(-)

commit 803c766d3a50b25f62c6c027a251577c5d60c45e
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jun 2 08:24:42 2012 +1000

    Update closed bug list
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 etc/NEWS |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cc10fb14556a6c98df37667dad11f2a1c790199d
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed May 23 07:50:42 2012 +1000

    Last minute update to NEWS.
    
    	* etc/NEWS: Forgot to mention bug 140 was fixed too
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 etc/NEWS |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bc28e304dcdfcd64786c9a32990a3aa98182bf0e
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed May 23 07:41:52 2012 +1000

    Update DISTRIB to talk about git instead of tla
    
    	* etc/DISTRIB: Rewrite.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 etc/DISTRIB |   32 +++++++++++++++-----------------
 1 file changed, 15 insertions(+), 17 deletions(-)

commit 4ab0328a3347f22e268163b4977cd1706cb5b0f3
Author: Steve Youngs <steve@sxemacs.org>
Date:   Mon May 21 12:16:49 2012 +1000

    Various "just before release" updates and housekeeping
    
    	* INSTALL: A few minor updates such as typos, URL updates etc.
    
    	* PROBLEMS: Fix a couple of typos.
    
    	* README: Update list of subdirectories.
    
    	* autogen.sh (EXPECTED_TREE_VERSION): Bump.
    
    	* autogen.sh (sxemacs_codename): "Goggomobil"
    
    	* info/sppm.texi: Update "versioning" macros.
    
    	* info/sxemacs/sxemacs.texi (Top): Update version.
    
    	* lisp/startup.el (splash-frame-body): Update my copyright.
    
    	* etc/NEWS: Add this version's release notes.
    
    	* info/sppm.texi (Making Releases): Describe how to generate the
    	"Developer Stats" section.
    
    	* info/sppm.texi (Making Releases): Use git to create diff from
    	previous versions.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 INSTALL                   |   24 ++++++++---------
 PROBLEMS                  |    4 +--
 README                    |   26 +++++++++----------
 autogen.sh                |    6 ++---
 etc/NEWS                  |   63 +++++++++++++++++++++++++++++++++++++++++++++
 info/sppm.texi            |   36 ++++++++++++++------------
 info/sxemacs/sxemacs.texi |    4 +--
 lisp/startup.el           |    4 +--
 8 files changed, 116 insertions(+), 51 deletions(-)

commit 0cfb00120c7ae337b69084b5625fbeb40a840689
Merge: b1aa7ca 993f4db
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed May 2 12:16:11 2012 +1000

    Fix SuSe build from Nelson
    
    * merges:
      Fix SuSE build

commit 993f4dba10a0e10ab7469fc6ed464d835f956080
Author: Nelson Ferreira <njsf@sxemacs.org>
Date:   Tue May 1 02:50:45 2012 -0400

    Fix SuSE build
    
    Signed-off-by: Nelson Ferreira <njsf@sxemacs.org>

 src/alloc.c |    1 -
 1 file changed, 1 deletion(-)

commit b1aa7ca2fc281180651d59ae72828a263efb73d7
Merge: ccd489f a0b236e
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue May 1 12:42:38 2012 +1000

    MacOS build fixes from Nelson
    
    * merges:
      Fix build in MacOS after ent changes

commit a0b236e2517267600dcb853bd65e38b064fc9fe1
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Apr 30 18:18:43 2012 -0400

    Fix build in MacOS after ent changes
    
    	* modules/cl/cl.c: Add ent/ent.h include
    	* src/alloc.c: Add ent/ent.h, ent/ent-float.h and ent/ent-mpfr.h includes
    	* src/ent/ent-float.h: Include ent/ent-optable.h and
    	ent/ent-lift.h which define symbols used
    
    	* src/ent/ent-gaussian.c: Ditto.
    
    	* src/ent/ent-inf.h: Add additional includes (like in ent.h) for
    	the cases when ent.h was not included.
    
    	* src/ent/ent-mpc.c: Include ent.h and ent-mpfr.h
    
    	* src/ent/ent-mpfr.c: Include ent.h, and optable, lift and indef
    
    	* src/ent/ent-mpfr.h: Include ent-indef.h
    
    	* src/ent/ent-quatern.c: Include ent.h
    
    	* src/media/media.c: Include ent/ent.h
    
    	* src/ui/glyphs.c: Include ent/ent-float.h
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 modules/cl/cl.c        |    2 ++
 src/alloc.c            |    4 ++++
 src/ent/ent-float.h    |    2 ++
 src/ent/ent-gaussian.c |    3 +++
 src/ent/ent-inf.h      |   10 ++++++++++
 src/ent/ent-mpc.c      |    2 ++
 src/ent/ent-mpfr.c     |    4 ++++
 src/ent/ent-mpfr.h     |    2 ++
 src/ent/ent-quatern.c  |    1 +
 src/media/media.c      |    1 +
 src/ui/glyphs.c        |    3 ++-
 11 files changed, 33 insertions(+), 1 deletion(-)

commit ccd489f6a57dee45bda9445347a974fc9181e34e
Merge: 34a1522 42d6a75
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Apr 13 11:37:10 2012 +1000

    Fixes bug #136 from Sebastian
    
    * merges:
      fix, initialise auto_remove_nodes upon ase_make_digraph()
      fix, do not finalise event queues during the dump phase

commit 42d6a75d316a649600e4402fde8b0b8996ccd632
Merge: fc0d29c f44c6d0
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Apr 12 15:55:38 2012 +0000

    Merge branch 'bug/136' into next
    
    * bug/136:
      fix, initialise auto_remove_nodes upon ase_make_digraph()
    
    This changeset tries the best to fix bug #136.  An uninitialised value
    has been used for branching (the auto_remove_nodes slot)
    
    * modules/ase/ase-digraph.c: fix, initialise slots that are being used.

commit f44c6d0ed0b2706de1769bc9a078e60f1b92ed5f
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Apr 12 15:55:29 2012 +0000

    fix, initialise auto_remove_nodes upon ase_make_digraph()
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 modules/ase/ase-digraph.c |    1 +
 1 file changed, 1 insertion(+)

commit fc0d29c8b6140482ab10eb387fb8b78c093de362
Merge: 34a1522 154a85c
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Apr 12 15:38:42 2012 +0000

    Merge branch 'bug/135' into next
    
    * bug/135:
      fix, do not finalise event queues during the dump phase
    
    This changeset is a follow-up to my previous go at bug #135.
    This ensures that the event queue is not freed during the dump phase.
    
    * src/events/event-queue.c: fix, respect for_disksave argument

commit 154a85c4000e56da88f55cd0367dcc731f677c53
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Apr 12 15:37:26 2012 +0000

    fix, do not finalise event queues during the dump phase
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/events/event-queue.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 34a15225c8ee244b3a078b5ab3f9b1d107fedd12
Merge: c8b7da8 8c9e31c
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Apr 6 09:32:46 2012 +1000

    Fix build on powerpc64 from Sebastian
    
    * merges:
      fix, adhere to prototypes in libpq-he.h, use size_t* instead of unsigned int*
      fix to fix, PEBKAC, also include ent.h goodies in cl-loop code
      minor, clarify usage of ase_ffsl in skiplist.c
      minor, provide (missing) ffsl for ppc64 and flsl for ppc and ppc64
      minor, provide __next_2power() from the bithacks web site
      cosmetics, include ent/ent.h (or one of its sub-includes) directly, take 2, ...
      cosmetics, include ent/ent.h (or one of its sub-includes) directly ...
      cosmetics, do not include all of ent.h in lisp.h ...

commit 8c9e31ceea56f8c91f8e3cbc192ccd90ba1b3ae5
Merge: 0bea10a 3706088
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Apr 5 15:32:38 2012 +0000

    Merge branch 'fix/pgapi' into next
    
    * fix/pgapi:
      fix, adhere to prototypes in libpq-he.h, use size_t* instead of unsigned int*

commit 3706088e1f74ff5e81050f7481a95019e34838e8
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Apr 5 15:31:30 2012 +0000

    fix, adhere to prototypes in libpq-he.h, use size_t* instead of unsigned int*
    
    * src/database/postgresql.c: unsigned int -> size_t
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/database/postgresql.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 0bea10af4b8317d8ad4441ee49c75b0c9c3a458c
Merge: 16873e5 7f75ddb
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Apr 5 15:17:03 2012 +0000

    Merge branch 'fix/ppc64' into next
    
    * fix/ppc64:
      fix to fix, PEBKAC, also include ent.h goodies in cl-loop code

commit 7f75ddb47d7a173112038083911d88c117b9fd37
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Apr 5 15:15:44 2012 +0000

    fix to fix, PEBKAC, also include ent.h goodies in cl-loop code
    
    This changeset cares about a forgotten include in cl-loop.c.
    
    * modules/cl/cl-loop.c: include ent.h here
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 modules/cl/cl-loop.c |    1 +
 1 file changed, 1 insertion(+)

commit 16873e543b8a58aff045d20edc312c383f5f296e
Merge: c8b7da8 f4affed
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Apr 5 14:11:16 2012 +0000

    Merge branch 'fix/ppc64' into next
    
    * fix/ppc64:
      minor, clarify usage of ase_ffsl in skiplist.c
      minor, provide (missing) ffsl for ppc64 and flsl for ppc and ppc64
      minor, provide __next_2power() from the bithacks web site
      cosmetics, include ent/ent.h (or one of its sub-includes) directly, take 2, ...
      cosmetics, include ent/ent.h (or one of its sub-includes) directly ...
      cosmetics, do not include all of ent.h in lisp.h ...
    
    This changeset fixes issues with the ppc64 build whilst cleaning up
    the lisp header (lisp.h) at the same time.
    
    * modules/ase/ase.c: include ent bits here
    
    * modules/cl/cl-loop.h: include ent bits here
    
    * src/alloc.c: include ent bits here
    
    * src/bloom.c: include ent bits here
    
    * src/bytecode.c: include ent bits here
    
    * src/callint.c: include ent bits here
    
    * src/data.c: include ent bits here
    
    * src/doprnt.c: include ent bits here
    
    * src/editfns.c: include ent bits here
    
    * src/effi.c: include ent bits here
    
    * src/elhash.c: include ent bits here
    
    * src/ent/ent-binary-op.c: include ent bits here
    
    * src/ent/ent-binary-rel.c: include ent bits here
    
    * src/ent/ent-float.c: include ent bits here
    
    * src/ent/ent-gmp.c: include ent bits here
    
    * src/ent/ent-indef.c: include ent bits here
    
    * src/ent/ent-int.c: include ent bits here
    
    * src/ent/ent-lift.c: include ent bits here
    
    * src/ent/ent-nullary-op.c: include ent bits here
    
    * src/ent/ent-unary-op.c: include ent bits here
    
    * src/ent/ent-unary-rel.c: include ent bits here
    
    * src/ent/ent.h: provide missing ffs and fls bits
    
    * src/ent/floatfns.c: include ent bits here
    
    * src/events/event-stream.c: include ent bits here
    
    * src/fileio.c: include ent bits here
    
    * src/fns.c: include ent bits here
    
    * src/lisp.h: remove ent bits here, keep ent-int.h though
      provide __next_2power() based on a hack from the bithack website
    
    * src/lread.c: include ent bits here
    
    * src/map.c: include ent bits here
    
    * src/media/sound.c: include ent bits here
    
    * src/skiplist.c: include ent bits here
    
    * src/sysdep.c: include ent bits here
    
    * src/ui/TTY/objects-tty.c: include ent bits here
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

commit f4affed39a9f15dd950f4779fe80673c5145c6f7
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Apr 5 13:54:35 2012 +0000

    minor, clarify usage of ase_ffsl in skiplist.c
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/skiplist.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 88620feaefcd5231c7a9b86a8ad628161edd830e
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Apr 5 13:53:38 2012 +0000

    minor, provide (missing) ffsl for ppc64 and flsl for ppc and ppc64
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/ent/ent.h |   42 ++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 42 insertions(+)

commit 93231e7cfc70226c7a95e6155339f9c35fe8bebf
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Apr 5 12:46:12 2012 +0000

    minor, provide __next_2power() from the bithacks web site
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/bloom.c |    2 +-
 src/lisp.h  |   31 ++++++++++++++++++++++++++-----
 2 files changed, 27 insertions(+), 6 deletions(-)

commit 9adbc3a4b7ecd6a19386398fd6effe709dde2f0d
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Apr 5 12:44:52 2012 +0000

    cosmetics, include ent/ent.h (or one of its sub-includes) directly, take 2, ...
    
    This changeset will have a follow-up that fixes the lisp.h b0rkedness
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/callint.c             |    1 +
 src/events/event-stream.c |    3 +++
 src/map.c                 |    1 +
 src/media/sound.c         |    3 +++
 src/skiplist.c            |    4 ++--
 src/sysdep.c              |    4 ++++
 src/ui/TTY/objects-tty.c  |    4 ++++
 7 files changed, 18 insertions(+), 2 deletions(-)

commit ddc50035af771377469919dba3367f1a90903980
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Apr 5 11:47:23 2012 +0000

    cosmetics, include ent/ent.h (or one of its sub-includes) directly ...
    
    This changeset will still have follow-ups that rectify the situation in files
    that used some of the macros defined by ent.h (and its includes).
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 modules/ase/ase.c        |    1 +
 modules/cl/cl-loop.h     |    7 ++++++-
 src/alloc.c              |    2 ++
 src/bytecode.c           |    1 +
 src/data.c               |    1 +
 src/doprnt.c             |    1 +
 src/editfns.c            |    1 +
 src/effi.c               |    1 +
 src/elhash.c             |    1 +
 src/ent/ent-binary-op.c  |    5 ++++-
 src/ent/ent-binary-rel.c |    7 ++++++-
 src/ent/ent-float.c      |    2 +-
 src/ent/ent-gmp.c        |    2 +-
 src/ent/ent-indef.c      |    2 +-
 src/ent/ent-int.c        |    2 +-
 src/ent/ent-lift.c       |    3 ++-
 src/ent/ent-nullary-op.c |    3 ++-
 src/ent/ent-unary-op.c   |    5 ++++-
 src/ent/ent-unary-rel.c  |    5 ++++-
 src/ent/floatfns.c       |    2 ++
 src/fileio.c             |    1 +
 src/fns.c                |    1 +
 src/lread.c              |    1 +
 23 files changed, 46 insertions(+), 11 deletions(-)

commit 1c49709246e95231b9168c3df680212d5164faf8
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Apr 5 10:51:42 2012 +0000

    cosmetics, do not include all of ent.h in lisp.h ...
    
    This changeset will have follow-ups that rectify the situation in files that actually
    do need some stuff of ent.h (and its includes).
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/lisp.h |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit c8b7da8680572fcfc2840190df11613257d56c1a
Merge: d071bef 141e7e9
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Mar 30 09:54:35 2012 +1000

    UI related fixes/improvements from Nelson
    
    * merges:
      Disable non UI build. Too much going wrong for that to work
      Only used old_fcntl_owner when compiling unixoid event loop
      Remove old file moved away
      Make FD_TO_USID available to non-unixoid event loops
      Only abort due to no-tty when interactive
      Move src/objects.c to src/ui
      Move src/objects.c to src/ui

commit 141e7e9c6e36e0bfa93ec1eb23001411f6228dbe
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Mar 27 15:11:31 2012 -0300

    Disable non UI build. Too much going wrong for that to work
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 8d03c4d8df80d88cff8c732e70c530f8a15ff0d0
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Mar 21 22:58:00 2012 -0300

    Only used old_fcntl_owner when compiling unixoid event loop
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/sysdep.c |   16 ++++++++++++++--
 1 file changed, 14 insertions(+), 2 deletions(-)

commit 44e35992380ec7294221534ab6a02cc427bbd7e8
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Mar 21 22:56:26 2012 -0300

    Remove old file moved away
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/objects.c | 1093 ---------------------------------------------------------
 1 file changed, 1093 deletions(-)

commit c503cc4e16d04b10639df4397127d5b465a50a13
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Mar 21 22:55:03 2012 -0300

    Make FD_TO_USID available to non-unixoid event loops
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/events/events.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d3e0b7c26a4a34857b4d9d1c6e87cdb22f3d7556
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Mar 21 22:54:03 2012 -0300

    Only abort due to no-tty when interactive
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/emacs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9606fa6b223e85c15dc0923fba732579d178c635
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Mar 21 22:51:49 2012 -0300

    Move src/objects.c to src/ui
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/objects.c | 1093 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 1093 insertions(+)

commit 126e022e04577cfee23e253561ecef0de20d3635
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Mar 21 22:51:29 2012 -0300

    Move src/objects.c to src/ui
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/Makefile.am    |    3 +--
 src/ui/Makefile.am |    3 ++-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit d071beff5fb5b0883dafb6155c0251dd46d7d6d0
Merge: 0df7245 7d67c9b
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Mar 17 09:45:08 2012 +1000

    Fix dumpfile from Sebastian
    
    * merges:
      Summary: major, rename .dmp file once more Keywords: bldchn dist
      Summary: minor, kick sheap and friends Keywords: bldchn dumper
      fix dist, configfsf.guess and configfsf.sub are also needed

commit 7d67c9b9b69d6a5958c29f6b1834061d18ce0e7a
Merge: 0df7245 c182bf3
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Mar 16 11:23:22 2012 +0000

    Merge branch 'bldchn' into next
    
    * bldchn:
      Summary: major, rename .dmp file once more Keywords: bldchn dist
      Summary: minor, kick sheap and friends Keywords: bldchn dumper
      fix dist, configfsf.guess and configfsf.sub are also needed

commit c182bf34f504ebef5a0981fa5fcb496b2b0a57cf
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Mar 16 11:02:36 2012 +0000

    Summary: major, rename .dmp file once more
    Keywords: bldchn dist
    
    This changeset outroduces the nuisance caused by the big build chain
    clean up.  In particular, the dump file name is now just sxemacs.dmp,
    seeing as the version number in it was just redundant as it resides in
    $(archlibdir) which contains a version number already.
    
    * src/Makefile.am: dump file in $(archlibdir) needs no version number
    
    * src/dumper.c: reduce pdump_file_try() massively
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/Makefile.am |    2 +-
 src/dumper.c    |   60 +++++++++++++------------------------------------------
 2 files changed, 15 insertions(+), 47 deletions(-)

commit 2435944a30c3e3f99aed6fadc4c1fb4d6c220e54
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Mar 16 10:33:14 2012 +0000

    Summary: minor, kick sheap and friends
    Keywords: bldchn dumper
    
    This changeset eradicates sheap.c and its usage in the dumping process,
    since pdump is always and everywhere on.
    
    * configure.ac: don't bother checking for SHEAP usage
    
    * src/Makefile.am: kick sheap mumbojumbo
    
    * src/emacs.c: kick references to sheap
    
    * src/sheap.c: gone
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 configure.ac    |   13 -----
 src/Makefile.am |   15 ++----
 src/emacs.c     |   11 -----
 src/sheap.c     |  145 -------------------------------------------------------
 4 files changed, 3 insertions(+), 181 deletions(-)

commit 211a4f0ebea5e377614671dbfe09896872b66196
Author: Ruediger Meier <ruediger.meier@ga-group.nl>
Date:   Thu Mar 15 22:06:50 2012 +0100

    fix dist, configfsf.guess and configfsf.sub are also needed

 Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit 0df7245596eb1326379f2de82968e2ad42a8e4c2
Merge: aee61c6 f0ffdb5
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Mar 16 08:11:56 2012 +1000

    Loads of build chain fixups from Sebastian
    
    * merges:
      cosmetics, list Installation and cpuid in distclean-local hook
      fix, comb out double-/ hiccups in invocation-{name,directory}
      chore, bldchn, remove dump file upon make uninstall
      chore, major, do not include dump id in dump file name
      Summary: minor, bring back dist targets Keywords: bldchn dist doc
      doc, fix, do not use structure (@unnumberedsec) inside @enumerate
      chore, mention src/sxemacs in gitignore fully qualified
      doc, fix, do not use @heading in @enumerate
      chore, list ALL texi files in info/ and subdirs
      fix, do not use @anchor in structuring commands
      chore, remove TEXI2DVI redefinitions
      chore, mention build chain .el files in lisp's Makefile.am
      chore, mention headers needed for the ase-set emod
      chore, move systty.h to src/ui/TTY/
      chore, put sxe-utils.h into distribution
      chore, remove VPATH fiddling from sxe-srctree.m4
      chore, don't mention non-existing files in Makefile.am's
      chore, name ase-resclass-test.el correctly
      chore, don't mention non-existing files in Makefile.am's

commit aee61c6403f884835505405f085e04cda6aac0c4
Merge: 7cf73e0 a09660b
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Mar 16 07:43:10 2012 +1000

    cosmetic fixes from Rudi
    
    * merges:
      cosmetics, correct fsf address in COPYING.LIB
      fix warnings, control reaches end of non-void function

commit f0ffdb51a8d0dd2be55e0d11f0f814cdc1d0c932
Merge: 27f2ee6 705f977
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Mar 15 18:20:27 2012 +0000

    Merge branch 'bldchn' into next
    
    * bldchn:
      cosmetics, list Installation and cpuid in distclean-local hook
      fix, comb out double-/ hiccups in invocation-{name,directory}
      chore, bldchn, remove dump file upon make uninstall
      chore, major, do not include dump id in dump file name

commit 705f97750e06cfc718294ada3ff5cc076b88ab91
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Mar 15 18:00:14 2012 +0000

    cosmetics, list Installation and cpuid in distclean-local hook
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 Makefile.am |    4 ++++
 1 file changed, 4 insertions(+)

commit f0f0fe77f47a4e25d5cd5f73d0ffac606aafa24d
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Mar 15 17:03:56 2012 +0000

    fix, comb out double-/ hiccups in invocation-{name,directory}
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/emacs.c |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit 89400919692044e43faf22c57222890bbecdece7
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Mar 15 17:01:23 2012 +0000

    chore, bldchn, remove dump file upon make uninstall
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/Makefile.am |    3 +++
 1 file changed, 3 insertions(+)

commit e5e3a022a35bf9b13ac2c4543be827c0ab5b6529
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Mar 15 17:00:39 2012 +0000

    chore, major, do not include dump id in dump file name
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 27f2ee60c194a74832912b6a65a8e33e55d92d98
Merge: 7cf73e0 b01a0f1
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Mar 15 18:19:12 2012 +0000

    Merge branch 'bldchn' into next
    
    * bldchn:
      Summary: minor, bring back dist targets Keywords: bldchn dist doc
      doc, fix, do not use structure (@unnumberedsec) inside @enumerate
      chore, mention src/sxemacs in gitignore fully qualified
      doc, fix, do not use @heading in @enumerate
      chore, list ALL texi files in info/ and subdirs
      fix, do not use @anchor in structuring commands
      chore, remove TEXI2DVI redefinitions
      chore, mention build chain .el files in lisp's Makefile.am
      chore, mention headers needed for the ase-set emod
      chore, move systty.h to src/ui/TTY/
      chore, put sxe-utils.h into distribution
      chore, remove VPATH fiddling from sxe-srctree.m4
      chore, don't mention non-existing files in Makefile.am's
      chore, name ase-resclass-test.el correctly
      chore, don't mention non-existing files in Makefile.am's

commit b01a0f18851663cd04a55d34239236ff941a598f
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Mar 15 12:09:29 2012 +0000

    Summary: minor, bring back dist targets
    Keywords: bldchn dist doc
    
    This changeset brings back the dist targets, in particular `distcheck'.
    On the way there loads of cleaning up is done.
    
    * .gitignore: explicitly mention src/sxemacs* (naming conflict)
    
    * Makefile.am: major, allow dist again
    
    * info/Makefile.am: kick TEXI2DVI redefinitions
      list all .texi files (recursively)
    
    * info/lispref/intro.texi: fix up @heading in @enumerate
    
    * info/sppm.texi: fix up @anchor in structuring commands
    
    * info/sxemacs/new.texi: fix up @unnumberedsec in @enumerate
    
    * lib-src/Makefile.am: kick ad2c script from the dist
    
    * lisp/Makefile.am: mention build chain .el's
    
    * m4/sxe-srctree.m4: remove VPATH fiddling ... this needs investigating
      who put it there and why?
    
    * modules/ase/Makefile.am: ship with header files
    
    * src/Makefile.am: ship with sxe-utils.h
    
    * src/callproc.c: move systty.h to src/ui/TTY/
    
    * src/emacs.c: move systty.h to src/ui/TTY/
    
    * src/process-unix.c: move systty.h to src/ui/TTY/
    
    * src/process.c: move systty.h to src/ui/TTY/
    
    * src/sysdep.c: move systty.h to src/ui/TTY/
    
    * src/ui/TTY/Makefile.am: move systty.h to src/ui/TTY/
    
    * src/ui/TTY/console-tty.h: move systty.h to src/ui/TTY/
    
    * src/ui/TTY/systty.h: move systty.h to src/ui/TTY/
    
    * src/ui/systty.h: move from to src/ui
    
    * tests/Makefile.am: typo
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 Makefile.am |    6 ------
 1 file changed, 6 deletions(-)

commit 6fbe8f82054c53b9e8c9c9ba037926f245c53da8
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Mar 15 07:45:47 2012 +0000

    doc, fix, do not use structure (@unnumberedsec) inside @enumerate
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 info/sxemacs/new.texi |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e2b1a6db4c91e6b9715d5016d4318e01e15b9e0c
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Mar 15 07:45:16 2012 +0000

    chore, mention src/sxemacs in gitignore fully qualified
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 .gitignore |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 20e9eb2dc01b9470e1274362c238eb0296439631
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Thu Mar 15 07:39:25 2012 +0000

    doc, fix, do not use @heading in @enumerate
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 info/lispref/intro.texi |    5 -----
 1 file changed, 5 deletions(-)

commit 1ab57011497712b43c2ac6f3af59890ca8e19201
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Wed Mar 14 15:22:35 2012 +0000

    chore, list ALL texi files in info/ and subdirs
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 info/Makefile.am |  147 ++++++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 143 insertions(+), 4 deletions(-)

commit a046d1d9d0aeaca986ca4f166c94e9bade2c5d90
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Wed Mar 14 14:42:06 2012 +0000

    fix, do not use @anchor in structuring commands
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 info/sppm.texi |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 01dbd6b3d2cd032a550a4c033f49031f68aa4f68
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Wed Mar 14 12:49:34 2012 +0000

    chore, remove TEXI2DVI redefinitions
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 info/Makefile.am |    3 ---
 1 file changed, 3 deletions(-)

commit 83e87dd89f1e53b7b805d3d5cbec79e70c6060fc
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Wed Mar 14 12:47:09 2012 +0000

    chore, mention build chain .el files in lisp's Makefile.am
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 lisp/Makefile.am |    4 ++++
 1 file changed, 4 insertions(+)

commit d264935e3e952db30e4fd4dab33e4305bf4b04f7
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Wed Mar 14 09:34:00 2012 +0000

    chore, mention headers needed for the ase-set emod
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 modules/ase/Makefile.am |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 5852a92ce5475a5d8201bfe42e59af4233916991
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Wed Mar 14 08:41:39 2012 +0000

    chore, move systty.h to src/ui/TTY/
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/callproc.c           |    2 +-
 src/emacs.c              |    2 +-
 src/process-unix.c       |    2 +-
 src/process.c            |    2 +-
 src/sysdep.c             |    8 +-
 src/ui/TTY/Makefile.am   |    1 +
 src/ui/TTY/console-tty.h |    2 +-
 src/ui/TTY/systty.h      |  392 ++++++++++++++++++++++++++++++++++++++++++++++
 src/ui/systty.h          |  392 ----------------------------------------------
 9 files changed, 402 insertions(+), 401 deletions(-)

commit b6a8d60dd35eefac4e9b9792b1505e5eb5447f94
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Wed Mar 14 08:31:03 2012 +0000

    chore, put sxe-utils.h into distribution
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/Makefile.am |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 50ea2dbffb4b370ebd526010dc223cba1ec63e74
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Tue Mar 13 17:21:02 2012 +0000

    chore, remove VPATH fiddling from sxe-srctree.m4
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 m4/sxe-srctree.m4 |    7 -------
 1 file changed, 7 deletions(-)

commit b64e87c0bc663f58df0924a5211f383149ca69ff
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Tue Mar 13 13:18:41 2012 +0000

    chore, don't mention non-existing files in Makefile.am's
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 lib-src/Makefile.am |    1 -
 1 file changed, 1 deletion(-)

commit 0b5ba98ca74a92d9b376411867a81f0ef086cba6
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Tue Mar 13 13:09:18 2012 +0000

    chore, name ase-resclass-test.el correctly
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 tests/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a02ee5feb9386d7352ad7be9bbd6a66894cd5576
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Tue Mar 13 13:08:47 2012 +0000

    chore, don't mention non-existing files in Makefile.am's
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 lisp/Makefile.am       |    1 -
 src/ui/TTY/Makefile.am |    2 +-
 2 files changed, 1 insertion(+), 2 deletions(-)

commit a09660b3d308c43201aecfdbcbd60f129324e023
Author: Ruediger Meier <ruediger.meier@ga-group.nl>
Date:   Thu Mar 15 12:36:51 2012 +0100

    cosmetics, correct fsf address in COPYING.LIB

 etc/COPYING.LIB |   11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit 81751ed42dba38a30cf9f0f88fd73cc773e441ec
Author: Ruediger Meier <ruediger.meier@ga-group.nl>
Date:   Thu Mar 15 12:07:57 2012 +0100

    fix warnings, control reaches end of non-void function
    
    See also Nelson's "Coverity: Missing break" patches 09e0c4e2, 100ad363,
    0c0a6fa6 and eef3d3ba.

 src/chartab.c          |    2 +-
 src/events/events.c    |    2 +-
 src/mule/file-coding.c |    4 ++--
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 7cf73e097476e8417b7208fc97d7b24d04316f1f
Merge: 018bbe6 e897fda
Author: Steve Youngs <steve@sxemacs.org>
Date:   Thu Mar 15 10:57:36 2012 +1000

    Fix return on non-void function from Rudi
    
    * merges:
      fix, return with no value, in function returning non-void

commit e897fda4b75953a3805e99412f07ef165c35a502
Author: Ruediger Meier <ruediger.meier@ga-group.nl>
Date:   Wed Mar 14 17:55:55 2012 +0100

    fix, return with no value, in function returning non-void
    
    followup 4da01e95
    
    Signed-off-by: Ruediger Meier <ruediger.meier@ga-group.nl>

 src/fileio.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 018bbe6690328aa2fa2062b957d99a0cee1c3634
Merge: 42297aa 31e8a7f
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Mar 14 12:10:25 2012 +1000

    Coverity fixes from Nelson
    
    * merges:
      Refactor
      Fix build
      Refactor
      Refactoring
      reflow
      Coverity CID 400832 Out of bounds access
      Small optimization

commit 31e8a7f7af30a232a29957cab97bd1f892df3d21
Merge: f38eadd 689ade4
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Mar 13 20:11:04 2012 -0400

    Merge branch 'njsf-cov' into for-steve

commit 689ade4250523c8e0e9b5cb30d7e9bbf566d2667
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Mar 13 20:10:38 2012 -0400

    Refactor
    
    	* src/mule/file-coding.c (autodetect_real_coding_system): New
    	function to reduce indentention of scope. Also as soon as stream
    	read fails, it returns, thus solving one of the coverity issues.
    	Several scope reduction refactorings.
    
    	* src/mule/file-coding.c (determine_real_coding_system): Call the
    	new function.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mule/file-coding.c |  223 +++++++++++++++++++++++++++---------------------
 1 file changed, 127 insertions(+), 96 deletions(-)

commit acb7fe4f9e6e8bbddb8e33e0d3c32581c96194e8
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Mar 11 22:08:20 2012 -0400

    Fix build
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mule/file-coding.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a8e061dda77b9793062716ececa4899aac30ba7b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Mar 11 21:11:12 2012 -0400

    Refactor
    
    	* src/mule/file-coding.c (determine_real_coding_system): Refactor
    	condition in inner for loop so that negative branch of the
    	condition will continue loop, and fall through is the old positive
    	condition branch.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mule/file-coding.c |   54 +++++++++++++++++++++++-------------------------
 1 file changed, 26 insertions(+), 28 deletions(-)

commit b6cf8397b9fc1dc0c03072340dcb3a9368ffdf4c
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Mar 11 21:01:50 2012 -0400

    Refactoring
    
    	* src/mule/file-coding.c (determine_real_coding_system): Static
    	local variable for the mime name chars and some added explicit
    	scope braces.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mule/file-coding.c |   23 ++++++++++++-----------
 1 file changed, 12 insertions(+), 11 deletions(-)

commit 362ab9a8a2e7fe7dd504c5cc05cb30a5e42a340b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Mar 11 20:57:30 2012 -0400

    reflow
    
    	* src/mule/file-coding.c (determine_real_coding_system): Reflow to make it easier to read and refactor.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mule/file-coding.c |   69 ++++++++++++++----------------------------------
 1 file changed, 20 insertions(+), 49 deletions(-)

commit 62c32374e0ba457a3f0e7dbcb4153593266c427e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Mar 11 19:45:52 2012 -0400

    Coverity CID 400832 Out of bounds access
    
    	* src/editfns.c (Ftemp_directory): Use proper size argument with xstrncat
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/editfns.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f38eaddc0bf40295a916fc3fafa0db18deb9d398
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Mar 11 19:42:58 2012 -0400

    Small optimization
    
    	* src/emodules-ng.c (__emodng_open_append_exts): New remain variable to keep
    	invariant computation...
    	* src/emodules-ng.c (__emodng_open_prepend_paths_append_exts): Ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/emodules-ng.c |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 42297aa1c61a3cbf0a681deaf8cf29d2c3df7e21
Merge: 9e1531f c8978fc
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Mar 10 09:43:14 2012 +1000

    Close Bug #135, fix test suite. From Sebastian
    
    * merges:
      Summary: fix, initialise cat morphism array properly, harden the tests Keywords: fix bug 135
      fix, change order of bitset in lrecord struct, hash_cache last
      cosmetics, turn morphism extern_inlines into static inlines
      test, run test suite with MALLOC_PERTURB_ set to be extra-harsh to the code
      test, introduce regression test for one MALLOC_PERTURB_ triggered crash
      Summary: fix, make sure ase-heap emits all symbols it needs Keywords: bld/chn

commit 9e1531f250e9d7153c9a86895e548ef0347da35b
Merge: c23a6b9 540b7a8
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Mar 10 09:26:07 2012 +1000

    Don't put the dumpfile in bin dir from Rudi
    
    * merges:
      bldchn fix, don't install buildir's dumpfile
      bldchn, install dumpfile into archlibdir
      try to read dumpfile also from libarchdir
      why the hell we don't have always EXEC_PATH available
      bldchn cleanup, remove/re-use some unused dumpfile related AM variables

commit c8978fc2f0bd65c07260c82139d7bbdeb391a41f
Merge: 07b6ccc 6ad2354
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Mar 9 17:16:28 2012 +0000

    Merge branch 'bug/135' into next
    
    * bug/135:
      Summary: fix, initialise cat morphism array properly, harden the tests Keywords: fix bug 135
      fix, change order of bitset in lrecord struct, hash_cache last
      cosmetics, turn morphism extern_inlines into static inlines
      test, run test suite with MALLOC_PERTURB_ set to be extra-harsh to the code
      test, introduce regression test for one MALLOC_PERTURB_ triggered crash

commit 6ad23541d65448b578b6f47ee37aea50e7cf225e
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Mar 9 17:15:02 2012 +0000

    Summary: fix, initialise cat morphism array properly, harden the tests
    Keywords: fix bug 135
    
    This changeset fixes an issue of using uninitialised memory (bug 135).
    
    * src/lrecord.h (set_lheader_implementation): properly initialise lheaders
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/lrecord.h |    2 ++
 1 file changed, 2 insertions(+)

commit 656acbee333923d866a41f4dbfeaab6f39f272dc
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Mar 9 17:14:45 2012 +0000

    fix, change order of bitset in lrecord struct, hash_cache last
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/lrecord.h |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7c1552baf5036f755c312248ae8a010ca5e60ad2
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Mar 9 17:13:46 2012 +0000

    cosmetics, turn morphism extern_inlines into static inlines
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/category.h |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 4fa92017d3928ebf29719757d48201a42293e756
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Mar 9 15:00:43 2012 +0000

    test, run test suite with MALLOC_PERTURB_ set to be extra-harsh to the code
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 tests/Makefile.am |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 23511fef7398ea7d84b9641fe78493cb302796cd
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Mar 9 14:57:53 2012 +0000

    test, introduce regression test for one MALLOC_PERTURB_ triggered crash
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 tests/automated/lisp-tests.el |    3 +++
 1 file changed, 3 insertions(+)

commit 07b6ccc3ecc55cfee07db1eb4fc92879a8350785
Merge: c23a6b9 bd1382c
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Mar 9 12:31:01 2012 +0000

    Merge branch 'bld/x32' into next
    
    * bld/x32:
      Summary: fix, make sure ase-heap emits all symbols it needs Keywords: bld/chn

commit bd1382ce2f7b2c44270d63e10899924e69042ab4
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Mar 9 12:30:04 2012 +0000

    Summary: fix, make sure ase-heap emits all symbols it needs
    Keywords: bld/chn
    
    This changeset fixes an issue with the ase-heap emodule.  Ctors and
    wrappers are now declared and defined in the file that they're used.
    
    * modules/ase/ase-heap.h: kick static inlines, no need to expose them
    
    * modules/ase/ase-heap.c: soak up static inlines decls from the header
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 modules/ase/ase-heap.c |   19 +++++++++++++------
 modules/ase/ase-heap.h |    6 ------
 2 files changed, 13 insertions(+), 12 deletions(-)

commit 540b7a85964fc472549af399a89ba905f0e3ca34
Author: Ruediger Meier <ruediger.meier@ga-group.nl>
Date:   Thu Mar 8 15:32:00 2012 +0100

    bldchn fix, don't install buildir's dumpfile
    
    This problem became visible since we create the symlink within
    archlibdir instead of bindir.
    Also we delete $(bindir)/sxemacs.dmp from older installations
    because unfortunately sxemacs would still try this first.
    
    Signed-off-by: Ruediger Meier <ruediger.meier@ga-group.nl>

 src/Makefile.am |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit f62492a20d240bb083552924aa54dfa9c3ab4d80
Author: Ruediger Meier <ruediger.meier@ga-group.nl>
Date:   Thu Mar 8 15:16:55 2012 +0100

    bldchn, install dumpfile into archlibdir
    
    Also we only install the one which is named with dump_id.
    
    Signed-off-by: Ruediger Meier <ruediger.meier@ga-group.nl>

 src/Makefile.am |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit d3fb02c5bddbff7c97246a7c5170ae8cffd03578
Author: Ruediger Meier <ruediger.meier@ga-group.nl>
Date:   Thu Mar 8 15:01:43 2012 +0100

    try to read dumpfile also from libarchdir
    
    Signed-off-by: Ruediger Meier <ruediger.meier@ga-group.nl>

 src/dumper.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 246f188eacab2381b00e61f8244493bcb302cb3b
Author: Ruediger Meier <ruediger.meier@ga-group.nl>
Date:   Thu Mar 8 14:45:51 2012 +0100

    why the hell we don't have always EXEC_PATH available
    
    Does this break anything?
    
    Signed-off-by: Ruediger Meier <ruediger.meier@ga-group.nl>

 src/sxe-paths.h.in |    2 --
 1 file changed, 2 deletions(-)

commit a3e5216ce63731f7730b7ccd64109bf01e54cf23
Author: Ruediger Meier <ruediger.meier@ga-group.nl>
Date:   Wed Mar 7 17:52:43 2012 +0100

    bldchn cleanup, remove/re-use some unused dumpfile related AM variables
    
    This does not change anything.
    
    Signed-off-by: Ruediger Meier <ruediger.meier@ga-group.nl>

 src/Makefile.am |   11 ++++-------
 1 file changed, 4 insertions(+), 7 deletions(-)

commit c23a6b9d177fa381447bdac49aefe5a028d8d487
Merge: a1ec340 e7ee5bd
Author: Steve Youngs <steve@sxemacs.org>
Date:   Thu Mar 8 08:24:54 2012 +1000

    Coverity and build fixes from Nelson
    
    * merges:
      Coverity: CID 400010: Improper use of negative value
      Coverity: CID 400001: Logically dead code
      Coverity: CID 400005: Division or modulo by zero
      Coverity: CID 400007: Deference after null check
      Coverity: CID 400831: Out of bonds access
      Coverity: CID 400832: Out of bounds access
      Fix build
      Fix the relocate_fd
      Coverity CID 400833 UNINIT

commit e7ee5bd7a42e63e991a7ecb8d03c83d59a9b35f4
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Mar 7 10:21:00 2012 -0500

    Coverity: CID 400010: Improper use of negative value
    
    	* src/ui/minibuf.c (echo_area_append): Make sure length<0 also
    	returns early here.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/minibuf.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eaec8ad2fad951d293c7957dfc3d501da73c0a59
Merge: 0857f5c 3864610
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Mar 7 09:58:51 2012 -0500

    Merge branch 'for-steve' into njsf-cov

commit 0857f5c2b0572bc5919c0f642ede105d11a30423
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Mar 7 09:41:24 2012 -0500

    Coverity: CID 400001: Logically dead code
    
    	* lib-src/etags.c (get_language_from_filename): Rework code a
    	little so that Coverity does not get fooled by ternary operator.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/etags.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 35b84f290d01a60e6a86f851d61c8fc48b992d0e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Mar 7 09:37:39 2012 -0500

    Coverity: CID 400005: Division or modulo by zero
    
    	* src/media/sound-oss.c (sound_oss_play): Fix gross condition
    	error of previous change
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/sound-oss.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6d5921086d737aafb6908854c09c7159d9fbbff5
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Mar 7 09:36:29 2012 -0500

    Coverity: CID 400007: Deference after null check
    
    	* src/eval.c (Finteractive_p): Make sure btp is not NULL before
    	dereference.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/eval.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 405a28b59eaddcc0a1aae2610f267c997236b6cd
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Mar 7 09:32:01 2012 -0500

    Coverity: CID 400831: Out of bonds access
    
    	* src/fileio.c: Provide proper length to xstrncat
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/fileio.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f084bb64e68a4c3a9ab034eb62fc4c94f8dcb736
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Mar 7 09:30:31 2012 -0500

    Coverity: CID 400832: Out of bounds access
    
    	* src/editfns.c (Ftemp_directory): Proper size passed to xstrncat
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/editfns.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 386461097083c0d6c8321d9ec63f720b7a140375
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Mar 7 09:13:54 2012 -0500

    Fix build
    
    	* src/callproc.c (relocate_fd): fix the argument rename usage
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/callproc.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 1c06832a88bd4f2903f4c0d6cf9b38420b5debec
Merge: 830828d a1ec340
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Mar 7 08:29:21 2012 -0500

    Merge branch 'master' into for-steve

commit 830828df16191311ff2ded5b60307168341320bf
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Mar 7 08:25:49 2012 -0500

    Fix the relocate_fd
    
    	* src/callproc.c (max_filedesc): New function to determine the
    	actual maximum file descriptor.
    
    	* src/callproc.c (relocate_fd): Realized previous use of just dup
    	was actually better, made sure that the closing of temporary duped
    	file descriptors was commented.
    
    	* src/emacs.c (__sys_stk_sz): Minor cosmetic variable rename.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/callproc.c |   97 +++++++++++++++++++++++++++++++++++++-------------------
 src/emacs.c    |   12 +++----
 2 files changed, 70 insertions(+), 39 deletions(-)

commit 83ecc1d5192557c8aa7b143eee4e5f99a4779da3
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Mar 7 07:49:20 2012 -0500

    Coverity CID 400833 UNINIT
    
    	* src/sysdep.c (raw_open): Use the proper argument for open
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/sysdep.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit a1ec340a77f328d3599339c47d6c241d7e07ec35
Merge: 562cbe3 eea0fe8
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Mar 7 13:03:07 2012 +1000

    test suite fixes from Nelson
    
    * merges:
      Why are quick fixes so bad ? Because they break more than they fix

commit eea0fe8fcf6443eecd4c9640c7f0fab7492deb54
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Mar 6 21:47:39 2012 -0500

    Why are quick fixes so bad ? Because they break more than they fix
    
    	* src/emodules-ng.c (__emodng_open_prepend_paths): Fix xstpncpy
    	arguments. For real this time.
    
    	* src/emodules-ng.c (__emodng_open_prepend_paths_append_exts): Ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/emodules-ng.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 562cbe3799dc430bcd37e9df75558ba83aacfe3b
Merge: a22e54a 53c2162
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Mar 7 12:45:29 2012 +1000

    test suite fixes from Nelson
    
    * merges:
      Improve relocate_fd with dup2
      Fix build

commit 53c2162223a524221a5672af07da9f1110de5a26
Merge: 67d4837 cb79e2f
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Mar 6 20:58:18 2012 -0500

    Merge branch 'njsf-cov' into for-steve

commit cb79e2fc5f53faf43c1cc0f9d4b85a34d92d36cc
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Mar 6 20:53:56 2012 -0500

    Improve relocate_fd with dup2
    
    	* src/callproc.c (relocate_fd): Satisfy checkers for return values
    	until proper check of getrlimit is implemented
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/callproc.c |    2 ++
 1 file changed, 2 insertions(+)

commit 0bc9046449a68bea1d248bf98a7ec680fbfab0ea
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Mar 6 20:50:52 2012 -0500

    Fix build
    
    	* src/emodules-ng.c (__emodng_open_prepend_paths): Correct usage of xstpcpy size argument.
    	* src/emodules-ng.c (_adapt_load_path): Ditto.
    	* src/emodules-ng.c (__emodng_open_prepend_paths_append_exts): Fix indentation
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/emodules-ng.c |    9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit a22e54a8ddafa76046ade0313e6df717b1ab651f
Merge: 434592f 67d4837
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Mar 7 08:20:11 2012 +1000

    Fix autoload breakage from prev changeset from Nelson
    
    * merges:
      Fix introduced bug by coverity fix attempt

commit 67d4837947349612fb868f3afafd9e03f61ad67a
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Mar 6 08:25:08 2012 -0500

    Fix introduced bug by coverity fix attempt
    
    	* src/search.c (boyer_moore): User REGEXP_FASTMAP_MASK for the
    	bit-and instead of the REGEXP_FASTMAP_SIZE (which is clearly
    	wrong).
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/search.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 434592f23673e769e8207c89a153b28e1f5aec18
Merge: 90b5e66 c9752ce
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Mar 6 17:39:44 2012 +1000

    build fix from Nelson
    
    * merges:
      Make sure list-load-path-shadows can work after dmp

commit 90b5e667cb2b0ac7599d6a85415da9351350aed1
Merge: ba7e774 8134a31
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Mar 6 17:32:06 2012 +1000

    Coverity and build chain fixes from Nelson
    
    * merges:
      Coverity: Resource leak: CID 400015
      Fix configure.ac
      Fix configure
      xstrncpy saga
      xstrncpy saga
      xstrncpy saga
      Fix tty build broken in last configure.ac changes
      Do not add tty objects when no tty is available
      Coverity: CID 400005: Division or modulo by zero
      Coverity: CID 400006: Division or modulo by zero
      Coverity: Out of bounds write: CID 21140
      Coverity: CID 400012 Overrun dynamic
      Fix build for branches without tags
      Coverity CID 400013 Printf arg type mismatch
      Coverity: CID 400031: Tainted string
      Coverity: CID 400829: Uninit
      Use dup2 if available for -t. Also check for ttyname and isatty in configure.
      Coverity: CID 400828 Resource leak
      Use AS_IF instead of if some places - be more M4sh friendly
      Update copyright, remove unused ent arguments

commit c9752ce45c912e4765e7aee9a9f58abdb712e96e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Mar 6 02:18:10 2012 -0500

    Make sure list-load-path-shadows can work after dmp
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8134a314ad31818920d8453577a4cd81fccc47ee
Merge: 97e22d6 38a15be
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Mar 6 02:13:23 2012 -0500

    Merge branch 'master' of ssh://dio.dreamhost.com/~/repos.nelsonferreira.com/git/sxemacs into for-steve

commit 38a15bee85f3ff776cb72ff20e197ff75e0dcdcd
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Mar 6 02:10:19 2012 -0500

    Coverity: Resource leak: CID 400015
    
    	* src/callproc.c (relocate_fd): Make sure that dup'ed file
    	descriptors < min are closed. In addition, make a better version
    	when dup2 is available.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/callproc.c |   22 +++++++++++++++++++++-
 1 file changed, 21 insertions(+), 1 deletion(-)

commit 97e22d6df762d8d9222904cde69d2e588c41d7d5
Merge: 3a96bec ad5f920
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Mar 6 01:29:23 2012 -0500

    Merge remote-tracking branch 'njsf/for-steve' into for-steve

commit 3a96becc409b695178b974844a604192a5c3081c
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Mar 6 01:27:19 2012 -0500

    Fix configure.ac
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit ad5f920d763d93cbdd35e81d9371b9217e7c88ea
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Mar 6 01:02:32 2012 -0500

    Fix configure
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit b3e7d0ea81446e84b64e735ca9fe24b7db05bd11
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Mar 6 00:58:48 2012 -0500

    xstrncpy saga
    
    	* src/emodules-ng.c (__emodng_open_append_exts): Use xstrncpy instead of strncpy
    	* src/emodules-ng.c (__emodng_open_prepend_paths): Ditto.
    	* src/emodules-ng.c (__emodng_open_prepend_paths_append_exts): Ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/emodules-ng.c |   19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

commit a53ee8d977b9c8f5126b51c3b0d01b3eaafe954a
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Mar 6 00:52:11 2012 -0500

    xstrncpy saga
    
    	* src/editfns.c (Ftemp_directory): Use xstrncpy instead of strncpy
    	and xstrncat instead of strcat
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/editfns.c |   13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit beb66f146c137a0f705a6b778b6d0c93cb521a9e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Mar 6 00:50:05 2012 -0500

    xstrncpy saga
    
    	* src/database/postgresql.c (Fpq_connectdb): Use xstrncpy instead of strncpy
    	* src/database/postgresql.c (Fpq_connect_start): Ditto.
    	* src/database/postgresql.c (Fpq_exec): Ditto.
    	* src/database/postgresql.c (Fpq_get_result): Ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/database/postgresql.c |   18 ++++++------------
 1 file changed, 6 insertions(+), 12 deletions(-)

commit 0ecabdad92d3d416357f888a3e7d045219ed321c
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Mar 6 00:33:16 2012 -0500

    Fix tty build broken in last configure.ac changes
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac |    8 ++++++++
 1 file changed, 8 insertions(+)

commit ca52abdc354d49e06fd5275eb49b5b98da12a7f3
Merge: 8a0fe37 fa80d3a
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Mar 5 22:08:38 2012 -0500

    Merge branch 'for-steve' into njsf-tty

commit 8a0fe377f71a4435233a3733267e5e7c0ff496b9
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Mar 5 21:50:30 2012 -0500

    Do not add tty objects when no tty is available
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac |  105 ++++++++++++++++++++++++++++++++++++++++------------------
 1 file changed, 72 insertions(+), 33 deletions(-)

commit fa80d3a3a724ad6ef960ca63c2e0ce6d3fe99a44
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Mar 5 20:57:31 2012 -0500

    Coverity: CID 400005: Division or modulo by zero
    
    	* src/media/sound-oss.c (sound_oss_play): Abort early when channels is 0.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/sound-oss.c |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 212178d3835bada77dd817652e7db9c7aa88e20f
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Mar 5 19:53:42 2012 -0500

    Coverity: CID 400006: Division or modulo by zero
    
    	* src/ui/window.c (Fwindow_displayed_text_pixel_height): Make sure
    	no division by 0 is attempted and use "best heuristic" of just
    	adding 3.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/window.c |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 28b64380c436c42e0002fa56c0a0a6f999ca1a71
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Mar 5 18:04:10 2012 -0500

    Coverity: Out of bounds write: CID 21140
    
    	* src/search.c (boyer_moore): Make it explicit that the value will
    	always be within the range of the index. Previously it was a side
    	effect of the downcast to unsigned char, now its explicit.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/search.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 2433e7889a1123560e1a086140a319b0a9fd0425
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Mar 5 17:45:25 2012 -0500

    Coverity: CID 400012 Overrun dynamic
    
    	* lib-src/gnuclient.c (clean_string): Avoid coverity aliasing
    	shortcomings by reusing the same variable where the length is
    	calculate for the copy pass.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/gnuclient.c |   21 ++++++++++-----------
 1 file changed, 10 insertions(+), 11 deletions(-)

commit 7543dbf60f4b03c4af67015d7f89bae53a94180d
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Mar 5 17:43:17 2012 -0500

    Fix build for branches without tags
    
    	* autogen.sh (emacs_is_beta): Correct the text for branches
    	without the release tags...
    
    	* lib-src/make-dump-id.c: Include the config.h from the proper
    	directory. This was not an issue for a long time, since there was
    	always a tag when under git control. make-dump-id was only
    	compiled then. Now in autogen.sh we will always make sure there is
    	a tree version, so this will no longer be an issue again.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 autogen.sh             |   11 +++++++++--
 lib-src/make-dump-id.c |    2 +-
 2 files changed, 10 insertions(+), 3 deletions(-)

commit 043a13238092a6d351ce54e2041852cc1cdbce01
Merge: 5b62e7b 086d8b4
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Mar 5 14:38:46 2012 -0500

    Merge remote-tracking branch 'njsf/for-steve' into for-steve

commit 5b62e7b113a105cafce699cb6d8f2d88005ba704
Merge: 30a0b2f ba7e774
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Mar 5 14:35:38 2012 -0500

    Merge remote-tracking branch 'origin/master' into for-steve

commit 30a0b2fed5d7156fde7189561ff50f263f1abec0
Merge: 520164a 84d2a81
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Mar 5 14:34:32 2012 -0500

    Merge branch 'master' of ssh://dio.dreamhost.com/~/repos.nelsonferreira.com/git/sxemacs into for-steve

commit 086d8b4086119b0a2d84ae08c2b17dd81c5d3312
Merge: e403175 84d2a81
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Mar 5 14:33:35 2012 -0500

    Merge branch 'master' into njsf-cov

commit 84d2a815e9fdf80288ba4d1c852889bd3fe0fb26
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Mar 5 14:33:11 2012 -0500

    Coverity CID 400013 Printf arg type mismatch
    
    	* lib-src/make-path.c: Include string.h so that strerror is
    	properly defined.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/make-path.c |    1 +
 1 file changed, 1 insertion(+)

commit e403175f67de86a00d2da9dd5dfaa86100c9e211
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Mar 5 13:11:52 2012 -0500

    Coverity: CID 400031: Tainted string
    
    	* lib-src/yow.c (main): Make sure argv[2] is not NULL before copying
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/yow.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2f898f9f07b60b2352daebd79398a81645cfb640
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Mar 5 13:09:31 2012 -0500

    Coverity: CID 400829: Uninit
    
    	* src/media/media.c (Fmedia_stream_aspect): Initialize the
    	potential return value to nil
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 438b1b3578c66d99b29c6cdf7ec3a5c44edd71d1
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Mar 5 12:52:55 2012 -0500

    Use dup2 if available for -t. Also check for ttyname and isatty in configure.
    
    	* configure.ac: Add some additional functions to check and add the
    	HAVE_ISATTY and HAVE_TTYNAME
    
    	* src/emacs.c (main_1): Enhance the logging of -t with ttyname if
    	it is available.
    
    	* src/emacs.c (main_1): Use raw_open instead of open to avoid
    	using the format conversion of the filename, which at this early
    	stage is not setup yet.
    
    	* src/emacs.c (main_1): use dup2 if available to dup the opened
    	file (and then close the original descriptor). This is much more
    	reliable than close then open, since dup2 will make sure the
    	descriptor number will be the desired.
    
    	* src/eval.c (grow_specpdl): If grow_specpdl is called very early
    	on specpdl_size is 0 and will loop infinitely here because 2 * 0
    	== 0 ;)
    
    	* src/sysdep.c (raw_open): New function that just calls the system
    	open with no argument conversion at all
    
    	* src/sysfile.h: declare the new raw_open function.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac  |    7 ++++++-
 src/buffer.c  |   10 ++++++----
 src/emacs.c   |   33 ++++++++++++++++++++++++++++-----
 src/eval.c    |    2 ++
 src/sysdep.c  |   13 +++++++++++++
 src/sysfile.h |    2 ++
 6 files changed, 57 insertions(+), 10 deletions(-)

commit 5a365d9e21766d2ff0318ddbda9a5ae75e540fbb
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Mar 4 20:19:52 2012 -0500

    Coverity: CID 400828 Resource leak
    
    	* src/emacs.c (main_1): Make sure second dup is fdesc 1
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/emacs.c |    1 +
 1 file changed, 1 insertion(+)

commit ba7e77403bb81044ed8ece7c67e527ee813ce55e
Merge: 1d3633b 520164a
Author: Steve Youngs <steve@sxemacs.org>
Date:   Mon Mar 5 09:22:38 2012 +1000

    xstrncpy updates from Nelson
    
    * merges:
      xstrncpy saga
      xstrncpy saga
      xstrncpy saga
      xstrncpy saga

commit 520164a88735f7edb87b967b95d1e251c3806a3c
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Mar 4 17:12:24 2012 -0500

    xstrncpy saga
    
    	* src/effi.c (Fffi_load_library): use xstrncpy instead of strncpy, strncat
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/effi.c         |    8 ++++----
 src/extents.c      |    6 +++---
 src/ui/redisplay.c |    2 +-
 3 files changed, 8 insertions(+), 8 deletions(-)

commit 051da61fd970ef8298318ce4d0f82ed8b63418fd
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Mar 4 16:57:18 2012 -0500

    xstrncpy saga
    
    	* src/dumper.c (pdump_load): Use xstrncpy instead of strcpy
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/dumper.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1706db16f1408aacb1cbff6d8731c9b7b0fad1ad
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Mar 4 16:55:45 2012 -0500

    xstrncpy saga
    
    	* src/sysdep.c (init_system_name): use xstrncpy instead of strcpy
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/sysdep.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 09dc30c092e1ae78e278e419f972ab855c1290f3
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Mar 4 16:51:53 2012 -0500

    xstrncpy saga
    
    	* src/sysdep.c (init_system_name): Use xstrncpy instead of strncpy
    	* src/sysdep.c (readdir): Ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/sysdep.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 22358b9fd6432fd280326667bd26075056111366
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Mar 4 00:00:09 2012 -0500

    Use AS_IF instead of if some places - be more M4sh friendly
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac |   31 +++++++++++--------------------
 1 file changed, 11 insertions(+), 20 deletions(-)

commit fe5430c913b6b7d6d31d04b3425a6b56eee0e7a6
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Mar 3 23:57:17 2012 -0500

    Update copyright, remove unused ent arguments
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac |    5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 1d3633b7c863088bb68c0a14c180e933edab5944
Merge: 8dc0ec0 e261958
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sun Mar 4 11:48:48 2012 +1000

    Various build updates from Nelson
    
    * merges:
      Add the new silent-rules options to the list of known configure opts
      Warn about ignored tty 'with' options. Fix if with missing fi
      Add additional tty lib 'with' options
      issue warning when no tty nor window system available
      Enable silent building, ie --enable-silent-rules and make V=0
      Correct the remote configuration command message
      new SXE_CHECK_LINK_LIB macro
      Add summary for additional tty libraries
      Rename git-to-steve -> git-for-steve
      xstrncpy saga
      Better checking of string and memory operations. Also, add define FORBID_STRCPY to make runtime asserts on usage of strcpy, strcat and stpcpy.
      xstrncpy saga
      xstrncpy saga
      xstrncpy saga
      xstrncpy saga

commit e2619581b529b0a0ebea7f02b12b77ed3f5143ef
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sun Mar 4 11:48:00 2012 +1000

    Add the new silent-rules options to the list of known configure opts
    
    	* m4/sxe-aux.m4 (_SXE_CHECK_PURE_OPT): Add silent-rules options to
    	list of known configure opts.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 m4/sxe-aux.m4 |    1 +
 1 file changed, 1 insertion(+)

commit 8dc0ec0c10699d344ad3bc1ad4161952d65a22ab
Merge: 63fddcd db56e30
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sun Mar 4 11:00:55 2012 +1000

    FFI update from Aidan
    
    * merges:
      Avoid namespace pollution, runtime consing, #'define-ffi-function

commit db56e30dc28e4ae36aa3a6c3ddf8960261f5dfcb
Author: Aidan Kehoe <kehoea@parhasard.net>
Date:   Sat Mar 3 15:19:35 2012 +0000

    Avoid namespace pollution, runtime consing, #'define-ffi-function

 lisp/ffi.el |   27 +++++++++------------------
 1 file changed, 9 insertions(+), 18 deletions(-)

commit 44948eb20e121ae7df6dfa1a99af863abee386f6
Merge: 2bd6f85 e54f828
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Mar 3 00:33:54 2012 -0500

    Merge remote-tracking branch 'njsf/for-steve' into for-steve

commit 2bd6f85ce9abc38a1033881e210f87eae32dfdf2
Merge: 20a6a16 63fddcd
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Mar 3 00:33:34 2012 -0500

    Merge branch 'master' of ssh://dio.dreamhost.com/~/repos.nelsonferreira.com/git/sxemacs into for-steve

commit e54f82869ca4a079e9f07792f367f1d357dd63f2
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Mar 3 00:30:44 2012 -0500

    Warn about ignored tty 'with' options. Fix if with missing fi
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 0d72c7c4fb08d4728ab0ca7628f39a932ae36d87
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Mar 3 00:17:10 2012 -0500

    Add additional tty lib 'with' options
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac |   21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit c13859ecc4830cb52b439831d69e5413cbfa15d9
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Mar 3 00:14:44 2012 -0500

    issue warning when no tty nor window system available
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 75e7c4d6d20b0b5bc91c45f60f979fa6213939ef
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Mar 3 00:11:28 2012 -0500

    Enable silent building, ie --enable-silent-rules and make V=0
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac |    1 +
 1 file changed, 1 insertion(+)

commit 19296cbb61a1a356bba0c0359c5ab2f96c851151
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Mar 3 00:00:23 2012 -0500

    Correct the remote configuration command message
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 contrib/git-for-steve.sh |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d8b55aafc38e0f24ba49ea5e3e72030da68ee837
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Mar 2 23:53:55 2012 -0500

    new SXE_CHECK_LINK_LIB macro
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 m4/sxe-linker.m4 |   32 ++++++++++++++++++++++++++++++++
 1 file changed, 32 insertions(+)

commit 8df50908b1f03c46b5919699d5d2288524535728
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Mar 2 23:51:42 2012 -0500

    Add summary for additional tty libraries
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 m4/sxe-summary.m4 |    4 ++++
 1 file changed, 4 insertions(+)

commit 49dddce345ca231de1120f88e91bb175eb430fed
Merge: a115e46 20a6a16
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Mar 2 23:49:39 2012 -0500

    Merge remote-tracking branch 'njsf/for-steve' into for-steve

commit a115e4605e43513cc4fd139ca04e8417cb38d323
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Mar 2 23:48:03 2012 -0500

    Rename git-to-steve -> git-for-steve
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 contrib/README           |    4 +--
 contrib/git-for-steve.sh |   85 ++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 87 insertions(+), 2 deletions(-)

commit 20a6a16c109742a7fb6f91a256afd8f553f2a6b0
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Mar 2 23:15:07 2012 -0500

    xstrncpy saga
    
    	* src/fileio.c (file_name_as_directory): Use xstrncpy and change
    	prototype to take in buffer length.
    
    	* src/fileio.c (directory_file_name): Ditto.
    
    	* src/fileio.c (Ffile_name_as_directory): properly call
    	file_name_as_directory with buffer length.
    	* src/fileio.c (Fdirectory_file_name): ditto.
    
    	* src/fileio.c (Fexpand_file_name): Use xstrncat instead of strcat.
    
    	* src/fileio.c (Fdirectory_file_name): properly call
    	directory_file_name with buffer length.
    
    	* src/fileio.c (Fsubstitute_in_file_name): use xstrncpy instead of
    	strcpy keeping track of buffer availability.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/fileio.c |   46 ++++++++++++++++++++++++++++------------------
 1 file changed, 28 insertions(+), 18 deletions(-)

commit f58e60c4103450d300d97669f9efddf7e603c746
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Mar 2 23:07:47 2012 -0500

    Better checking of string and memory operations.
    Also, add define FORBID_STRCPY to make runtime asserts on usage of strcpy, strcat and stpcpy.
    
    	* src/sysdep.h: Move xstrlen, xstrcmp, xstrcat, xstrncmp,
    	xstrncat, xstrncpy, xstpcpy, xstpncpy, xmemcmp, xmemcpy to
    	sxe-utils.h
    
    	* src/sysdep.h (x__dirlen): always_inline..
    	* src/sysdep.h (x__dirname): ditto.
    	* src/sysdep.h (xdirname): ditto.
    
    	* src/sxe-utils.h (xstrlen): move from sysdep.h
    	* src/sxe-utils.h (xstrcmp): ditto.
    	* src/sxe-utils.h (xstrncmp): ditto.
    	* src/sxe-utils.h (xstrncat): ditto.
    	* src/sxe-utils.h (xstrncpy): ditto.
    	* src/sxe-utils.h (xstpcpy): ditto.
    	* src/sxe-utils.h (xstpncpy): ditto.
    	* src/sxe-utils.h (xmemcmp): ditto.
    	* src/sxe-utils.h (xmemcpy): ditto.
    	* src/sxe-utils.h (xmin_size_t): ditto.
    
    	* src/sxe-utils.h (no_strcpy): New forbidden strcpy
    	* src/sxe-utils.h (no_strcat): New forbidden strcat
    	* src/sxe-utils.h (no_stpcpy): New forbidden stpcpy
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/sxe-utils.h |  115 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/sysdep.h    |   72 +++++-----------------------------
 2 files changed, 124 insertions(+), 63 deletions(-)

commit a7822c51d777db6952411d17aa17858215e26cfe
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Mar 2 17:56:47 2012 -0500

    xstrncpy saga
    
    	* src/dumper.c (pdump_load): Use xstrncpy instead of strncpy
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/dumper.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit bd9104762599054a720f693071729923747f669c
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Mar 2 17:29:57 2012 -0500

    xstrncpy saga
    
    	* src/sysdep.h (xstrncpy): New inline function.
    	* src/sysdep.h (xstpncpy): Use xstrncpy instead of strncpy
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/sysdep.h |   11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 4df9aaa5e7f7d80cfc5138c1a004633451f96d4a
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Mar 2 16:20:19 2012 -0500

    xstrncpy saga
    
    	* lib-src/fakemail.c (make_file_preface): Use xstrncpy instead of strncpy
    	* lib-src/fakemail.c (read_header): ditto.
    	* lib-src/fakemail.c (main): ditto.
    	* lib-src/gnuclient.c (main): ditto.
    	* lib-src/gnuserv.c (handle_ipc_request): ditto.
    	* lib-src/movemail.c (concat): ditto.
    	* lib-src/movemail.c (pop_retr): ditto.
    	* lib-src/movemail.c (pop_retr): ditto.
    	* lib-src/movemail.c (pop_search_top): ditto.
    	* lib-src/movemail.c (pop_search_top): ditto.
    	* lib-src/ootags.c (consider_token): ditto.
    	* lib-src/ootags.c (C_entries): ditto.
    	* lib-src/ootags.c (Pascal_functions): ditto.
    	* lib-src/ootags.c (Prolog_functions): ditto.
    	* lib-src/ootags.c (Erlang_functions): ditto.
    	* lib-src/ootags.c (substitute): ditto.
    	* lib-src/ootags.c (savenstr): ditto.
    	* lib-src/pop.c (pop_stat): ditto.
    	* lib-src/pop.c (pop_list): ditto.
    	* lib-src/pop.c (pop_multi_first): ditto.
    	* lib-src/pop.c (pop_last): ditto.
    	* lib-src/pop.c (getok): ditto.
    	* lib-src/yow.c (main): ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/fakemail.c  |   19 +++++++++++++------
 lib-src/gnuclient.c |   11 +++++++++--
 lib-src/gnuserv.c   |    9 ++++++++-
 lib-src/movemail.c  |   22 +++++++++++++++-------
 lib-src/ootags.c    |   22 +++++++++++++++-------
 lib-src/pop.c       |   17 ++++++++++++-----
 lib-src/yow.c       |   10 +++++++++-
 7 files changed, 81 insertions(+), 29 deletions(-)

commit f963f2d7143180394b52e4607581a96f8c8b8b8a
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Mar 2 16:12:41 2012 -0500

    xstrncpy saga
    
    	* lib-src/etags.c (xstrncpy): cosmetic changes to xstrncpy macro
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/etags.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 63fddcde25bd36a5629c8efe0e4ec739a024e039
Merge: 7c6f2bf a9bcc15
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Mar 2 09:19:07 2012 +1000

    Coverity fixes from Nelson
    
    * merges:
      Kill some spurious whitespace
      Coverity: Resource leak: CID 400020
      Coverity: Resource leak: CID 400022
      Coverity: Resource leak: CID 400023
      Coverity: Resource leak: 400024
      Coverity: Stray pointer arithmetic: CID 400000
      Coverity: Division by zero: CID 400004
      Coverity: Resource leak: CID 400025
      Coverity: Resource Leak: CID 400026
      Don't use strncpy, instead use *dest='\0' followed by strncat (with len-1)
      Coverity: CID 21065: Missing break
      Coverity: DEADCODE: CID 583

commit a9bcc158b7c1ddd77271d9e7b847bc2392a35288
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Mar 2 09:18:20 2012 +1000

    Kill some spurious whitespace
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/ui/redisplay.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ec1c1203c9fea418ec1b6205bd176774175a8e43
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 29 16:11:08 2012 -0500

    Coverity: Resource leak: CID 400020
    
    	* src/editfns.c (Ftemp_directory): Check against 0 too. Unlikely
    	but possible.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/editfns.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9700db036cd49ef981bd82386ff0f58000ecfa05
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 29 16:07:06 2012 -0500

    Coverity: Resource leak: CID 400022
    
    	* src/emacs.c (main_1): Make sure the temporary descriptor is 0,
    	which makes the "leak" intentional.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/emacs.c |   13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit 4da01e9594590f7745ec4477424d696d538c1932
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 29 15:19:03 2012 -0500

    Coverity: Resource leak: CID 400023
    
    	* src/fileio.c (Fcopy_file): make sure ifd is closed
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/fileio.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 86de690da2852434bd881faf689681f11507df71
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 29 15:15:00 2012 -0500

    Coverity: Resource leak: 400024
    
    	* src/fileio.c (Fdo_auto_save): Make sure file is closed
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/fileio.c |    2 ++
 1 file changed, 2 insertions(+)

commit 988d3d4348b6d9342413a4b225fc2bb6dece934e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 29 14:57:22 2012 -0500

    Coverity: Stray pointer arithmetic: CID 400000
    
    	* src/callint.c (Fcall_interactively): add new fcall array, which
    	is the one allocated, and make args value derive from that. Fill
    	in function in fcall, and arguments in args.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/callint.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 2c7dca0a6ea03a156366f1ffe8f3245e70958149
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 29 14:53:52 2012 -0500

    Coverity: Division by zero: CID 400004
    
    	* src/media/media.c (Fmedia_stream_aspect): assert for den != 0,
    	with additional check for the "already crashing" scenario.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 9d3aa5082770359aeb548ada81dd396d77eed48a
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 29 14:52:07 2012 -0500

    Coverity: Resource leak: CID 400025
    
    	* src/ui/X11/glyphs-x.c (x_init_image_instance_from_eimage): Free
    	pixtbl if we are not using it...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/glyphs-x.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit bb68254b24f8835c7f3ced8518171c05032b8101
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 29 14:49:01 2012 -0500

    Coverity: Resource Leak: CID 400026
    
    	* src/ui/redisplay.c (add_glyph_rune): Dynarr_free not used
    	allocated memory.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/redisplay.c |   11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 7d99f36b3429ffed444c380ecd024db1081bc110
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 29 13:29:13 2012 -0500

    Don't use strncpy, instead use *dest='\0' followed by strncat (with len-1)
    
    	* lib-src/etags.c (write_classname): use xstrncpy instead of strncpy
    	* lib-src/etags.c (consider_token): ditto.
    	* lib-src/etags.c (C_entries): ditto.
    	* lib-src/etags.c (Pascal_functions): ditto.
    	* lib-src/etags.c (HTML_lables): ditto.
    	* lib-src/etags.c (Prolog_functions): ditto.
    	* lib-src/etags.c (Erlang_functions): ditto.
    	* lib-src/etags.c (substitute): ditto.
    	* lib-src/etags.c (readline_internal): ditto.
    	* lib-src/etags.c (savenstr): ditto.
    	* lib-src/etags.c (concat): ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/etags.c |   30 ++++++++++++++++--------------
 1 file changed, 16 insertions(+), 14 deletions(-)

commit 4578ea8be16901afc95c3d9cc72e49069ca7a17d
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 29 10:56:01 2012 -0500

    Coverity: CID 21065: Missing break
    
    	* src/regex.c (common_op_match_null_string_p): Insert missing
    	brake for set_number_at case.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/regex.c |    1 +
 1 file changed, 1 insertion(+)

commit a7d09cee7c71405bc6620cfddbad9630864470f0
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Feb 26 23:32:30 2012 -0500

    Coverity: DEADCODE: CID 583
    
    	* src/media/media-internal.c (int2ulaw): Do the assignment outside
    	of if condition to avoid Coverity false positive and improve code
    	legibility.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-internal.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 7c6f2bfc2f15471271bb8bcd0c8168558386f6be
Merge: f75b1fb 362cc0c
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Feb 25 16:19:43 2012 +1000

    Coverity fixes from Nelson
    
    * merges:
      Coverity: Overrun static CID: 138
      Coverity: CID 681: TAINTED STRING
      Coverity: CID 610-DEAD CODE 611-UNUSED VALUE
      Coverity: TOCTOU: CID 387
      Coverity:Tainted string: CID 384
      Coverity: Tainted string: CID 386

commit 362cc0c0839ec0ffbb7f0a3a260b9bf766a8c53e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Feb 24 16:28:20 2012 -0500

    Coverity: Overrun static CID: 138
    
    	* src/dumper.c (pdump_register_struct): Be even more obvious that
    	control flow ends on abort, which could fall through in the case
    	of fatal error.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/dumper.c |   25 +++++++++++++------------
 1 file changed, 13 insertions(+), 12 deletions(-)

commit 1fcfb99ae7db42ec054da0b1ca00c1c4c4538197
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Feb 24 16:26:52 2012 -0500

    Coverity: CID 681: TAINTED STRING
    
    	* src/emacs.c (main): Be even more strict on checks...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/emacs.c |    2 ++
 1 file changed, 2 insertions(+)

commit 59f1edbca7c01a2c48f08d19e4cbf1cdf8ce5c89
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Feb 24 16:10:44 2012 -0500

    Coverity: CID 610-DEAD CODE 611-UNUSED VALUE
    
    	* lib-src/etags.c (process_file_name): compr was not being used
    	before anyway so just remove the assignment from the if statement.
    
    	* lib-src/etags.c (process_file_name): only make compressed_value
    	NULL if it was previously not null. But still free it. This means
    	that after the free we CANNOT dereference it.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/etags.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 9c7003ff693f56a2f0a68917a78a735025fa488c
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Feb 24 12:51:35 2012 -0500

    Coverity: TOCTOU: CID 387
    
    	* lib-src/etags.c (process_file_name): use open/popen then handle
    	failure, instead of stat. Also, after successful open check it is
    	regular file, and reject it is not.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/etags.c |   91 +++++++++++++++++++++++++++----------------------------
 1 file changed, 45 insertions(+), 46 deletions(-)

commit cdd22e84903d51ed5d2ec9f61cbf90c4e4da9ff4
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Feb 24 12:47:30 2012 -0500

    Coverity:Tainted string: CID 384
    
    	* lib-src/movemail.c (main): Sanitize argv[optind] so one can mark as fixed
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/movemail.c |    1 +
 1 file changed, 1 insertion(+)

commit 99b9cf6d40b64eb77284f484692d38245b053afc
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Feb 24 10:36:55 2012 -0500

    Coverity: Tainted string: CID 386
    
    	* src/emacs.c (main): Do sanity checking on the arguments
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/emacs.c |   65 ++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 38 insertions(+), 27 deletions(-)

commit f75b1fbf94d0b2ed69f9bd63dabb755f6b463ec5
Merge: d24698c 11dfa0b
Author: Steve Youngs <steve@sxemacs.org>
Date:   Thu Feb 23 16:58:37 2012 +1000

    Really fix FreeBSD -fstack-protector builds
    
    * freebsd-ssp:
      Fix building on FreeBSD with -fstack-protector.

commit 11dfa0b819cea8ff6cc2a251266c4fd312d86142
Author: Steve Youngs <steve@sxemacs.org>
Date:   Thu Feb 23 16:57:06 2012 +1000

    Fix building on FreeBSD with -fstack-protector.
    
    So, as it turns out, FreeBSD CAN build SXEmacs with -fstack-protector.
    But only if you DON'T link with libssp.  Who knew?
    
    	* m4/sxe-compiler.m4 (SXE_STACK_FLAGS): Re-work so that on FreeBSD
    	libssp is NOT used, while it is everywhere else.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 m4/sxe-compiler.m4 |   22 ++++++++++------------
 1 file changed, 10 insertions(+), 12 deletions(-)

commit d24698cb989fb04b908edf14dfbc535bd6cd02b8
Merge: 3e29b5c e5fed6d
Author: Steve Youngs <steve@sxemacs.org>
Date:   Thu Feb 23 10:06:52 2012 +1000

    Coverity fixes, etc from Nelson
    
    * merges:
      Coverity: TOCTOU: CID 392
      Fix build...
      Coverity: TOCTOU: CID 391
      Coverity: TOCTOU: CID 390
      Coverity: TOCTOU: CID 387
      Better stack-protector behavior in FreeBSD
      Remove forceful disable of ase in Mac OS X
      Coverity CID 52: Forward null
      Slightly better basic type detection.

commit e5fed6dbe5a81a77c81645e49655539406389455
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 22 18:38:13 2012 -0500

    Coverity: TOCTOU: CID 392
    
    	* src/editfns.c (Ftemp_directory): First mkdir then properly
    	handle errors for the home directory temp directory creation.
    	Also attempt to create .created_by_sxemacs in case the dir exists.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/editfns.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 607879898b6056f44473f03b3fa197e6781ad1e8
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 22 18:36:01 2012 -0500

    Fix build...
    
    	* src/ui/X11/xgccache.c (gc_cache_lookup): NULL not null
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/xgccache.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 882ef45574c59a4c6aca34d43842be2385f563ee
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 22 18:33:17 2012 -0500

    Coverity: TOCTOU: CID 391
    
    	* lib-src/ootags.c (process_file): Check for regular file after
    	open, even if it fails, to improve diagnostic message.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/ootags.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit c46e1f849c2b2029e30dcbeffa853924bc26af6e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 22 18:29:43 2012 -0500

    Coverity: TOCTOU: CID 390
    
    	* lib-src/movemail.c (main): No need to check access to outname,
    	since open will fail and we are not giving any better diagnosis.
    
    	* lib-src/movemail.c (main): Ditto for inname.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/movemail.c |    8 --------
 1 file changed, 8 deletions(-)

commit e42e4dcfc6f16d0abde972ddced2409ee1c2f434
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 22 18:23:46 2012 -0500

    Coverity: TOCTOU: CID 387
    
    	* lib-src/make-path.c (touchy_mkdir): Try to avoid check/create
    	race condition by first attempting to create, then check any
    	error. If it is EEXISTS or directory already exists, then all
    	good.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/make-path.c |   19 +++++++++++--------
 1 file changed, 11 insertions(+), 8 deletions(-)

commit dac4e476ebc8e70f571ea1497990ed98170ae843
Merge: d7a0de0 f89886e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 22 17:49:47 2012 -0500

    Merge branch 'njsf-cov' into for-steve

commit d7a0de0519e016c267cf7fe4fdb6a3579778cd77
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 22 17:49:38 2012 -0500

    Better stack-protector behavior in FreeBSD
    
    	* m4/sxe-compiler.m4 (SXE_STACK_FLAGS): Forcefully disable stack-protector on freebsd and output warning message..
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 m4/sxe-compiler.m4 |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 94e0376f7f5916ae8586a32dd049c3b09efc9d2c
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 22 17:48:22 2012 -0500

    Remove forceful disable of ase in Mac OS X
    
    	* configure.ac: Remove conditional on opsys != darwin for ase
    	inclusion. Make conditional on ase components depend on having
    	dynamic or static ase, not on OS...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac |   29 +++++++++++++----------------
 1 file changed, 13 insertions(+), 16 deletions(-)

commit 43face8c911462f1c3561032ae1dbaa2af47a8ae
Merge: 2e3cb02 3e29b5c
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 22 16:52:45 2012 -0500

    Merge remote-tracking branch 'origin/master' into for-steve

commit 3e29b5ca6857a00401ff5be6bf2cf38835e82009
Merge: 90ec465 fe341d5
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Feb 22 13:49:44 2012 +1000

    aRts removal from Horst
    
    * merges:
      [aRts removal] Exorcizo te, omnis spiritus immunde, in nomine Dei Patris omnipotentis
      ex{|or}cise the monstrosity that is aRts once and for all

commit fe341d5ad86d63adaeb113da6c20494d484e7d21
Author: Horst G. Burkhardt III <horst@sxemacs.org>
Date:   Wed Feb 22 13:55:21 2012 +1100

    [aRts removal] Exorcizo te, omnis spiritus immunde, in nomine Dei Patris omnipotentis
    
    Signed-off-by: Horst G. Burkhardt III <horst@sxemacs.org>

 INSTALL                 |    3 ---
 PROBLEMS                |    5 -----
 etc/sample.init.el      |    2 +-
 info/lispref/media.texi |   42 ++++++------------------------------------
 info/sxemacs-faq.texi   |    4 ++--
 src/media/sound.c       |   31 +------------------------------
 src/media/sound.h       |    1 -
 7 files changed, 10 insertions(+), 78 deletions(-)

commit 6c77a9550f7e186e9ba9baece2f070bb5560298f
Author: Horst G. Burkhardt III <horst@sxemacs.org>
Date:   Wed Feb 22 12:09:40 2012 +1100

    ex{|or}cise the monstrosity that is aRts once and for all
    
    Signed-off-by: Horst G. Burkhardt III <horst@sxemacs.org>

 configure.ac           |   27 +---
 m4/sxe-mm.m4           |   52 -------
 src/media/Makefile.am  |    8 +-
 src/media/sound-arts.c |  397 ------------------------------------------------
 src/media/sound-arts.h |   62 --------
 5 files changed, 5 insertions(+), 541 deletions(-)

commit 90ec4659b11c51612c2fc1314ac3626ed32ff328
Merge: 64a1f73 e31d42a
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sun Feb 19 01:01:25 2012 +1000

    PROBLEMS update re SSP on FreeBSD from Horst
    
    * merges:
      added warning against SSP on FreeBSD to PROBLEMS file

commit e31d42abf5bb63067fa8be6a3927d7dddd822fcb
Author: Horst G. Burkhardt III <horst@sxemacs.org>
Date:   Sat Feb 18 11:48:24 2012 +1100

    added warning against SSP on FreeBSD to PROBLEMS file
    
    Signed-off-by: Horst G. Burkhardt III <horst@sxemacs.org>

 PROBLEMS |    8 ++++++++
 1 file changed, 8 insertions(+)

commit f89886e31ab8c41ccbc5b28bafc3dd983900bbd4
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Feb 10 21:07:57 2012 -0500

    Coverity CID 52: Forward null
    
    	* src/ui/X11/xgccache.c (gc_cache_lookup): Only dereference
    	cell/cache->head if not NULL
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/xgccache.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 2e3cb02e20b751359c415843893f02e7a1d4639f
Merge: 8049916 64a1f73
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Feb 1 11:15:57 2012 -0500

    Merge remote-tracking branch 'origin/master' into for-steve

commit 64a1f73619f4faec2f15fb02f9b1d57cde397ee8
Merge: a17da6c 349c389
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Jan 31 12:34:08 2012 +1000

    Merge branch 'openindie'
    
    * openindie:
      Fix build on OpenIndiana

commit 349c389ef1d68eefa0e5aa1ab61458c63d18e630
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Jan 31 12:31:43 2012 +1000

    Fix build on OpenIndiana
    
    "Fix" is probably too strong a word here, it wasn't really broken in the
    first place.  Just a tiny tweak to autogen.sh was the only "fix" needed
    here.
    
    This changeset also documents (in PROBLEMS) the missing deps needed to
    build SXEmacs on OpenIndiana.
    
    	* autogen.sh: Only add the xpg4/bin directory to the $PATH if this
    	isn't OpenIndiana.
    
    	* PROBLEMS: Document build quirks for OpenIndiana.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 PROBLEMS   |   39 +++++++++++++++++++++++++++++++++++++++
 autogen.sh |    3 ++-
 2 files changed, 41 insertions(+), 1 deletion(-)

commit a17da6cfe6279dbd4ad4a1ba618f862edb2da6fc
Merge: 7046eca fef2490
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 18:01:03 2012 +1000

    The Great Whitespace Cleanup
    
    * whitespace: (24 commits)
      Whitespace cleanup in src [m-z]
      Whitespace cleanup in src [f-l]
      Whitespace cleanup in src [a-e]
      Whitespace cleanup in src/database
      Whitespace cleanup in src/ent
      Whitespace cleanup in src/events
      Whitespace cleanup in src/m
      Whitespace cleanup in src/media
      Whitespace cleanup in src/mem
      Whitespace cleanup in src/mule
      Whitespace cleanup in src/s
      Whitespace cleanup in src/ui
      Whitespace cleanup in src/ui/lwlib
      Whitespace cleanup in src/ui/X11
      Whitespace cleanup in src/ui/TTY
      Whitespace cleanup in tests
      Whitespace cleanup in modules
      Whitespace cleanup in m4
      Whitespace cleanup in lisp
      Whitespace cleanup in lib-src
      ...

commit fef249060579771eb4f43bfb4cd7ebe827c6a633
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 17:41:50 2012 +1000

    Whitespace cleanup in src [m-z]
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/map.c          |   40 +++----
 src/map.h          |    2 +-
 src/md5.c          |    8 +-
 src/objects.c      |    6 +-
 src/opaque.c       |    2 +-
 src/openssl.c      |  128 +++++++++++-----------
 src/openssl.h      |    2 +-
 src/print.c        |   36 +++----
 src/process-unix.c |  306 ++++++++++++++++++++++++++--------------------------
 src/process.c      |   74 ++++++-------
 src/process.h      |    2 +-
 src/procimpl.h     |    4 +-
 src/rangetab.c     |    2 +-
 src/realpath.c     |    2 +-
 src/regex.c        |   76 ++++++-------
 src/regex.h        |   10 +-
 src/search.c       |    4 +-
 src/semaphore.c    |    2 +-
 src/semaphore.h    |    1 -
 src/seq.c          |    2 +-
 src/seq.h          |    2 +-
 src/skiplist.c     |   24 ++---
 src/skiplist.h     |   18 ++--
 src/specifier.h    |    2 +-
 src/strcat.c       |    4 +-
 src/strcmp.c       |    2 +-
 src/strcpy.c       |    4 +-
 src/sunOS-fix.c    |    2 +-
 src/sxe-utils.h    |   16 +--
 src/symbols.c      |  112 +++++++++----------
 src/syntax.c       |    2 +-
 src/syntax.h       |   42 ++++----
 src/sysdep.c       |    4 +-
 src/sysdep.h       |    8 +-
 src/sysfile.h      |    2 +-
 src/syspwd.h       |    1 -
 src/systime.h      |    8 +-
 37 files changed, 480 insertions(+), 482 deletions(-)

commit 90cc8d398a07c66e6bbe151961a2e73697dfacd1
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 17:27:57 2012 +1000

    Whitespace cleanup in src [f-l]
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/fileio.c        |   38 +++++++++++------------
 src/filelock.c      |    2 +-
 src/fns.c           |   38 +++++++++++------------
 src/gdbinit         |    1 -
 src/getloadavg.c    |    2 +-
 src/hftctl.c        |   10 +++---
 src/indent.c        |    2 +-
 src/libsst.c        |    2 +-
 src/lisp-disunion.h |   12 ++++----
 src/lisp.h          |   48 ++++++++++++++---------------
 src/lread.c         |   84 +++++++++++++++++++++++++--------------------------
 src/lrecord.h       |    2 +-
 src/lstream.c       |    6 ++--
 src/lstream.h       |    2 +-
 14 files changed, 124 insertions(+), 125 deletions(-)

commit c3a11ea4b0d1bceb3381a0f2bc76ee0387339656
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 17:22:02 2012 +1000

    Whitespace cleanup in src [a-e]
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/Makefile.am   |   32 +-
 src/alloc.c       |   48 +-
 src/alloca.s      |   22 +-
 src/backtrace.h   |    4 +-
 src/bloom.c       |    1 -
 src/broken-sun.h  |    2 +-
 src/buffer.c      |   26 +-
 src/buffer.h      |   20 +-
 src/callproc.c    |    2 +-
 src/category.c    |    2 +-
 src/category.h    |   18 +-
 src/chartab.c     |    6 +-
 src/data.c        |   34 +-
 src/debug.c       |    4 +-
 src/debug.h       |    2 +-
 src/dict.c        |    2 +-
 src/dict.h        |    2 +-
 src/dired.c       |   12 +-
 src/dllist.c      |   12 +-
 src/doc.c         |  480 ++++++++---------
 src/doprnt.c      |    6 +-
 src/dumper.c      |   60 +--
 src/dynacat.c     |   14 +-
 src/dynacat.h     |    2 +-
 src/dynarr.c      |   16 +-
 src/ecrt0.c       |    6 +-
 src/editfns.c     |   24 +-
 src/effi.c        | 1486 ++++++++++++++++++++++++++---------------------------
 src/effi.h        |   30 +-
 src/elhash.c      |    2 +-
 src/emacs.c       |  218 ++++----
 src/emodules-ng.c |    4 +-
 src/emodules-ng.h |    2 +-
 src/eval.c        |   76 +--
 src/extents.c     |   96 ++--
 src/extw-Xt.c     |    4 +-
 36 files changed, 1388 insertions(+), 1389 deletions(-)

commit 78dd9663a9a07a0572e1e286dfea557c6f5be826
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 17:08:21 2012 +1000

    Whitespace cleanup in src/database
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/database/Makefile.am  |    2 +-
 src/database/database.c   |    2 +-
 src/database/eldap.h      |    2 +-
 src/database/postgresql.c |   20 ++++++++++----------
 4 files changed, 13 insertions(+), 13 deletions(-)

commit 51b9dd462d23dd8dcc7eeebfc434842c31813314
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 17:06:29 2012 +1000

    Whitespace cleanup in src/ent
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/ent/Makefile.am      |    2 +-
 src/ent/ent-binary-op.c  |    2 +-
 src/ent/ent-binary-op.h  |    2 +-
 src/ent/ent-binary-rel.c |    6 +++---
 src/ent/ent-binary-rel.h |    2 +-
 src/ent/ent-float.c      |    2 +-
 src/ent/ent-gaussian.c   |    6 +++---
 src/ent/ent-gmp.c        |   10 +++++-----
 src/ent/ent-indef.c      |    4 ++--
 src/ent/ent-indef.h      |    6 +++---
 src/ent/ent-inf.h        |    4 ++--
 src/ent/ent-lift.c       |    2 +-
 src/ent/ent-lift.h       |    2 +-
 src/ent/ent-mpc.c        |    2 +-
 src/ent/ent-mpfr.c       |    5 ++---
 src/ent/ent-nullary-op.c |    2 +-
 src/ent/ent-nullary-op.h |    2 +-
 src/ent/ent-optable.h    |    2 +-
 src/ent/ent-pseumpc.c    |    4 ++--
 src/ent/ent-pseumpc.h    |    2 +-
 src/ent/ent-quatern.c    |    6 +++---
 src/ent/ent-strflt.h     |    4 ++--
 src/ent/ent-unary-op.c   |    2 +-
 src/ent/ent-unary-op.h   |    2 +-
 src/ent/ent-unary-rel.c  |    2 +-
 src/ent/ent-unary-rel.h  |    2 +-
 src/ent/ent.c            |   18 +++++++++---------
 src/ent/ent.h            |   12 ++++++------
 src/ent/floatfns.c       |   18 +++++++++---------
 29 files changed, 67 insertions(+), 68 deletions(-)

commit 1b7a96138033cb621be9516c3d6bca7b567da1fc
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 16:59:05 2012 +1000

    Whitespace cleanup in src/events
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/events/Makefile.am     |    2 +-
 src/events/event-queue.c   |    2 +-
 src/events/event-queue.h   |    2 +-
 src/events/event-stream.c  |   56 ++++++++++++-------------
 src/events/event-unixoid.c |    4 +-
 src/events/events.c        |    6 +--
 src/events/events.h        |   12 +++---
 src/events/worker-asyneq.c |   98 ++++++++++++++++++++++----------------------
 src/events/worker-asyneq.h |    2 +-
 src/events/workers.c       |   16 ++++----
 src/events/workers.h       |    2 +-
 11 files changed, 101 insertions(+), 101 deletions(-)

commit 81369204cbeace21f3f3677ae5e3962cd3a7f4f3
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 16:54:49 2012 +1000

    Whitespace cleanup in src/m
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/m/arm.h           |    2 +-
 src/m/cydra5.h        |    2 +-
 src/m/elxsi.h         |    2 +-
 src/m/gec63.h         |    2 +-
 src/m/hp300bsd.h      |    2 +-
 src/m/hp800.h         |    4 ++--
 src/m/hp9000s300.h    |    2 +-
 src/m/i860.h          |    2 +-
 src/m/intel386.h      |    4 ++--
 src/m/luna88k.h       |    2 +-
 src/m/news-risc.h     |    2 +-
 src/m/news.h          |    2 +-
 src/m/next.h          |    2 +-
 src/m/pmax.h          |    4 ++--
 src/m/powerpc.h       |    2 +-
 src/m/sgi-challenge.h |    2 +-
 src/m/sparc.h         |    2 +-
 src/m/sun1.h          |    4 ++--
 src/m/sun2.h          |    4 ++--
 src/m/sun3-68881.h    |    2 +-
 src/m/sun3-fpa.h      |    2 +-
 src/m/sun3-soft.h     |    4 ++--
 src/m/sun3.h          |    4 ++--
 src/m/sun386.h        |    4 ++--
 src/m/template.h      |    2 +-
 src/m/vax.h           |    2 +-
 26 files changed, 34 insertions(+), 34 deletions(-)

commit 2b8cb4cd000b5f186b03357b7e0ea45dd522d955
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 16:47:35 2012 +1000

    Whitespace cleanup in src/media
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/media/Makefile.am      |    4 +--
 src/media/dgif_lib.c       |   12 ++++-----
 src/media/gif_io.c         |    2 +-
 src/media/media-ffmpeg.c   |   64 ++++++++++++++++++++++----------------------
 src/media/media-internal.c |    2 +-
 src/media/media-mad.c      |    4 +--
 src/media/media-mad.h      |    4 +--
 src/media/media-magic.c    |    2 +-
 src/media/media-magic.h    |    2 +-
 src/media/media-sndfile.c  |   22 +++++++--------
 src/media/media-sox.c      |    8 +++---
 src/media/media.c          |   20 +++++++-------
 src/media/media.h          |    4 +--
 src/media/sound-ao.c       |    2 +-
 src/media/sound-jack.c     |    2 +-
 src/media/sound-nas.c      |   12 ++++-----
 src/media/sound-oss.c      |    6 ++---
 src/media/sound-pulse.c    |   60 ++++++++++++++++++++---------------------
 src/media/sound.c          |   16 +++++------
 src/media/sound.h          |    8 +++---
 20 files changed, 128 insertions(+), 128 deletions(-)

commit d928b01207790fefc3581086e5dcb3658a84a48d
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 16:41:08 2012 +1000

    Whitespace cleanup in src/mem
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/mem/Makefile.am |    6 +++---
 src/mem/free-hook.c |   16 ++++++++--------
 src/mem/malloc.c    |    4 ++--
 src/mem/ralloc.c    |    8 ++++----
 4 files changed, 17 insertions(+), 17 deletions(-)

commit 684ef72bbf5b2c4723ff5a5ee954a21041c360b2
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 16:39:24 2012 +1000

    Whitespace cleanup in src/mule
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/mule/Makefile.am         |    2 +-
 src/mule/file-coding.c       |    4 ++--
 src/mule/input-method-xlib.c |   14 +++++++-------
 src/mule/mule-canna.c        |   10 +++++-----
 src/mule/mule-ccl.c          |   10 +++++-----
 src/mule/mule-ccl.h          |    2 +-
 src/mule/mule-wnnfns.c       |    4 ++--
 7 files changed, 23 insertions(+), 23 deletions(-)

commit 90cc0c07043b6d027c64d617c96d3238eb36c353
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 16:36:00 2012 +1000

    Whitespace cleanup in src/s
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/s/386bsd.h      |    2 +-
 src/s/darwin.h      |    2 +-
 src/s/ewsux5r4.h    |    2 +-
 src/s/hpux.h        |    2 +-
 src/s/hpux8.h       |    2 +-
 src/s/hpux9.h       |    2 +-
 src/s/linux.h       |    2 +-
 src/s/mach-bsd4-3.h |    2 +-
 src/s/ptx.h         |    4 ++--
 src/s/sco4.h        |    2 +-
 src/s/sunos4-1-1.h  |    2 +-
 src/s/usg5-4.h      |    2 +-
 12 files changed, 13 insertions(+), 13 deletions(-)

commit 2eb6b615c74269b58acb8813f74a0266a706f111
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 16:20:04 2012 +1000

    Whitespace cleanup in src/ui
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/ui/Makefile.am        |   24 ++++++++---------
 src/ui/bitmaps.h          |    2 +-
 src/ui/console.c          |    8 +++---
 src/ui/console.h          |    6 ++---
 src/ui/device.c           |    4 +--
 src/ui/device.h           |   16 ++++++------
 src/ui/faces.c            |    2 +-
 src/ui/frame.c            |    4 +--
 src/ui/frame.h            |    4 +--
 src/ui/gifrlib.h          |    2 +-
 src/ui/glyphs-eimage.c    |   64 ++++++++++++++++++++++-----------------------
 src/ui/glyphs-widget.c    |    8 +++---
 src/ui/glyphs.c           |   30 ++++++++++-----------
 src/ui/gutter.h           |    2 +-
 src/ui/imgproc.c          |   10 +++----
 src/ui/insdel.c           |   14 +++++-----
 src/ui/keymap.c           |   42 ++++++++++++++---------------
 src/ui/menubar.c          |    2 +-
 src/ui/redisplay-output.c |    4 +--
 src/ui/redisplay.c        |   20 +++++++-------
 src/ui/redisplay.h        |   12 ++++-----
 src/ui/scrollbar.c        |   10 +++----
 src/ui/select.c           |   14 +++++-----
 src/ui/specifier.c        |    4 +--
 src/ui/toolbar.c          |    4 +--
 src/ui/window.c           |   40 ++++++++++++++--------------
 src/ui/window.h           |    2 +-
 27 files changed, 177 insertions(+), 177 deletions(-)

commit 995db1fb6de1789cfc79ce631a00cb7abac75a9e
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 16:06:36 2012 +1000

    Whitespace cleanup in src/ui/lwlib
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/ui/lwlib/Makefile.am    |    2 +-
 src/ui/lwlib/lwlib-Xaw.c    |   10 +++++-----
 src/ui/lwlib/lwlib-Xlw.c    |    2 +-
 src/ui/lwlib/lwlib-Xm.c     |    2 +-
 src/ui/lwlib/lwlib-utils.c  |    2 +-
 src/ui/lwlib/lwlib.c        |    4 ++--
 src/ui/lwlib/xlwcheckbox.h  |    6 +++---
 src/ui/lwlib/xlwcheckboxP.h |    6 +++---
 src/ui/lwlib/xlwgauge.c     |    8 ++++----
 src/ui/lwlib/xlwgauge.h     |    2 +-
 src/ui/lwlib/xlwgaugeP.h    |    4 ++--
 src/ui/lwlib/xlwmenu.c      |   10 +++++-----
 src/ui/lwlib/xlwradio.h     |    6 +++---
 src/ui/lwlib/xlwradioP.h    |    6 +++---
 src/ui/lwlib/xlwscrollbar.h |    2 +-
 src/ui/lwlib/xlwtabs.c      |    2 +-
 src/ui/lwlib/xlwtabs.h      |    8 ++++----
 17 files changed, 41 insertions(+), 41 deletions(-)

commit f14519b61a9036436a6a00c80e6e742aa4810d09
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 16:01:24 2012 +1000

    Whitespace cleanup in src/ui/X11
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/ui/X11/EmacsShell-sub.c |    6 +-
 src/ui/X11/ExternalShell.c  |    2 +-
 src/ui/X11/Makefile.am      |   14 +-
 src/ui/X11/console-x.h      |   30 +-
 src/ui/X11/device-x.c       |   32 +-
 src/ui/X11/event-Xt.c       |   18 +-
 src/ui/X11/frame-x.c        |   66 +--
 src/ui/X11/glyphs-x.c       |   28 +-
 src/ui/X11/objects-x.c      |    4 +-
 src/ui/X11/redisplay-x.c    |   60 +-
 src/ui/X11/scrollbar-x.c    |   18 +-
 src/ui/X11/select-x.c       | 1306 +++++++++++++++++++++----------------------
 src/ui/X11/toolbar-x.c      |   10 +-
 src/ui/X11/xgccache.c       |   14 +-
 src/ui/X11/xmu.c            |    4 +-
 15 files changed, 806 insertions(+), 806 deletions(-)

commit 5053592fa224291fbbf002809244e64052af4334
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 15:45:45 2012 +1000

    Whitespace cleanup in src/ui/TTY
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/ui/TTY/Makefile.am     |    8 ++--
 src/ui/TTY/console-tty.h   |   10 ++--
 src/ui/TTY/event-tty.c     |  108 ++++++++++++++++++++++----------------------
 src/ui/TTY/objects-tty.c   |   27 ++++++-----
 src/ui/TTY/objects-tty.h   |    4 +-
 src/ui/TTY/redisplay-tty.c |   66 +++++++++++++--------------
 src/ui/TTY/terminfo.c      |    1 -
 7 files changed, 111 insertions(+), 113 deletions(-)

commit 3e2d91363c72d9a2c6be01dde0a4dddaeb09c869
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 14:35:02 2012 +1000

    Whitespace cleanup in tests
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 tests/Makefile.am                      |    5 +-
 tests/automated/ase-interval-tests.el  |    2 +-
 tests/automated/base64-tests.el        |    2 +-
 tests/automated/bloom-tests.el         |   20 +-
 tests/automated/byte-compiler-tests.el |    2 +-
 tests/automated/c-tests.el             |    2 +-
 tests/automated/case-tests.el          |    3 +-
 tests/automated/ccl-tests.el           |   14 +-
 tests/automated/cl-loop-tests.el       |   10 +-
 tests/automated/database-tests.el      |    2 +-
 tests/automated/ent-tests.el           |  829 ++++++++++++++++----------------
 tests/automated/extent-tests.el        |    4 +-
 tests/automated/format-tests.el        |  814 +++++++++++++++----------------
 tests/automated/hash-table-tests.el    |   28 +-
 tests/automated/inplace-tests.el       |    4 +-
 tests/automated/lisp-reader-tests.el   |   50 +-
 tests/automated/lisp-tests.el          |   14 +-
 tests/automated/map-tests.el           |  164 +++----
 tests/automated/md5-tests.el           |    2 +-
 tests/automated/mule-tests.el          |    6 +-
 tests/automated/openssl-tests.el       |    4 +-
 tests/automated/os-tests.el            |    2 +-
 tests/automated/regexp-tests.el        |    2 +-
 tests/automated/region-tests.el        |    4 +-
 tests/automated/skiplist-tests.el      |    4 +-
 tests/automated/symbol-tests.el        |    8 +-
 tests/automated/syntax-tests.el        |    4 +-
 tests/automated/tag-tests.el           |    2 +-
 tests/automated/test-harness.el        |   38 +-
 tests/automated/weak-tests.el          |    5 +-
 tests/benchmark/benchmark.el           |  183 ++++---
 tests/frame.el                         |    1 -
 tests/glyph-test.el                    |   80 +--
 tests/gutter-test.el                   |   21 +-
 tests/mule/match.el                    |    3 +-
 tests/redisplay-tests.el               |    2 +-
 tests/reproduce-bugs.el                |    4 +-
 37 files changed, 1168 insertions(+), 1176 deletions(-)

commit aa2509b313f40b4548e0070631892b9e0548c290
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 14:28:25 2012 +1000

    Whitespace cleanup in modules
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 modules/Makefile.am             |    6 +++---
 modules/ase/Makefile.am         |    6 +++---
 modules/ase/ase-cartesian.c     |    4 ++--
 modules/ase/ase-cartesian.h     |    2 +-
 modules/ase/ase-digraph.c       |    4 ++--
 modules/ase/ase-digraph.h       |    2 +-
 modules/ase/ase-heap-profs.el   |    4 ++--
 modules/ase/ase-heap.c          |    6 +++---
 modules/ase/ase-heap.h          |    2 +-
 modules/ase/ase-interval.c      |   28 ++++++++++++++--------------
 modules/ase/ase-interval.h      |    2 +-
 modules/ase/ase-metric.c        |    4 ++--
 modules/ase/ase-metric.h        |    2 +-
 modules/ase/ase-neighbourhood.c |    2 +-
 modules/ase/ase-neighbourhood.h |    2 +-
 modules/ase/ase-permutation.c   |    4 ++--
 modules/ase/ase-permutation.h   |    2 +-
 modules/ase/ase-resclass.c      |    8 ++++----
 modules/ase/ase-resclass.h      |    2 +-
 modules/ase/ase-set.c           |    2 +-
 modules/ase/ase-set.h           |    3 +--
 modules/ase/ase.c               |    2 +-
 modules/ase/ase.h               |    3 +--
 modules/cl/Makefile.am          |    2 +-
 modules/cl/cl-loop-parser.y     |   15 +++++++--------
 modules/cl/cl-loop-profs.el     |    6 +++---
 modules/cl/cl-loop.c            |    4 ++--
 modules/cl/cl-loop.h            |    2 +-
 modules/cl/cl.c                 |    2 +-
 modules/cl/cl.h                 |    2 +-
 modules/configure.ac            |    8 ++++----
 modules/dbus/Makefile.am        |    3 +--
 modules/ldap/Makefile.am        |    2 +-
 33 files changed, 72 insertions(+), 76 deletions(-)

commit 2e251269f55dc1275e01d92ba8d72e9a9670175c
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 14:20:31 2012 +1000

    Whitespace cleanup in m4
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 m4/sxe-acx_pthread.m4    |  180 +++++++++++++++++++++++-----------------------
 m4/sxe-arch.m4           |   12 ++--
 m4/sxe-aux.m4            |   38 +++++-----
 m4/sxe-bldchain-progs.m4 |    6 +-
 m4/sxe-bldenv.m4         |   10 +--
 m4/sxe-compiler.m4       |   60 ++++++++--------
 m4/sxe-crypto.m4         |   30 ++++----
 m4/sxe-dbms.m4           |   14 ++--
 m4/sxe-fs-funs.m4        |   42 +++++------
 m4/sxe-gui.m4            |   38 +++++-----
 m4/sxe-iconv.m4          |    2 +-
 m4/sxe-libc.m4           |   40 +++++------
 m4/sxe-machine.m4        |    4 +-
 m4/sxe-maths.m4          |   26 +++----
 m4/sxe-mm.m4             |   30 ++++----
 m4/sxe-option-groups.m4  |   22 +++---
 m4/sxe-sockets.m4        |   16 ++---
 m4/sxe-summary.m4        |   20 +++---
 18 files changed, 295 insertions(+), 295 deletions(-)

commit 4f026a3301f46f760b59dedece9991ea8ea0b0d6
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 14:16:00 2012 +1000

    Whitespace cleanup in lisp
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 lisp/Makefile.am           |   28 +-
 lisp/abbrev.el             |  166 +++---
 lisp/about.el              |  130 ++---
 lisp/apropos.el            |    4 +-
 lisp/auto-save.el          |    2 +-
 lisp/auto-show.el          |    8 +-
 lisp/autoload.el           |  138 ++---
 lisp/backquote.el          |   16 +-
 lisp/buff-menu.el          |   94 ++--
 lisp/build-autoloads.el    |    4 +-
 lisp/build-rpt.el          |  326 ++++++------
 lisp/byte-optimize.el      |   62 +--
 lisp/bytecomp-runtime.el   |    8 +-
 lisp/bytecomp.el           |  116 ++--
 lisp/cl-compat.el          |    3 +-
 lisp/cl-extra.el           |   44 +-
 lisp/cl-macs.el            |   66 +--
 lisp/cl.el                 |   10 +-
 lisp/cmdloop.el            |  156 +++---
 lisp/code-cmds.el          |   26 +-
 lisp/code-files.el         |  118 ++---
 lisp/code-process.el       |    2 +-
 lisp/compat.el             |    2 +-
 lisp/compile-core.el       |   50 +-
 lisp/console.el            |    2 +-
 lisp/cus-edit.el           |  276 +++++-----
 lisp/cus-face.el           |   14 +-
 lisp/cus-start.el          |    4 +-
 lisp/custom.el             |  252 ++++-----
 lisp/derived.el            |    8 +-
 lisp/device.el             |    4 +-
 lisp/dialog-items.el       |   20 +-
 lisp/dialog.el             |   30 +-
 lisp/disass.el             |   10 +-
 lisp/disp-table.el         |   18 +-
 lisp/dragdrop.el           |    6 +-
 lisp/dump-paths.el         |   10 +-
 lisp/dumped-lisp.el        |   16 +-
 lisp/easy-mmode.el         |   14 +-
 lisp/easymenu.el           |    2 +-
 lisp/emod-utils.el         |    4 +-
 lisp/etags.el              |   62 +--
 lisp/events.el             |    2 +-
 lisp/extents.el            |   20 +-
 lisp/faces.el              |   56 +-
 lisp/ffi.el                |  570 ++++++++++----------
 lisp/ffi/ffi-curl.el       |  120 ++---
 lisp/ffi/ffi-dbus.el       |   46 +-
 lisp/ffi/ffi-gcrypt.el     |  262 +++++-----
 lisp/ffi/ffi-libc.el       |   40 +-
 lisp/ffi/ffi-magic.el      |    4 +-
 lisp/ffi/ffi-sqlite.el     |  168 +++---
 lisp/ffi/ffi-taglib.el     |  228 ++++----
 lisp/ffi/ffi-wand.el       | 1248 ++++++++++++++++++++++----------------------
 lisp/files.el              |  386 +++++++-------
 lisp/fill.el               |   14 +-
 lisp/find-paths.el         |   88 ++--
 lisp/finder.el             |   66 +--
 lisp/font-lock.el          |  240 ++++-----
 lisp/font-menu.el          |    4 +-
 lisp/font.el               |    4 +-
 lisp/fontl-hooks.el        |    2 +-
 lisp/format.el             |   26 +-
 lisp/frame.el              |    8 +-
 lisp/glyphs.el             |   40 +-
 lisp/gnuserv.el            |    8 +-
 lisp/gui.el                |    2 +-
 lisp/gutter-items.el       |   52 +-
 lisp/gutter.el             |   10 +-
 lisp/help-macro.el         |    3 +-
 lisp/help.el               |  276 +++++-----
 lisp/hyper-apropos.el      |   40 +-
 lisp/indent.el             |    6 +-
 lisp/info.el               |   78 +--
 lisp/isearch-mode.el       |   42 +-
 lisp/iso8859-1.el          |    4 +-
 lisp/issue-tracker.el      |   20 +-
 lisp/itimer-autosave.el    |    2 +-
 lisp/keydefs.el            |   14 +-
 lisp/keymap.el             |  230 ++++----
 lisp/lib-complete.el       |   68 +--
 lisp/lisp-initd.el         |   33 +-
 lisp/lisp-mnt.el           |   42 +-
 lisp/lisp-mode.el          |  172 +++---
 lisp/lisp.el               |    4 +-
 lisp/list-mode.el          |   30 +-
 lisp/loaddefs.el           |    2 +-
 lisp/loadhist.el           |   68 +--
 lisp/loadup.el             |   66 +--
 lisp/make-docfile.el       |   28 +-
 lisp/map-ynp.el            |    2 +-
 lisp/menubar-items.el      |   24 +-
 lisp/menubar.el            |   92 ++--
 lisp/minibuf.el            |  916 ++++++++++++++++----------------
 lisp/mode-motion.el        |    2 +-
 lisp/modeline.el           |    2 +-
 lisp/mouse.el              |   36 +-
 lisp/mule/ccl.el           |   16 +-
 lisp/mule/chinese.el       |   16 +-
 lisp/mule/cyrillic.el      |    8 +-
 lisp/mule/japanese.el      |    4 +-
 lisp/mule/kinsoku.el       |   16 +-
 lisp/mule/mule-category.el |    2 +-
 lisp/mule/mule-charset.el  |   12 +-
 lisp/mule/mule-cmds.el     |   56 +-
 lisp/mule/mule-help.el     |    4 +-
 lisp/mule/mule-init.el     |   10 +-
 lisp/mule/mule-x-init.el   |    8 +-
 lisp/mule/thai-xtis.el     |    8 +-
 lisp/mule/vietnamese.el    |    6 +-
 lisp/multicast.el          |    4 +-
 lisp/number.el             |    4 +-
 lisp/obsolete.el           |    8 +-
 lisp/package-admin.el      |   48 +-
 lisp/package-get.el        |  182 +++----
 lisp/package-ui.el         |  154 +++---
 lisp/packages.el           |    6 +-
 lisp/page.el               |    2 +-
 lisp/paragraphs.el         |    6 +-
 lisp/picture.el            |   10 +-
 lisp/printer.el            |   10 +-
 lisp/process.el            |   30 +-
 lisp/rect.el               |    2 +-
 lisp/regexp-opt.el         |   44 +-
 lisp/register.el           |    2 +-
 lisp/replace.el            |   10 +-
 lisp/resize-minibuffer.el  |    4 +-
 lisp/select.el             |    8 +-
 lisp/setup-paths.el        |   44 +-
 lisp/shadow.el             |   12 +-
 lisp/simple.el             |  154 +++---
 lisp/site-load.el          |    2 +-
 lisp/sound.el              |   52 +-
 lisp/specifier.el          |   14 +-
 lisp/startup.el            |  168 +++---
 lisp/subr.el               |   56 +-
 lisp/symbols.el            |    4 +-
 lisp/syntax.el             |   66 +--
 lisp/term/apollo.el        |    2 +-
 lisp/term/internal.el      |    2 +-
 lisp/term/linux.el         |    1 -
 lisp/term/sun-mouse.el     |    4 +-
 lisp/term/sup-mouse.el     |    4 +-
 lisp/term/tvi970.el        |    2 +-
 lisp/term/vt100.el         |    2 +-
 lisp/term/vt201.el         |    1 -
 lisp/term/vt220.el         |    1 -
 lisp/text-mode.el          |    2 +-
 lisp/toolbar-items.el      |   26 +-
 lisp/tty-init.el           |    6 +-
 lisp/update-elc-2.el       |    8 +-
 lisp/update-elc.el         |   48 +-
 lisp/userlock.el           |    6 +-
 lisp/version.el            |    8 +-
 lisp/wid-browse.el         |   14 +-
 lisp/wid-edit.el           |  128 ++---
 lisp/window-xemacs.el      |   20 +-
 lisp/window.el             |   28 +-
 lisp/x-color.el            |   72 +--
 lisp/x-faces.el            |    4 +-
 lisp/x-font-menu.el        |   12 +-
 lisp/x-init.el             |   14 +-
 lisp/x-iso8859-1.el        |   14 +-
 lisp/x-mouse.el            |    2 +-
 lisp/x-scrollbar.el        |    2 +-
 165 files changed, 5022 insertions(+), 5030 deletions(-)

commit 708516071709b1ff2248021abef1ffd82efbecab
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 13:00:23 2012 +1000

    Whitespace cleanup in lib-src
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 lib-src/Makefile.am      |    8 +--
 lib-src/etags.c          |  108 ++++++++++++++---------------
 lib-src/gnuclient.c      |   10 +--
 lib-src/gnuserv.c        |    2 +-
 lib-src/gnuserv.h        |   12 ++--
 lib-src/gnuslib.c        |   26 +++----
 lib-src/hexl.c           |    2 +-
 lib-src/make-docfile.c   |  132 +++++++++++++++++------------------
 lib-src/make-msgfile.lex |   47 +++++++------
 lib-src/mmencode.c       |   40 +++++------
 lib-src/movemail.c       |   18 ++---
 lib-src/ootags.c         |  144 +++++++++++++++++++--------------------
 lib-src/pop.c            |  170 +++++++++++++++++++++++-----------------------
 lib-src/pop.h            |    5 +-
 lib-src/profile.c        |    2 +-
 lib-src/qsort.c          |   34 +++++-----
 lib-src/sorted-doc.c     |    2 +-
 lib-src/yow.c            |    6 +-
 18 files changed, 383 insertions(+), 385 deletions(-)

commit 1e43ad452b2eeda9b987d7e675d501ae4af18b31
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 12:52:19 2012 +1000

    Whitespace cleanup in info
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 info/emodules.texi                        |  141 ++++++++++---------
 info/internals/index.texi                 |    2 +-
 info/internals/internals.texi             |   50 +++----
 info/lispref/backups.texi                 |    5 +-
 info/lispref/building.texi                |    6 +-
 info/lispref/commands.texi                |    2 +-
 info/lispref/compile.texi                 |    6 +-
 info/lispref/control.texi                 |    4 +-
 info/lispref/display.texi                 |    3 +-
 info/lispref/edebug-inc.texi              |    2 +-
 info/lispref/ent.texi                     |   56 ++++----
 info/lispref/eval.texi                    |    1 -
 info/lispref/extents.texi                 |    6 +-
 info/lispref/faces.texi                   |    2 +-
 info/lispref/ffi.texi                     |   32 ++---
 info/lispref/files.texi                   |    4 +-
 info/lispref/functions.texi               |    5 +-
 info/lispref/glyphs.texi                  |   18 +--
 info/lispref/gutter.texi                  |    1 -
 info/lispref/ldap.texi                    |    1 -
 info/lispref/lispref.texi                 |    2 +-
 info/lispref/lists.texi                   |    8 +-
 info/lispref/loading.texi                 |    4 +-
 info/lispref/markers.texi                 |    2 -
 info/lispref/media.texi                   |   24 ++--
 info/lispref/menus.texi                   |    1 -
 info/lispref/modes.texi                   |    4 +-
 info/lispref/mule.texi                    |    1 -
 info/lispref/numbers.texi                 |    2 -
 info/lispref/openssl.texi                 |   26 ++--
 info/lispref/os.texi                      |    4 +-
 info/lispref/packaging.texi               |   55 ++++----
 info/lispref/positions.texi               |    2 +-
 info/lispref/postgresql.texi              |    6 +-
 info/lispref/processes.texi               |   14 +-
 info/lispref/range-tables.texi            |    1 -
 info/lispref/searching.texi               |    2 +-
 info/lispref/symbols.texi                 |    3 -
 info/lispref/text.texi                    |    4 +-
 info/lispref/tips.texi                    |   10 +-
 info/lispref/variables.texi               |    2 -
 info/lispref/windows.texi                 |    4 +-
 info/new-users-guide/custom1.texi         |   37 +++--
 info/new-users-guide/custom2.texi         |   41 ++----
 info/new-users-guide/edit.texi            |   34 ++---
 info/new-users-guide/enter.texi           |   58 ++++----
 info/new-users-guide/files.texi           |   23 ----
 info/new-users-guide/help.texi            |   28 ++--
 info/new-users-guide/modes.texi           |   29 ++--
 info/new-users-guide/new-users-guide.texi |   17 ++-
 info/new-users-guide/region.texi          |   48 ++-----
 info/new-users-guide/xmenu.texi           |  105 +++++++-------
 info/sppm.texi                            |   32 ++---
 info/sxemacs-faq.texi                     |  130 +++++++++---------
 info/sxemacs/abbrevs.texi                 |    1 -
 info/sxemacs/basic.texi                   |    6 +-
 info/sxemacs/buffers.texi                 |    9 +-
 info/sxemacs/building.texi                |    9 +-
 info/sxemacs/calendar.texi                |   52 +++----
 info/sxemacs/cmdargs.texi                 |   11 +-
 info/sxemacs/custom.texi                  |   85 ++++++------
 info/sxemacs/display.texi                 |    7 +-
 info/sxemacs/files.texi                   |   27 ++--
 info/sxemacs/fixit.texi                   |    3 +-
 info/sxemacs/frame.texi                   |    1 -
 info/sxemacs/glossary.texi                |    1 -
 info/sxemacs/help.texi                    |    1 -
 info/sxemacs/indent.texi                  |    7 +-
 info/sxemacs/keystrokes.texi              |  111 ++++++++-------
 info/sxemacs/killing.texi                 |   23 ++--
 info/sxemacs/m-x.texi                     |   13 +-
 info/sxemacs/major.texi                   |    3 -
 info/sxemacs/mark.texi                    |   15 +-
 info/sxemacs/menus.texi                   |  139 ++++++++++---------
 info/sxemacs/mini.texi                    |    7 +-
 info/sxemacs/misc.texi                    |    9 +-
 info/sxemacs/mouse.texi                   |   11 +-
 info/sxemacs/mule.texi                    |   20 +--
 info/sxemacs/new.texi                     |   31 ++---
 info/sxemacs/packages.texi                |   43 +++---
 info/sxemacs/picture.texi                 |    7 +-
 info/sxemacs/programs.texi                |   47 ++++---
 info/sxemacs/reading.texi                 |    1 -
 info/sxemacs/regs.texi                    |    1 -
 info/sxemacs/search.texi                  |   27 ++--
 info/sxemacs/sending.texi                 |    9 +-
 info/sxemacs/startup.texi                 |    2 -
 info/sxemacs/sxemacs.texi                 |   34 ++---
 info/sxemacs/text.texi                    |    5 +-
 info/sxemacs/trouble.texi                 |    4 +-
 info/sxemacs/undo.texi                    |    1 -
 info/sxemacs/windows.texi                 |    1 -
 info/term.texi                            |    2 +-
 info/widget.texi                          |  212 ++++++++++++++---------------
 94 files changed, 978 insertions(+), 1130 deletions(-)

commit 6d7aaa2c198b67189e1326d68935a905a1108e54
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 12:17:00 2012 +1000

    Whitespace cleanup in etc
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 etc/Makefile.am                            |    2 +-
 etc/custom/example-themes/europe-theme.el  |    2 +-
 etc/custom/example-themes/example-theme.el |    5 +-
 etc/editclient.sh                          |    1 -
 etc/sample.init.el                         |   95 ++++++++++++++--------------
 etc/tests/external-widget/Makefile         |    5 +-
 etc/tests/external-widget/test-ew-motif.c  |    2 +-
 etc/tests/external-widget/test-ew-xlib.c   |   14 ++--
 8 files changed, 60 insertions(+), 66 deletions(-)

commit e70fb560f77563f78029bd2859781047ea291396
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 12:12:08 2012 +1000

    Whitespace cleanup in contrib
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 contrib/do_builds.sh                 |   19 +++++----
 contrib/git-post-receive-hook.sample |    8 ++--
 contrib/git-to-steve.sh              |    4 +-
 contrib/make-pkg.sh                  |    4 +-
 contrib/report-build-failure.sh      |   16 ++++----
 contrib/tar-build-failure.sh         |    4 +-
 contrib/tty-colors.c                 |   70 +++++++++++++++++-----------------
 7 files changed, 62 insertions(+), 63 deletions(-)

commit 6032fe5ba29e39dae688e07780d74d5687c3dbc1
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 12:08:52 2012 +1000

    Whitespace cleanup in toplevel dir
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 Makefile.am  |    6 +-
 autogen.sh   |    8 +--
 configure.ac |  172 +++++++++++++++++++++++++++++-----------------------------
 3 files changed, 93 insertions(+), 93 deletions(-)

commit 7046eca757e9417ffe87af628f881ad6990af788
Merge: d51ac4e a941afb
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 28 10:15:37 2012 +1000

    Merge branch 'merges'
    
    * merges:
      Conditional definition of HAVE_ALLOCA to avoid meaningless HAVE_ALLOCA redefined warnings...
      Use the real pre-processor var: DEBUG_SXEMACS
      Coverity: Forward NULL: CID 607

commit 8049916d0411da8238a51af873bacd03edfcfb5f
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 27 19:03:34 2012 -0500

    Slightly better basic type detection.
    
    	* m4/sxe-libc.m4 (SXE_CHECK_BASIC_TYPES): Check for int64_t, intptr_t and sizeof float
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 m4/sxe-libc.m4 |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit a941afbc9098decd61f411d7364c2abd493c6285
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 27 17:57:17 2012 -0500

    Conditional definition of HAVE_ALLOCA to avoid meaningless HAVE_ALLOCA redefined warnings...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/m/ews4800r.h   |    2 ++
 src/m/hp300bsd.h   |    2 ++
 src/m/hp800.h      |    2 ++
 src/m/hp9000s300.h |    4 ++++
 src/m/luna88k.h    |    2 ++
 src/m/m68k.h       |    2 ++
 src/m/news.h       |    2 ++
 src/m/pfa50.h      |    2 ++
 src/m/pmax.h       |    2 ++
 src/m/powerpc.h    |    2 ++
 src/m/pyrmips.h    |    2 ++
 src/m/vax.h        |    4 ++++
 src/s/aix3-2.h     |    2 ++
 src/s/nextstep.h   |    2 ++
 14 files changed, 32 insertions(+)

commit bb5d6e262fbd3be348dc442e266397b06a5e8759
Merge: f297066 d51ac4e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 27 17:47:11 2012 -0500

    Merge branch 'for-steve' into njsf-cov

commit d51ac4e0b91a3da7ab7f316b94997496046810bd
Merge: 608de26 657e175
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Jan 25 15:41:59 2012 +1000

    autogen.sh fix from Nelson
    
    * merges:
      Use head -n1 throughout
      Do not confuse GIT with git (or vice-versa)

commit 657e175b1af36d06fe09afb225367546fd4be240
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Jan 25 15:40:11 2012 +1000

    Use head -n1 throughout
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 autogen.sh |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6a8d4492d2511f70a337216505734fdb77b9a33e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Jan 24 23:45:59 2012 -0500

    Do not confuse GIT with git (or vice-versa)
    
    	* autogen.sh: Make sure to only conside one line of git describe,
    	thus taking care of GIT (http://www.gnu.org/software/git/) being
    	installed instead of git (http://git-scm.com)
    
    	* configure.ac: ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 autogen.sh   |    2 +-
 configure.ac |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 608de267e17ddbf60a60df1ab958c318033882c6
Merge: 68dc690 3309efd
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Jan 25 10:21:36 2012 +1000

    Merge branch 'breathing'
    
    * breathing:
      Be consistent with setting and testing for breathing_space

commit 3309efd48d127f36d11089ee8b554462d6c02cf0
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Jan 25 10:19:53 2012 +1000

    Be consistent with setting and testing for breathing_space
    
    	* src/alloc.c (refill_memory_reserve): Test if breathing_space is
    	NULL, not zero.
    	Don't cast the malloc.
    
    	* src/alloc.c (garbage_collect_1): Increase breathing_space to,
    	erm, give us more breathing space.
    
    	* src/alloc.c (reinit_alloc_once_early): Set breathing_space to
    	NULL, not zero.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/alloc.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 68dc6903190707a088574dd5f175a625004f8af4
Merge: f55522a 58093bc
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Jan 25 10:02:25 2012 +1000

    Build fix from Sebastian
    
    * merges:
      Summary: fix, make sure ssp actually works before using it Keywords: bldchn diagnostics

commit 58093bc492e461d46b1c4a1181c103a5ff9e0e1d
Merge: f55522a cd0349b
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Tue Jan 24 23:45:50 2012 +0000

    Merge branch 'bldchn/diag' into next
    
    * bldchn/diag:
      Summary: fix, make sure ssp actually works before using it Keywords: bldchn diagnostics

commit cd0349b46f73d6a7440544e703c15f61457f9079
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Tue Jan 24 23:45:43 2012 +0000

    Summary: fix, make sure ssp actually works before using it
    Keywords: bldchn diagnostics
    
    This changeset hopefully resolves the issue Nelson had with ssp and
    -fstack-protector.  Using crystal ball technology and rune readings
    it turns out that gcc single-handedly adds -lssp as soon as
    -fstack-protector is specified, regardless if it works or exists.
    
    * m4/sxe-compiler.m4 (SXE_STACK_FLAGS): check if ssp works before adding
      -fstack-protector
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 m4/sxe-compiler.m4 |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit f55522ab02b6205c44a41a4d4463a85a63be3f7b
Merge: 81dd333 1283a4c
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Jan 24 22:20:47 2012 +1000

    Build fix from Rudi
    
    * merges:
      build fix, undeclared XmCR_UNKNOWN

commit 1283a4c65844b7495647166854ca6ffe6bf29c3a
Author: Ruediger Meier <ruediger.meier@ga-group.nl>
Date:   Tue Jan 24 12:19:57 2012 +0100

    build fix, undeclared XmCR_UNKNOWN
    
    This got accidentally broken in 613c762f.

 src/ui/lwlib/xlwscrollbar.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 81dd333a79e9cb7566a8629048d52ebde276f20b
Merge: db6004f dd022a0
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Jan 24 12:33:31 2012 +1000

    Changes from Nelson
    
    * merges:
      Add a bit more breathing space to alloc
      Cosmetic break
      Empty merge
      compre on by default, no longer experimental

commit dd022a0a6963696360b35ec1c50a670a7a9f95a4
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Jan 23 18:53:36 2012 -0500

    Add a bit more breathing space to alloc
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/alloc.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit db6004ffaa5aa9785289e64f231a4d6d0bf9e0a8
Merge: 2115401 c5264c7
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Jan 24 08:22:26 2012 +1000

    Build chain tweaks from Sebastian
    
    * merges:
      Summary: minor, provide malldbg multiarg for MALLOC_PERTURB_ Keywords: bldchn diagnostics
      Summary: minor, add stack to --with-error-checking to turn SSP on Keywords: bldchn diagnostics

commit c5264c71997ec8e17de532a9123358929677967c
Merge: 2115401 673588d
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Mon Jan 23 21:45:37 2012 +0000

    Merge branch 'bldchn/diag' into next
    
    * bldchn/diag:
      Summary: minor, provide malldbg multiarg for MALLOC_PERTURB_ Keywords: bldchn diagnostics
      Summary: minor, add stack to --with-error-checking to turn SSP on Keywords: bldchn diagnostics

commit 673588d5186361c939ac3eb7664bcffc41071cdc
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Mon Jan 23 21:45:10 2012 +0000

    Summary: minor, provide malldbg multiarg for MALLOC_PERTURB_
    Keywords: bldchn diagnostics
    
    This changeset introduces a multiarg item to the error-checking option
    group, named `malldbg', that controls MALLOC_PERTURB_ and friends when
    dumping.  This should fix the dumping procedure on MALLOC_PERTURB_
    systems as our dumper reacts quite sensitively to that kind of system
    hardening.
    
    This changeset contains no additional intelligence to turn it off
    automatically, if you see crashes during the dump phase conside
    --with-error-checking=nomalldbg.
    
    Whether or not we can persuade (read fix) the dumper code to react more
    friendly to this kind of interference is subject to a different patch.
    
    * configure.ac: add `malldbg' to the error-checking multiarg
    
    * m4/sxe-compiler.m4: prepare EXTRA_BATCHENV in case malldbg is off
    
    * src/Makefile.am: extend dumping environment to EXTRA_BATCHENV
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 configure.ac       |    1 +
 m4/sxe-compiler.m4 |    9 ++++++++-
 src/Makefile.am    |    3 ++-
 3 files changed, 11 insertions(+), 2 deletions(-)

commit 613c762f7488c1ce5f85bae3fa41961099addb9b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Jan 23 14:03:28 2012 -0500

    Cosmetic break
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/lwlib/xlwscrollbar.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 9258ccbfb72ceae34f5cfa53ed65a365a4f56d10
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Jan 23 14:01:57 2012 -0500

    Empty merge
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/regex.c |    1 +
 1 file changed, 1 insertion(+)

commit 013143bd55b2436229422828bf75eec4eff0198b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Jan 23 13:52:52 2012 -0500

    compre on by default, no longer experimental
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac      |   12 +++++++++---
 m4/sxe-summary.m4 |    6 ++++++
 2 files changed, 15 insertions(+), 3 deletions(-)

commit f2970661d630ca7b3c1db1b4bb5144f441d2be93
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Jan 23 13:52:12 2012 -0500

    Use the real pre-processor var: DEBUG_SXEMACS
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mule/mule-charset.h |    9 ++++++---
 src/ui/imgproc.c        |    2 +-
 2 files changed, 7 insertions(+), 4 deletions(-)

commit 28db26703561d88d53b4b70cf399a3d2a5064c38
Merge: 5aed234 2115401
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Jan 23 04:28:44 2012 -0500

    Merge remote-tracking branch 'origin/master' into njsf-cov

commit 5aed2346e889a9f8511d6334c3ddc3094b6e5c53
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Jan 23 04:26:35 2012 -0500

    Coverity: Forward NULL: CID 607
    
    	* lib-src/etags.c (regex_tag_multiline): Really fix Forward NULL.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/etags.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 61169e18a60bb0364064883e381d381cef96d298
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sun Jan 22 11:42:14 2012 +0000

    Summary: minor, add stack to --with-error-checking to turn SSP on
    Keywords: bldchn diagnostics
    
    This changeset fixes a potential stack bashing in the mapfam permutation
    code by inserting proper break statements where they belong.  This could
    be one of the reasons of bug #135 and it's yet to be shown that it fixes
    anything (other than pleasing coverity).
    
    * configure.ac: add `stack' to the error-checking multiarg
    
    * m4/sxe-compiler.m4: check for -fstack-protector and link with libssp
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 configure.ac       |    1 +
 m4/sxe-compiler.m4 |   37 ++++++++++++++++++++++++-------------
 2 files changed, 25 insertions(+), 13 deletions(-)

commit 21154013ed7da8fdb15d30d91a9c9a3915a88942
Merge: c783f52 3a7ea5e
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 21 16:44:57 2012 +1000

    Fix ase-interval from Nelson
    
    * merges:
      Fix crash in _ase_interval_union_boundary. Only fini tmp when ur->next becomes tmp->next

commit 3a7ea5e223c8fa88dc21b2b331620150685b7c68
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Jan 21 01:22:07 2012 -0500

    Fix crash in _ase_interval_union_boundary. Only fini tmp when ur->next becomes tmp->next
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 modules/ase/ase-interval.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c783f528dcc0addf42d02f89e212a9da264377ad
Merge: 9a7f3ee 4ce502b
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 21 15:36:53 2012 +1000

    Coverity fixes from Nelson
    
    * merges:
      Coverity: Assert side effect: CID 2
      Coverity: Checked return: CID 10
      Coverity: Checked return: CID 11
      Coverity: Checked return: CID 12
      Coverity: Char IO: CID 7
      Coverity: No effect: CID 134
      Coverity: Overrun static: CID 137, 136
      Coverity: Overrun static: CID 139
      Coverity: Overrun static: CID 141
      Coverity: Resource leak: CID 178
      Coverity: Resource leak: CID 180
      Coverity: Resource leak: CID 181
      Coverity: Resource leak: CID 181
      Coverity: Resource leak: CID 183
      Coverity: Resource Leak: CID 184
      Coverity: Resource Leak: CID 185
      Coverity: Forward NULL: CID 605
      Coverity: Missing return: CID 606

commit 4ce502bf3c9b2a19c0fa0bde0963d02581979dc1
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 23:44:33 2012 -0500

    Coverity: Assert side effect: CID 2
    
    	* src/extents.c (gap_array_delete_marker): Remove unnecessary
    	volatile (we don't multithread so we should have this be
    	interrupted. If at some point we make multi-threaded SXEmacs, this
    	should be protected by some barrier.
    
    	* src/extents.c (gap_array_delete_all_markers): Ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/extents.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 8904746582a01e0e28599691b7346828eb6cdc67
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 23:39:47 2012 -0500

    Coverity: Checked return: CID 10
    
    	* lib-src/hexl.c (main): signal intent to ignore read char
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/hexl.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 833700b99b3797553992dcc3258143c397f2a1cf
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 23:39:00 2012 -0500

    Coverity: Checked return: CID 11
    
    	* lib-src/make-docfile.c (scan_lisp_file): Signal intent to ignore
    	read char.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/make-docfile.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b63a0e0e78b7113692e7fbb6e91dbbd3782649e6
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 23:38:14 2012 -0500

    Coverity: Checked return: CID 12
    
    	* modules/ase/ase-interval.c (_ase_interval_union_item_fini):
    	Signal intention to ignore the return value of decref.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 modules/ase/ase-interval.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 934a7c561f9d3cf24e3d08984dbfbb0328a09f40
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 23:36:38 2012 -0500

    Coverity: Char IO: CID 7
    
    	* lib-src/make-docfile.c (read_lisp_symbol): Proper handling of
    	cast for getc...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/make-docfile.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 6224b813fc211ebb6d1955afd24977171f6807cf
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 23:26:55 2012 -0500

    Coverity: No effect: CID 134
    
    	* src/ui/TTY/event-tty.c (emacs_tty_next_event): Change the loop
    	variable to int to properly map the type of descriptors.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/TTY/event-tty.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 057eb2987cc8d99ca98a6e11d66c555c82c5b22a
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 23:24:45 2012 -0500

    Coverity: Overrun static: CID 137, 136
    
    	* src/mule/mule-charset.h (CHARSET_BY_ATTRIBUTES): Do paranoid
    	bounds checking...
    
    	* src/mule/mule-charset.h (REP_BYTES_BY_FIRST_BYTE): Make sure to
    	not dereference in fatal crash scenario where assert flows through...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mule/mule-charset.h |   16 +++++++++++++---
 1 file changed, 13 insertions(+), 3 deletions(-)

commit cb3b0d09437256491d66846563616d8522ea8267
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 23:18:37 2012 -0500

    Coverity: Overrun static: CID 139
    
    	* src/dumper.c (pdump_register_object): Fix of-by-one boundary and
    	return after abort for fatal crash scenario.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/dumper.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 279c58a3c19297dc6d9598306b591eb743cdd498
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 23:13:10 2012 -0500

    Coverity: Overrun static: CID 141
    
    	* src/ui/imgproc.c (get_histogram): Introduce paranoid histogram
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/imgproc.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit f17895f80d0334664e757a53e0ffeefe1e79be1a
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 23:04:34 2012 -0500

    Coverity: Resource leak: CID 178
    
    	* lib-src/etags.c (regex_tag_multiline): Make it clear a non-null
    	name was allocated in substitute and always free it :)
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/etags.c |   13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit 92651d16c6fa315df82af964d387cf1bdd9761f1
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 22:57:44 2012 -0500

    Coverity: Resource leak: CID 180
    
    	* lib-src/movemail.c (lock_dot): free the memory
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/movemail.c |    1 +
 1 file changed, 1 insertion(+)

commit e3a01be74c0f07481e43001bfed94e0c5395d870
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 22:55:04 2012 -0500

    Coverity: Resource leak: CID 181
    
    	* lib-src/ootags.c (Erlang_functions): free the memory
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/ootags.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ca6452701725d6abe64598dbbcda957030e4360e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 22:53:29 2012 -0500

    Coverity: Resource leak: CID 181
    
    	* lib-src/ootags.c (Erlang_functions): xfree the memory
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/ootags.c |    1 +
 1 file changed, 1 insertion(+)

commit c92a719ac8e837d52a3000a45d6bd72305b358c7
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 22:52:05 2012 -0500

    Coverity: Resource leak: CID 183
    
    	* lib-src/yow.c (yow): Free the memory...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/yow.c |    1 +
 1 file changed, 1 insertion(+)

commit 046a66e11707c6e76176e3dce08fc76866aeade9
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 22:49:06 2012 -0500

    Coverity: Resource Leak: CID 184
    
    	* modules/ase/ase-interval.c (_ase_interval_union_boundary):
    	Properly get rid of the interval.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 modules/ase/ase-interval.c |    1 +
 1 file changed, 1 insertion(+)

commit e87857fc24bf72612292103e92a61c675f801a69
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 22:44:28 2012 -0500

    Coverity: Resource Leak: CID 185
    
    	* modules/ase/ase-interval.c (_ase_subtract_intr_intr): Properly
    	get rid of the interval.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 modules/ase/ase-interval.c |    1 +
 1 file changed, 1 insertion(+)

commit 0057a176ea017316165f9d2a3640b05bfb70f025
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 22:15:40 2012 -0500

    Coverity: Forward NULL: CID 605
    
    	* src/ui/X11/event-Xt.c (Xt_timeout_callback): Just return in case
    	of fatal crash scenario.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/event-Xt.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 648931ae6ad9a545bd4ee6f987bb19200d55933d
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 22:13:23 2012 -0500

    Coverity: Missing return: CID 606
    
    	* src/ui/window.c (window_display_buffer): Return NULL for the
    	fatal crash scenario.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/window.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 9a7f3ee25228ddbd5e2299d8c262680f6edebc8b
Merge: aa64fcb 413ebfa
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 21 12:16:00 2012 +1000

    configure fix plus mapfam fix from Sebastian
    
    * merges:
      Summary: fix, add missing break statements in mapfam permutation code Keywords: fix bug 135
      Summary: fix, properly expand OG_MULTIARG_ITEM indirections Keywords: bldchn

commit 413ebfa894ee618c9237391075ba3f4ee8eac177
Merge: 31b0c16 acc7abe
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sat Jan 21 00:03:25 2012 +0000

    Merge branch 'bug/135' into next
    
    * bug/135:
      Summary: fix, add missing break statements in mapfam permutation code Keywords: fix bug 135

commit acc7abeec3efba40fecdc78e2626199a5b6ed963
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sat Jan 21 00:03:13 2012 +0000

    Summary: fix, add missing break statements in mapfam permutation code
    Keywords: fix bug 135
    
    This changeset fixes a potential stack bashing in the mapfam permutation
    code by inserting proper break statements where they belong.  This could
    be one of the reasons of bug #135 and it's yet to be shown that it fixes
    anything (other than pleasing coverity).
    
    * src/map.c (__perm_nseq): no switch fallthrough, insert breaks
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 src/map.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 31b0c16f5f716e990346ae49553107d25fc36315
Merge: 910cd5f 654c80d
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Fri Jan 20 23:58:21 2012 +0000

    Merge branch 'bldchn' into next
    
    * bldchn:
      Summary: fix, properly expand OG_MULTIARG_ITEM indirections Keywords: bldchn

commit 654c80d5b994db7452faf40ddad9f27eb3361bf5
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Fri Jan 20 23:58:10 2012 +0000

    Summary: fix, properly expand OG_MULTIARG_ITEM indirections
    Keywords: bldchn
    
    This changeset expands the explanations of multiarg items in option
    groups properly (again), m4_text_wrap (and AS_HELP_STRING) fail to
    evaluate arguments that come from the temporary redefinition of
    OG_MULTIARG_ITEM.
    
    * m4/sxe-option-groups.m4: mimic AS_HELP_STRING in temporary expansion
      of OG_MULTIARG_ITEM
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 m4/sxe-option-groups.m4 |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit aa64fcb6e723167c928c07f4acbf8a2661482942
Merge: 910cd5f dab98df
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 21 09:13:36 2012 +1000

    Coverity updates/fixes from Nelson
    
    * merges:
      Avoid warnings
      Coverity: Forward NULL: CID 32
      Coverity: Forward NULL: CID 33
      Coverity: Forward NULL: CID 34
      Coverity: Forward NULL: CID 35
      Coverity: Forward NULL: CID 37
      Coverity: Forward NULL: CID 38
      Coverity: Forward NULL: CID 39
      Coverity: Forward NULL: CID 42, 41
      Coverity: Forward NULL: CID 44, 43, 36
      Coverity: Forward NULL: CID 48
      Coverity: Forward NULL: CID 49
      Coverity: Forward NULL: CID 50
      Coverity: Forward NULL: CID 51
      Coverity: Forward NULL: CID 54, 53, 52
      Fix additional transcoding assertions
      Coverity: Negative returns: CID 121
      Update link to newest compface in INSTALL
      Coverity: Missing return: CID 604

commit dab98dfe7e945cb258b3999405285c652f5bedd5
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 13:11:39 2012 -0500

    Avoid warnings
    
    	* src/ui/X11/device-x.c (x_get_visual_depth): Avoid uninitialized
    	return in fatal crash.
    
    	* src/ui/X11/frame-x.c (x_set_frame_properties): Change warn to
    	message, just in case...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/device-x.c |    7 ++++---
 src/ui/X11/frame-x.c  |    2 +-
 2 files changed, 5 insertions(+), 4 deletions(-)

commit 74f15f2d86f0992572a33474e74142078ddc9589
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 12:54:38 2012 -0500

    Coverity: Forward NULL: CID 32
    
    	* src/extents.c (extent_list_delete_marker): Make sure p is not
    	dereference if NULL even in case of fatal crash.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/extents.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 99b5fe2c050ea35c16082aefc58c98c77bb2b36d
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 12:52:29 2012 -0500

    Coverity: Forward NULL: CID 33
    
    	* src/alloc.c (build_string): Make sure to only dereference str if
    	not NULL even in fatal crash case.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/alloc.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit a859b9f6e1aabeb078447b7ade104872a29f232a
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 12:50:42 2012 -0500

    Coverity: Forward NULL: CID 34
    
    	* src/mem/ralloc.c (r_alloc_free): Make sure bloc is only
    	dereferenced if not NULL even in fatal crash case.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mem/ralloc.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9575c8397d573b59f5a8eea4b25c316c43bb0ea2
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 12:49:52 2012 -0500

    Coverity: Forward NULL: CID 35
    
    	* src/mem/ralloc.c (r_re_alloc): Make sure bloc is only
    	dereferenced if not NULL even in fatal crash case.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mem/ralloc.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f716a3b0be55f94021cfedfc7d753ea0392f7573
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 12:47:31 2012 -0500

    Coverity: Forward NULL: CID 37
    
    	* src/fns.c (concat): Make sure args_mse is not dereferenced in
    	case of NULL even in case of fatal crash.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/fns.c |   26 +++++++++++++++-----------
 1 file changed, 15 insertions(+), 11 deletions(-)

commit d4926cb5411fd768b58c554e26819c5009840a03
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 12:45:25 2012 -0500

    Coverity: Forward NULL: CID 38
    
    	* src/doprnt.c (emacs_doprnt_1): Make sure to only dereference
    	largs if NULL even in case of a '*' format qualifier.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/doprnt.c |   40 ++++++++++++++++++++++------------------
 1 file changed, 22 insertions(+), 18 deletions(-)

commit 32ed6a695bac107bdf8a5dc484ab8e67589e1176
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 12:44:04 2012 -0500

    Coverity: Forward NULL: CID 39
    
    	* lib-src/etags.c (regex_tag_multiline): Make sure to abort if name is NULL
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/etags.c |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 715ed25978e77d14d2c5aa247368da08a881dbcb
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 12:43:14 2012 -0500

    Coverity: Forward NULL: CID 42, 41
    
    	* src/ui/redisplay-output.c (redisplay_clear_region): Make sure to
    	return from function for case of fatal crash after abort.
    
    	* src/ui/redisplay.c (regenerate_window): Ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/redisplay-output.c |    4 +++-
 src/ui/redisplay.c        |    4 +++-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 2f7cadd290b9973d8db079be2581173407a2f181
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 12:41:16 2012 -0500

    Coverity: Forward NULL: CID 44, 43, 36
    
    	* src/ui/window.c (window_display_buffer): Make sure t is only
    	dereference if not NULL even in case of fatal crash.
    
    	* src/ui/window.c (set_window_display_buffer): Ditto.
    	* src/ui/window.c (window_display_lines): Ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/window.c |   11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit e07adc7d56a903c846f5c5e55e2f70757f20db1a
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 12:39:01 2012 -0500

    Coverity: Forward NULL: CID 48
    
    	* src/ui/X11/device-x.c (x_get_visual_depth): make sure vi_out is
    	only dereference is not NULL, even in fatal crash scenario.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/device-x.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit a87437524e64742c929b0c86232067055c1b540d
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 12:35:49 2012 -0500

    Coverity: Forward NULL: CID 49
    
    	* src/ui/lwlib/lwlib.c (instantiate_widget_instance): Make sure
    	function is not dereferenced as NULL even in fatal crash case.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/lwlib/lwlib.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1856695aa7efb60b70258641d01fa6cd7074c906
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 12:34:43 2012 -0500

    Coverity: Forward NULL: CID 50
    
    	* src/ui/lwlib/lwlib-Xlw.c (xlw_update_tab_control): Make sure cur
    	is not dereference when NULL.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/lwlib/lwlib-Xlw.c |   25 +++++++++++++------------
 1 file changed, 13 insertions(+), 12 deletions(-)

commit 933b1b9038a375cdac9c276434d3dd52abee777d
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 12:33:00 2012 -0500

    Coverity: Forward NULL: CID 51
    
    	* src/ui/X11/event-Xt.c (Xt_timeout_callback): Make sure possible
    	NULL are not dereference, even in fatal crash scenario.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/event-Xt.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 8768c972136b853ceb2e811c56de5c8d996f592f
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 12:31:22 2012 -0500

    Coverity: Forward NULL: CID 54, 53, 52
    
    	* src/ui/X11/xgccache.c (gc_cache_lookup): Make sure not to derefence possible NULL pointers.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/xgccache.c |   70 +++++++++++++++++++++++++++----------------------
 1 file changed, 38 insertions(+), 32 deletions(-)

commit f3ab0ede4aaf66f6e56f4bed327f09f82cf364a7
Merge: 60721b3 8bd015f
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 12:28:55 2012 -0500

    Merge branch 'for-steve' into njsf-cov

commit 8bd015f04a63b254d8e27b7b0cb2ac9e267a8d2f
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 12:28:05 2012 -0500

    Fix additional transcoding assertions
    
    	* src/buffer.h (TO_EXTERNAL_FORMAT): Remove the bad assert (ie not
    	valid in all conditions).
    	* src/buffer.h (TO_INTERNAL_FORMAT): Ditto.
    
    	* src/buffer.h (DFC_SOURCE_DATA_TO_ARGS): Do the proper assert to
    	the source conversion.
    	* src/buffer.h (DFC_SOURCE_C_STRING_TO_ARGS): Ditto.
    	* src/buffer.h (DFC_SOURCE_LISP_OPAQUE_TO_ARGS): Ditto.
    
    	* src/buffer.h (DFC_ALLOCA_USE_CONVERTED_DATA): Do the proper assert
    	to the converted data.
    	* src/buffer.h (DFC_MALLOC_USE_CONVERTED_DATA): Ditto.
    	* src/buffer.h (DFC_C_STRING_ALLOCA_USE_CONVERTED_DATA): Ditto.
    	* src/buffer.h (DFC_C_STRING_MALLOC_USE_CONVERTED_DATA): Ditto.
    	* src/buffer.h (DFC_LISP_STRING_USE_CONVERTED_DATA): Ditto.
    	* src/buffer.h (DFC_LISP_OPAQUE_USE_CONVERTED_DATA): Ditto.
    
    	* src/alloc.c (ALLOCATE_FIXED_TYPE): Make sure to detect failed
    	allocations.
    	* src/alloc.c (ALLOCATE_ATOMIC_FIXED_TYPE): Ditto.
    	* src/alloc.c (make_uninit_string): Make sure the uninit string is
    	valid after construction.
    
    	* src/opaque.c (make_opaque): Make sure to detect failed
    	allocations even in the fatal crash scenario.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/alloc.c  |   25 ++++++++++++++++---------
 src/buffer.h |   30 ++++++++++++++++++++++--------
 src/opaque.c |   29 +++++++++++++++++------------
 3 files changed, 55 insertions(+), 29 deletions(-)

commit 60721b3e75269648a0113d5ccb30979bd6ea9f8c
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 10:38:36 2012 -0500

    Coverity: Negative returns: CID 121
    
    	* src/ui/TTY/objects-tty.c (tty_font_spec_matches_charset):
    	Actually fix the negative return issue, for the fatal crash case.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/TTY/objects-tty.c |    1 +
 1 file changed, 1 insertion(+)

commit 7cd3c3873df27acf88f29390ae2ab98fbc4ffa8b
Merge: 9879986 6983c77
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 10:36:01 2012 -0500

    Merge branch 'for-steve' into njsf-cov

commit 6983c7712aba1a34051d979acb04c5c82cf41805
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 10:35:51 2012 -0500

    Update link to newest compface in INSTALL
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 INSTALL |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9879986b3e8eb46c632aad42605bbdf46fe85a93
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 20 10:35:23 2012 -0500

    Coverity: Missing return: CID 604
    
    	* src/ui/glyphs.c (Fglyph_type): Tidy up a missing return caused
    	by a previous missing break...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/glyphs.c |    1 +
 1 file changed, 1 insertion(+)

commit 910cd5f620045acaa21e8c765cee64f061947f2b
Merge: 56c06c8 09e0c4e
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Jan 20 14:55:22 2012 +1000

    Coverity updates/fixes from Nelson
    
    * merges: (21 commits)
      Coverity: Missing break: CID 67
      Coverity: Missing break: CID 68
      Coverity: Missing break: CID 69
      Coverity: Missing break: CID 72
      Coverity: Missing break: CID 73
      Coverity: Missing Break: CID 76
      Coverity: Missing lock: CID 81
      Coverity: Missing Lock: CID 82
      Fix build
      Coverity: Negative returns: CID 91
      Coverity: Negative RETURNS: CID 106
      Coverity: Negative returns: CID 107
      Coverity: Negative Returns: CID 121
      Coverity: Reverse INULL: CID 202
      Coverity: Reverse INULL: CID 130
      Coverity: Reverse Negative: CID 210
      Coverity: UNINIT: CID 395
      Coverity: Uninit: CID 396
      Coverity: UNINIT: CID 602
      Coverity: Uninit: CID 603
      ...

commit 09e0c4e2ff3aca97ffa37fae98533cc90f2848b0
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 23:30:08 2012 -0500

    Coverity: Missing break: CID 67
    
    	* src/chartab.c (char_table_type_to_symbol): Add break to account
    	for fatal crash scenario.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/chartab.c |    1 +
 1 file changed, 1 insertion(+)

commit 39038c4fd609c44d36790a477429d19225b46eb7
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 23:29:29 2012 -0500

    Coverity: Missing break: CID 68
    
    	* src/events/events.c (Fevent_properties): Add break to account
    	for fatal crash scenario.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/events/events.c |    1 +
 1 file changed, 1 insertion(+)

commit 100ad3638f523f39cff1f19081b2e357b9370204
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 23:28:46 2012 -0500

    Coverity: Missing break: CID 69
    
    	* src/events/events.c (event_equal): Add break to account for
    	fatal crash scenario.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/events/events.c |    1 +
 1 file changed, 1 insertion(+)

commit eef3d3bac8c27c6a4f8f16d7579a69834c8200f3
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 23:18:18 2012 -0500

    Coverity: Missing break: CID 72
    
    	* src/mule/file-coding.c (Fcoding_system_type): Add break to
    	account with fatal crash situation.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mule/file-coding.c |    1 +
 1 file changed, 1 insertion(+)

commit 0c0a6fa65571b27b09b9fcaf2a554a34a8a25244
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 23:17:16 2012 -0500

    Coverity: Missing break: CID 73
    
    	* src/mule/file-coding.c (eol_type_to_symbol): Add break to
    	account with fatal crash situation.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mule/file-coding.c |    1 +
 1 file changed, 1 insertion(+)

commit 3aabea71e53bcea08699adac7b3c3a1bf44e8fc5
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 23:15:36 2012 -0500

    Coverity: Missing Break: CID 76
    
    	* src/ui/glyphs.c (Fglyph_type): Add break to account for fatal
    	crash situation.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/glyphs.c |    1 +
 1 file changed, 1 insertion(+)

commit 4bee0216b68e14499c828f154e8d0bb61a7cbb37
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 23:08:10 2012 -0500

    Coverity: Missing lock: CID 81
    
    	* src/semaphore.h (sxe_refcounter_finish): Be "correct" and
    	pedantic about locking in refcounter_init
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/semaphore.h |    2 ++
 1 file changed, 2 insertions(+)

commit 72f2e2df54ee12e09f8e780bc6709aa9ac77a8e9
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 23:07:05 2012 -0500

    Coverity: Missing Lock: CID 82
    
    	* src/semaphore.h (sxe_refcounter_new): Fix the refcounter finish
    	locking
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/semaphore.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 33d8973d9c98fbdfcab69951c55a472d0383d7ee
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 22:46:00 2012 -0500

    Fix build
    
    	* src/ui/X11/xgccache.c (gc_cache_lookup): Fix build (missing } )
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/xgccache.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 9cca0d8d68367c00f023ea3f21e7d4a5027a0ffb
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 22:43:57 2012 -0500

    Coverity: Negative returns: CID 91
    
    	* lib-src/gnuserv.c (handle_unix_request): Handle error in
    	accept...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/gnuserv.c |    2 ++
 1 file changed, 2 insertions(+)

commit b1295cda5c773a2cd3114928bc77d8b6a1d98fd8
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 22:42:32 2012 -0500

    Coverity: Negative RETURNS: CID 106
    
    	* src/indent.c (vpix_motion): Try to handle more safely the
    	crashing fatally scenario...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/indent.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit a491fd4b1aade2921020c5cf52472f21ef279b9f
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 22:36:59 2012 -0500

    Coverity: Negative returns: CID 107
    
    	* src/dumper.c (pdump): Make sure not to take invalid paths even
    	when abort is a no-op...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/dumper.c |   51 +++++++++++++++++++++++++++------------------------
 1 file changed, 27 insertions(+), 24 deletions(-)

commit 42ae112d4a21d883369d69c45efbadcf157db234
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 22:34:49 2012 -0500

    Coverity: Negative Returns: CID 121
    
    	* src/ui/TTY/objects-tty.c (tty_font_spec_matches_charset): Make
    	sure to abort in case of invariant violation.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/TTY/objects-tty.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 93c6246197ce7e1b0e51323c7767828b51f8e090
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 22:26:32 2012 -0500

    Coverity: Reverse INULL: CID 202
    
    	* src/mem/ralloc.c (update_heap_bloc_correspondence): Be extra
    	safe and do "abort" on violation of stated (in comment) invariant.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mem/ralloc.c |   14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit f157312d437fa486a6aac0496228a142fe0955d8
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 22:22:37 2012 -0500

    Coverity: Reverse INULL: CID 130
    
    	* src/media/sound.c (audio_device_finalise): Do nothing if header is NULL
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/sound.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 66cee2ac0273308a5b5f8a537ce3ab5aba7a5270
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 22:19:45 2012 -0500

    Coverity: Reverse Negative: CID 210
    
    	* src/process-unix.c (unix_kill_child_process): Make sure to test
    	for subtty non negative before calling process_signal_char.
    
    	* src/process-unix.c (process_signal_char): Make sure fd is non
    	negative.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/process-unix.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 621c404bfe5acd8cff03ad93fd6997433d78f5f3
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 22:10:06 2012 -0500

    Coverity: UNINIT: CID 395
    
    	* src/extents.c (extent_fragment_update): Make sure the glyph_bloc
    	is initialized.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/extents.c |    2 ++
 1 file changed, 2 insertions(+)

commit b0ff2d2fad4141191f1eac49c4fef87203288f7c
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 22:08:33 2012 -0500

    Coverity: Uninit: CID 396
    
    	* src/fileio.c (file-truename) Make sure path is initialized before use.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/fileio.c |  138 +++++++++++++++++++++++++++++++---------------------------
 1 file changed, 75 insertions(+), 63 deletions(-)

commit 5e0a19884011fbc2e981a050b8ed237f046fbba3
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 21:56:49 2012 -0500

    Coverity: UNINIT: CID 602
    
    	* src/ui/X11/xgccache.c: More UNINIT cleanup
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/xgccache.c |   74 +++++++++++++++++++++++++++----------------------
 1 file changed, 41 insertions(+), 33 deletions(-)

commit 75c6f9971dcd7cd46b12a24f37adeb2839f880fd
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 21:51:25 2012 -0500

    Coverity: Uninit: CID 603
    
    	* src/ui/lwlib/lwlib-Xaw.c (xaw_generic_callback): Make sure
    	user_data is either initialized or not used :)
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/lwlib/lwlib-Xaw.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e6a7b0fcfb699c888a42d54c2836f1bd3f952935
Merge: 66e9062 56c06c8
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 19 21:44:23 2012 -0500

    Fix get_dyna_doc CHAR_IO issue sync
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

commit 56c06c800f1de468e98031db5e642d55662722a0
Merge: 5914a4f 2362ded
Author: Steve Youngs <steve@sxemacs.org>
Date:   Thu Jan 19 11:29:50 2012 +1000

    Coding style cleanups from Aidan
    
    * from-aidan:
      Improve conformance with usual coding style in effi.c.

commit 2362ded7507a973f35649a22f03f9720441085a9
Author: Aidan Kehoe <kehoea@parhasard.net>
Date:   Wed Jan 18 22:04:17 2012 +1000

    Improve conformance with usual coding style in effi.c.
    
    Qabcdef should hold the perfectly normal, interned symbol abcdef, its
    C variable should not be named Q_abcdef, that would imply the keyword
    :abcdef.
    
            * effi.c:
            Only declare the symbols corresponding to foreign types if they're
            not declared elsewhere. Follow the usual convention as above.
            * effi.c (FFI_TPTR): Change symbol names here.
            * effi.c (Fffi_basic_type_p): Ditto.
            * effi.c (ffi_canonicalise_type): Ditto.
            * effi.c (Fffi_size_of_type): Ditto.
            * effi.c (Fmake_ffi_object): Ditto.
            * effi.c (Fffi_make_pointer): Ditto.
            * effi.c (Fffi_load_library): Ditto.
            * effi.c (ffi_type_align): Ditto.
            * effi.c (ffi_fetch_foreign): Ditto.
            * effi.c (Fffi_fetch): Ditto.
            * effi.c (Fffi_aref): Ditto.
            * effi.c (Fffi_store): Ditto.
            * effi.c (Fffi_aset): Ditto.
            * effi.c (Fffi_address_of): Ditto.
            * effi.c (Fffi_lisp_object_to_pointer): Ditto.
            * effi.c (extffi_setup_argument): Ditto.
            * effi.c (Fx_device_display): Ditto.
            * effi.c (ffi_callback_call_x86): Ditto.
            * effi.c (Fffi_make_callback): Ditto.
            * effi.c (syms_of_ffi): Use DEFSYMBOL where appropriate, document an
            oddity with Qffiobjectp.
            * general-slots.h: Move Qshort, Qvoid here.
            * lisp.h: Remove Qshort, Qvoid from here.
            * map.c: Ditto.
            * map.c (map_LTX_init): Ditto.
            * mule/file-coding.c: Ditto.
            * mule/file-coding.c (syms_of_file_coding): Ditto.
            * mule/file-coding.h: Ditto.
    
    Signed-off-by: Aidan Kehoe <kehoea@parhasard.net>
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/effi.c             |  277 +++++++++++++++++++++++-------------------------
 src/general-slots.h    |    2 +
 src/lisp.h             |    2 +-
 src/map.c              |    3 +-
 src/mule/file-coding.c |    3 +-
 src/mule/file-coding.h |    2 +-
 6 files changed, 138 insertions(+), 151 deletions(-)

commit 5914a4fad294a51c938aed5aea4f31f79ad9aade
Merge: 1d7e40f f92fd21
Author: Steve Youngs <steve@sxemacs.org>
Date:   Thu Jan 19 09:38:10 2012 +1000

    Coverity fixes from Nelson
    
    * merges:
      Coverity: FORWARD NULL: CID 54, 53, 52
      Coverity: Forward NULL: CID 59, 58, 56
      Coverity: CHAR_IO: CID 5,6,7,9
      Coverity: UNINIT: CID 393
      Coverity: UNINIT: CID 397
      Coverity: UNINIT: CID 398
      Coverity: UNINIT: CID 399
      Coverity: Uninit: CID 400
      Coverity: UNINIT: CID 401
      Fix build
      Fix build
      Coverity: UNINIT: CID 402
      Coverity: UNINIT: CID  403
      Coverity: UNINIT: CID 405, 404
      Coverity: UNUSED: CID 427
      Coverity: Forward NULL: CID 439
      Coverity: UNINIT: CID 599
      Coverity: UNINIT: CID 600
      Coverity: UNINIT: CID 601

commit f92fd21ab4ce4207d433d88da21d08eb9244616d
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 15:34:07 2012 -0500

    Coverity: FORWARD NULL: CID 54, 53, 52
    
    	* src/ui/X11/xgccache.c (gc_cache_lookup): Refactor abort() flow
    	through to shut up coverity.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/xgccache.c |  188 ++++++++++++++++++++++++-------------------------
 1 file changed, 94 insertions(+), 94 deletions(-)

commit 84530dd18aae423c71530024138d6efdd49e9c1b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 15:29:11 2012 -0500

    Coverity: Forward NULL: CID 59, 58, 56
    
    	* src/ui/lwlib/lwlib-Xaw.c (xaw_generic_callback): Make sure you
    	do not dereference possible NULL val.
    
    	* src/ui/lwlib/lwlib-Xaw.c (wm_delete_window): Make sure widget
    	and kids are only used when valid.
    
    	* src/ui/lwlib/lwlib.c (replace_widget_value_tree): Make sure node
    	is only used if != NULL.
    
    	* src/ui/lwlib/lwlib.c (lw_map_widget_values): Make sure info is
    	only used if != NULL.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/lwlib/lwlib-Xaw.c |   38 ++++++++++++++++++++------------------
 src/ui/lwlib/lwlib.c     |   14 ++++++++------
 2 files changed, 28 insertions(+), 24 deletions(-)

commit 04a8b7880c5fa9ccdc8c8a11af65c2abdf10f184
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 14:51:21 2012 -0500

    Coverity: CHAR_IO: CID 5,6,7,9
    
    	* lib-src/make-docfile.c (skip_white): Use proper return type of getc
    	* lib-src/make-docfile.c (read_lisp_symbol): Ditto
    	* src/signal.c (interrupt_signal): Ditto
    	* lib-src/make-docfile.c (scan_c_file): Do proper casting
    
    	* lib-src/make-docfile.c (get_dyna_doc): Let the casting
    	implementation do the truncation.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/make-docfile.c |   11 ++++++-----
 src/signal.c           |    2 +-
 2 files changed, 7 insertions(+), 6 deletions(-)

commit d39f2f1c4061b18bd7a7696da06cee2f777cfb18
Merge: c5dd7ff da4b7eb
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 13:17:03 2012 -0500

    Merge branch 'njsf-cov' into for-steve

commit da4b7ebceb52467c7b4aad9e0bda5d974bb623cc
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 13:11:14 2012 -0500

    Coverity: UNINIT: CID 393
    
    	* src/print.c (write_string_to_stdio_stream): handle the case
    	where the transcoding fails.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/print.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit c67a873ae6b29bd63d3f7dd8de578eb301d1d6fb
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 13:06:23 2012 -0500

    Coverity: UNINIT: CID 397
    
    	* src/buffer.c (directory_is_current_directory): Handle the case
    	of failed transcoding by attempting to use the non-transcoded
    	version. There is a high chance it is proper. Worst case it will
    	also fail, like the bad conversion would have prompted.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/buffer.c |   15 ++++++++++++---
 1 file changed, 12 insertions(+), 3 deletions(-)

commit 8e26fe35b671025c55641b6b9bdc04e516f408fc
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 13:02:11 2012 -0500

    Coverity: UNINIT: CID 398
    
    	* src/effi.c (Fffi_store): Make sure tmp is only used in the mule
    	case if transcoding was proper.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/effi.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 5e2d1c41c90e747177da164e89af6d03adc0c17d
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 13:00:56 2012 -0500

    Coverity: UNINIT: CID 399
    
    	* src/effi.c (Fffi_store): Make sure val_ext is only used if
    	transcoding was successful.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/effi.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 7de0f0c6b7b8237b80cd7ad619e72b4a56924280
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 12:58:57 2012 -0500

    Coverity: Uninit: CID 400
    
    	* src/emacs.c (decode_path): make sure to return Qnil if
    	transcoding failed.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/emacs.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit dbeb4e4fa479be0ee96460a47f22f4de811f2380
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 12:57:36 2012 -0500

    Coverity: UNINIT: CID 401
    
    	* src/media/media.c (Fmake_media_stream): make sure the stream is
    	only created if transcoding was ok.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media.c |   29 ++++++++++++++++-------------
 1 file changed, 16 insertions(+), 13 deletions(-)

commit c5dd7ff525ccb70e906ee3f0ba968c13e40b2525
Merge: 1d7e40f 65f8ed4
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 12:51:55 2012 -0500

    Merge branch 'njsf-cov' into for-steve

commit 65f8ed4bdb713c8b4db7bddd9b168678305abf73
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 12:35:32 2012 -0500

    Fix build
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/select-x.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 594ea6d9dbd9971d84ec4bedd70f71aef66ded62
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 12:34:57 2012 -0500

    Fix build
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/select-x.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c5efdef56f685686524978f79f045c125e6dbcd3
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 12:26:44 2012 -0500

    Coverity: UNINIT: CID 402
    
    	* src/print.c (Falternate_debugging_output): Make sure to handle
    	the case where transcoding failed.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/print.c |   15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit 1fb5a570506f1e840244607344c83fc13f42f54b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 12:23:45 2012 -0500

    Coverity: UNINIT: CID  403
    
    	* src/ui/X11/gui-x.c (button_item_to_widget_value): Make sure
    	intname is only used if properly transcoded.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/gui-x.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 44ef07bf010ea6d6458e656536d6d27052229a50
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 12:22:43 2012 -0500

    Coverity: UNINIT: CID 405, 404
    
    	* src/ui/X11/frame-x.c (x_set_frame_properties): Make sure extval
    	is only used if properly transcoded.
    
    	* src/ui/X11/select-x.c (lisp_data_to_selection_data): Ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/frame-x.c  |   12 ++++++++----
 src/ui/X11/select-x.c |   26 +++++++++++++++++---------
 2 files changed, 25 insertions(+), 13 deletions(-)

commit 08216bc53daf097dec8b5007a7936dad62309c49
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 12:00:24 2012 -0500

    Coverity: UNUSED: CID 427
    
    	* src/ui/insdel.c (init_buffer_text): Get rid of unused
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/insdel.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 43673e8ac4bdc0233c3fdc05e157565c8753e584
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 11:57:17 2012 -0500

    Coverity: Forward NULL: CID 439
    
    	* src/fns.c (concat): Manually skip and abort when
    	string_result_ptr is NULL. Coverity is actually right
    	here, because when we are in a fatal error handling,
    	assert will be a no-op, so we better just put an
    	abort for the other cases and not try to dereference...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/fns.c |   15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit 55b0ffb0d07dafe1a954edd6f297c2640fd27ae6
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 11:42:58 2012 -0500

    Coverity: UNINIT: CID 599
    
    	* src/emacs.c (run_emacs_from_temacs): Make sure the arguments
    	were really transcoded before using them
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/emacs.c |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 279da956ca93015b9d058922416626cccedd745e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 11:39:21 2012 -0500

    Coverity: UNINIT: CID 600
    
    	* src/ui/X11/objects-x.c (x_find_charset_font): Make sure intname
    	is only used if transcoding worked properly.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/objects-x.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 6222a6574476848e1358c8d880cb01be1da2094b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 18 11:37:32 2012 -0500

    Coverity: UNINIT: CID 601
    
    	* src/ui/glyphs-eimage.c (jpeg_instantiate): Make sure bytes is
    	only used if properly transcoded.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/glyphs-eimage.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 1d7e40fb2a30201c67e479ae2f021faa51e4bc87
Merge: 4b1df12 b2cd5d5
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sun Jan 15 14:52:10 2012 +1000

    Coverity fixes from Nelson
    
    * merges:
      Add a couple of missing semicolons on last commit
      Fix build
      Add some sanity assertions to format conversions.
      Coverity: UNINIT: CID 409,408,407,406
      Coverity: UNINIT: CID 410
      Coverity: UNREACHABLE: CID 426, 425, 424, 423, 422, 421
      Coverity: UNINIT: CID 453
      Coverity: Uninit: CID 473
      Coverity: Char IO: CID 595
      Coverity: No effect: CID 598
      Coverity: LOCK: CID 597

commit b2cd5d5c18992a1eb3015b07a62aa853bd750ed2
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Jan 14 22:48:58 2012 -0500

    Add a couple of missing semicolons on last commit
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/buffer.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit abd5ba930f3eff1a60d7a1380a1fa3760e2ed94c
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Jan 14 22:45:25 2012 -0500

    Fix build
    
    	* src/buffer.h (TO_EXTERNAL_FORMAT): Move assertion up so that
    	macro can be used as single statement.
    
    	* src/buffer.h (TO_INTERNAL_FORMAT): Ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/buffer.h |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit d68824ecf59c0729731cc36644d220a3a0435d73
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Jan 14 22:32:04 2012 -0500

    Add some sanity assertions to format conversions.
    
    	* src/buffer.h (TO_EXTERNAL_FORMAT): Add additional assert of
    	validity after conversion.
    
    	* src/buffer.h (TO_INTERNAL_FORMAT): Ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/buffer.h |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit cbc25b994b0083d3a224a40997ca3c7b83b7f396
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Jan 14 22:26:00 2012 -0500

    Coverity: UNINIT: CID 409,408,407,406
    
    	* src/ui/glyphs-eimage.c (rawrgb_instantiate): Only instantiate
    	image if the data was properly transcoded.
    
    	* src/ui/glyphs-eimage.c (png_instantiate): Ditto. In this case,
    	signal_image_error is best due to complexity.
    
    	* src/ui/glyphs-eimage.c (gif_instantiate): Ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/glyphs-eimage.c |   96 ++++++++++++++++++++++++++++--------------------
 1 file changed, 56 insertions(+), 40 deletions(-)

commit 911f959f5b57ac2f6aa040a445b9087ee36d313c
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Jan 14 22:12:48 2012 -0500

    Coverity: UNINIT: CID 410
    
    	* src/ui/glyphs-eimage.c (rawrgba_instantiate): Make sure data is
    	only used if conversion was proper.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/glyphs-eimage.c |   38 +++++++++++++++++++++-----------------
 1 file changed, 21 insertions(+), 17 deletions(-)

commit b8dfdeb05644f538a164c351d652efbf30225ca2
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Jan 14 22:05:53 2012 -0500

    Coverity: UNREACHABLE: CID 426, 425, 424, 423, 422, 421
    
    	* src/openssl.c (ossl_digest_fun): Just appease Coverity and add
    	do the while(0)...
    	* src/openssl.c (ossl_cipher_fun): Ditto.
    	* src/openssl.c (OSSL_CHECK_PROCESS): Ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/openssl.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit cc4843fb8ee352c9cb5ae52398edc4e4f7577fb7
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Jan 14 21:56:20 2012 -0500

    Coverity: UNINIT: CID 453
    
    	* src/ui/glyphs-eimage.c (tiff_instantiate): Make sure file is
    	properly encoded before using it. This one is a bit uglier due to
    	the custom unwind here for error handling.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/glyphs-eimage.c |  130 ++++++++++++++++++++++++++----------------------
 1 file changed, 70 insertions(+), 60 deletions(-)

commit f85a86969739ee375c9d9f18a1791c85a9a51fae
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Jan 14 21:47:51 2012 -0500

    Coverity: Uninit: CID 473
    
    	* src/media/media-sndfile.c (media_sndfile_open): Make sure to
    	only call sf_open if file name was properly converted.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-sndfile.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 488e58bd0bb3f3af02c08fbe36a49a4ecf6afb26
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Jan 14 21:43:54 2012 -0500

    Coverity: Char IO: CID 595
    
    	* lib-src/make-docfile.c (get_dyna_doc): Make sure to properly
    	downcast the result of getc to char, after checking for its
    	validity (ie != -1).
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/make-docfile.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 93104f52834252c256cd3333dcb75b3e72e8449e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Jan 14 21:37:21 2012 -0500

    Coverity: No effect: CID 598
    
    	* src/media/media-mad.c (media_mad_open): Use long for result of
    	ftell. Previous use of size_t could cause a bad ftell to be
    	considered a maximum size media file... Later the positive size has
    	to be cast to size_t for storage in the structure.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-mad.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d476f814788a4e1330bf7142c57ba58918590c97
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Jan 14 21:27:31 2012 -0500

    Coverity: LOCK: CID 597
    
    	* src/media/sound-esd.c (sound_esd_play): Add missing unlock
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/sound-esd.c |    1 +
 1 file changed, 1 insertion(+)

commit 4b1df12e5ecb0ff1e1ea09c1cc72093a73696926
Merge: 1118397 0c0a25e
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sun Jan 15 12:09:23 2012 +1000

    Merge branch 'libsrc-culling'
    
    * libsrc-culling:
      Get rid of crusty old stuff from lib-src.

commit 0c0a25eede944b4401748984e6f126c6aaf54afb
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sun Jan 15 11:56:36 2012 +1000

    Get rid of crusty old stuff from lib-src.
    
    We inherited a boat load of stuff in lib-src when we forked from XEmacs,
    it's high time we got rid of all that cave-man bit-rot.  This changeset
    gets rid of the stuff in lib-src that nobody under the age of 30 has even
    heard of, let alone ever used.
    
    	* lib-src/Makefile.am (dist_bin_SCRIPTS): Removed.
    
    	* lib-src/Makefile.am (dist_archlib_SCRIPTS): Removed.
    
    	* lib-src/Makefile.am (stage1): Remove $dist_bin_SCRIPTS.
    
    	* etc/Makefile.am (dist_manone_DATA): Remove gnuattach.1,
    	gnudoit.1.
    
    	* etc/gnuserv.1: Remove mention of gnudoit/gnuattach
    
    	* lib-src/gnuserv.c (permitted): Don't call it 'gnudoit' in error
    	string, it's 'gnuclient'.
    
    	* lib-src/gnuserv.c (handle_internet_request): Ditto.
    
    	* lib-src/gnuclient.c (pass_signal_to_emacs): Call it 'gnuclient'
    	in error string.
    
    	* lisp/gnuserv.el: Remove mention of gnudoit.
    
    	* lisp/menubar-items.el (default-menubar): Call it gnuclient for
    	remote Emacs-W3 entry.
    
    	* etc/README: Remove mention of gnudoit, gnuattach
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 etc/Makefile.am       |    3 +-
 etc/README            |    2 -
 etc/gnuattach.1       |    1 -
 etc/gnudoit.1         |    1 -
 etc/gnuserv.1         |   14 -
 lib-src/Makefile.am   |    4 +-
 lib-src/gnuclient.c   |   13 +-
 lib-src/gnudoit       |   34 ---
 lib-src/gnuserv.c     |    4 +-
 lib-src/gzip-el.sh    |   35 ---
 lib-src/leditcfns.c   |   24 --
 lib-src/rcs-checkin   |   98 -------
 lib-src/rcs2log       |  731 -------------------------------------------------
 lib-src/vcdiff        |  106 -------
 lisp/gnuserv.el       |   14 +-
 lisp/menubar-items.el |    2 +-
 16 files changed, 11 insertions(+), 1075 deletions(-)

commit 1118397e0d83e6b46eb20aa174f8494cf05aec35
Merge: ced0d05 7cd2ebb
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 14 16:35:02 2012 +1000

    Contrib git conveniences from Nelson
    
    * merges:
      Update README. Give novice advice in git-to-steve.sh
      Add the sample git post-receive hook and update README
      Add clear copyright notices to the scripts I contributed
      Fix build

commit 7cd2ebb853e2f193637f4f803894d3745d3d0eda
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Jan 14 00:29:29 2012 -0500

    Update README. Give novice advice in git-to-steve.sh
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 contrib/README          |    7 +++++++
 contrib/git-to-steve.sh |   39 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 46 insertions(+)

commit baa7fa3e41833f51af3cca3efdc316bcd72eb41a
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Jan 14 00:04:35 2012 -0500

    Add the sample git post-receive hook and update README
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 contrib/README                       |   50 ++++++++++++++++++++++++------
 contrib/git-post-receive-hook.sample |   56 ++++++++++++++++++++++++++++++++++
 2 files changed, 96 insertions(+), 10 deletions(-)

commit 520872584ecd6dc7d363f8033c62b8c033d58668
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 13 23:45:45 2012 -0500

    Add clear copyright notices to the scripts I contributed
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 contrib/do_builds.sh            |   30 ++++++++++++++++++++++++++++++
 contrib/git-to-steve.sh         |   29 +++++++++++++++++++++++++++++
 contrib/make-pkg.sh             |   31 +++++++++++++++++++++++++++++--
 contrib/report-build-failure.sh |   32 ++++++++++++++++++++++++++++++++
 contrib/tar-build-failure.sh    |   30 ++++++++++++++++++++++++++++++
 contrib/tty-colors.c            |   30 ++++++++++++++++++++++++++++++
 6 files changed, 180 insertions(+), 2 deletions(-)

commit fb7a6f6a5451c8bf885bbff5a01a863e31cca0e9
Merge: 5b04930 ced0d05
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 13 20:01:20 2012 -0500

    Merge branch 'master' of http://git.sxemacs.org/sxemacs into for-steve

commit ced0d054f625fd36f668cba565006b1aa7d721b5
Merge: ac1418d 5849acc
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 14 11:00:28 2012 +1000

    Merge branch 'trivial'
    
    * trivial:
      missing paren

commit 5849acc988c15c8666a6a7121e8045c0cb0ea47c
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 14 11:00:12 2012 +1000

    missing paren
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/media/media-sox.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5b049304111136c249b6f95e3d07b4eb526d0621
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 13 19:51:20 2012 -0500

    Fix build
    
    	* src/media/media-sox.c (media_sox_open): Fix stupid typo
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-sox.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ac1418dc73bf60fe462e0ffb12615b9034929fa9
Merge: e4e8b59 aa898d1
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 14 09:58:52 2012 +1000

    Coverity fixes from Nelson
    
    * merges:
      Coverity: UNINIT: CID 474
      Coverity: DEADCODE: CID 578
      Coverity: Checked return: CID 582
      Coverity: Missing lock: CID 584
      Coverity: Negative Returns: CID 585
      Coverity: UNINIT: CID 592
      Coverity: NO_EFFECT: CID 594
      Coverity: UNINIT: CID 593 Make sure file name is not used uninitialized. 	: Negative Returns: CID 586: Make sure file size is proper

commit aa898d17f74bf5c6d4b1879aa27d26da73347ed0
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 13 17:59:37 2012 -0500

    Coverity: UNINIT: CID 474
    
    	* src/media/media-sox.c: make sure file conversion is proper
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-sox.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit a99b8a18c91d9418b83594688c8097278eb2ea2b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 13 17:56:57 2012 -0500

    Coverity: DEADCODE: CID 578
    
    	* src/print.c (SXE_VSNPRINT_VA): Fix the macro so that error in
    	snprintf is actually detected, instead of masked because of the
    	buffer growth loop.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/print.c |   29 ++++++++++++++---------------
 1 file changed, 14 insertions(+), 15 deletions(-)

commit 0de636e8153fc7bb650f1e057e1bb91d4abf4f6d
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 13 17:51:16 2012 -0500

    Coverity: Checked return: CID 582
    
    	* src/media/media-internal.c (parsewave): Check the return of
    	waverequire, because we are trying to align the stream, but it may
    	still be fatal. Also fix the "flow" through of fatal error parsing
    	WAVE file in case wvSoundChuck which do not sound proper.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-internal.c |   12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit c74531d9fa58ced7de98c967c4740d66ce9a0740
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 13 17:43:25 2012 -0500

    Coverity: Missing lock: CID 584
    
    	* src/media/sound-esd.c (sound_esd_play): Surround play_state
    	change with the necessary lock.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/sound-esd.c |    3 +++
 1 file changed, 3 insertions(+)

commit ae278c4b0ca9b2066113e45c851fc48f3b9095dc
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 13 17:41:25 2012 -0500

    Coverity: Negative Returns: CID 585
    
    	* src/media/media-internal.c (media_internal_analyse_stream): Only
    	close the fd if it is valid, ie >= 0.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-internal.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 11604970de6fee07e0173c26e46470485e47ba61
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 13 17:37:14 2012 -0500

    Coverity: UNINIT: CID 592
    
    	* src/media/media-internal.c (media_internal_analyse_stream): Make
    	sure that only if conversion to external format is successful we
    	try to open the file otherwise return as if file open failed.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-internal.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9c156689743b4369a9f54b15dc07f6b774d60817
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 13 17:24:14 2012 -0500

    Coverity: NO_EFFECT: CID 594
    
    	* lib-src/gnuslib.c (connect_to_unix_server): Use int for sz which
    	is the proper return type of snprintf.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/gnuslib.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ab8548447474d7caf9924345787de22bdb3f45cd
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 13 17:22:09 2012 -0500

    Coverity: UNINIT: CID 593 Make sure file name is not used uninitialized.
    	: Negative Returns: CID 586: Make sure file size is proper
    
    	* src/media/media-mad.c (media_mad_open): Guard fopen against bad
    	EXTERNAL_FORMAT conversion.
    	Also make sure that if ftell is not successful the function terminates
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-mad.c |   18 ++++++++++++++----
 1 file changed, 14 insertions(+), 4 deletions(-)

commit 66e90621df7d29616f7a8b0c843af51d1de48c15
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Jan 13 00:48:40 2012 -0500

    Coverity: CHAR_IO: CID 595
    
    	* lib-src/make-docfile.c (get_dyna_doc): Make explicit the discard
    	of non existing bits on the getc call assignment to the saved
    	string.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/make-docfile.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e4e8b591d7330cb7e3e4285d64ac73330a2edb98
Merge: 48aeb05 280ebe6
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Jan 13 01:38:58 2012 +1000

    Coverity fixes from Nelson
    
    * merges:
      Coverity: NEGATIVE_RETURNS: CID 588
      Coverity: NULL returns: CID 589
      Coverity: Resource leak: CID 590
      Coverity: Resource leak: CID 591

commit 280ebe60c41fedd465fb7fc67da669cfdc6216f1
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 12 10:23:40 2012 -0500

    Coverity: NEGATIVE_RETURNS: CID 588
    
    	* src/ui/TTY/gpmevent.c (restore_gpm_state): Make sure that fd is
    	>= 0 before accesing the state array.
    
    	* src/ui/TTY/gpmevent.c (store_gpm_state): Ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/TTY/gpmevent.c |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit e2496c1aebecd9c86233d51b94c6c194e4a91a19
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 12 10:19:15 2012 -0500

    Coverity: NULL returns: CID 589
    
    	* src/process-unix.c (allocate_pty): Make sure slave_name is not
    	NULL, since that is a possible return from ttyname.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/process-unix.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 268eb13c36ffec77dba8766e551827dcc1308f72
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 12 10:14:34 2012 -0500

    Coverity: Resource leak: CID 590
    
    	* src/media/media-internal.c (media_internal_analyse_stream): free
    	data in the case of failed open.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-internal.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 24394f1bb21f7dd43606cd2c3c3af6be9bd10d79
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 12 10:12:50 2012 -0500

    Coverity: Resource leak: CID 591
    
    	* src/media/media-mad.c (media_mad_open): free sd on unknown driver.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-mad.c |    1 +
 1 file changed, 1 insertion(+)

commit 48aeb05cc53abf83fa07dd1d0bf8c83dc6be1d02
Merge: 2fc04f6 cc0dd20
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Jan 13 00:54:28 2012 +1000

    Compiler Warning fixes from Nelson
    
    * merges:
      Fix switch warnings in xlwscrollbar
      Fix switch warnings in media
      Remove warnings

commit cc0dd2038afaee5c90db731bbfe110745ed3f1d7
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 12 08:29:59 2012 -0500

    Fix switch warnings in xlwscrollbar
    
    	* src/ui/lwlib/xlwscrollbar.c (call_callbacks): Add default to switch.
    	* src/ui/lwlib/xlwscrollbar.c (timer): Init reason to
    	XmCR_NONE. Assert that ARM_NONE cannot happen in switch.
    
    	* src/ui/lwlib/xlwscrollbar.c (Select): Add fall-through case for
    	BUTTON_NONE. Add default case for another switch.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/lwlib/xlwscrollbar.c |   20 ++++++++++++++++++--
 1 file changed, 18 insertions(+), 2 deletions(-)

commit 7f35191af2879c1993a1cde9780863bd5ba2cf9c
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 12 08:27:26 2012 -0500

    Fix switch warnings in media
    
    	* src/media/media.c: New Qunavailable symbol.
    
    	* src/media/media.c (Fmedia_properties): Default driver to
    	Qunavailable. Add case labels for Xine and Gstreamer.
    
    	* src/media/media.c (syms_of_media): init Qunavailable.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media.c |    9 +++++++++
 1 file changed, 9 insertions(+)

commit eb70212d83e1dfaf69f7120ebf8a7d17919b5646
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 12 08:25:00 2012 -0500

    Remove warnings
    
    	* src/regex.c (POP_FAILURE_POINT): Move DEBUG_STATEMENT to comply
    	with C variable declaration rules. Cast the POP_FAILURE_POINTER return
    	to proper const-ness.
    
    	* src/regex.c (re_match_2_internal): Make re_char *'s d and dend
    	const. Make scope p2 char* const. Make pdummy and sdummy const.
    	Remove old comment.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/regex.c |   21 +++++++++++----------
 1 file changed, 11 insertions(+), 10 deletions(-)

commit 2fc04f658aeeb349e113ebe3ae783f2d2b1e1e80
Merge: 7b61476 580496d
Author: Steve Youngs <steve@sxemacs.org>
Date:   Thu Jan 12 15:57:56 2012 +1000

    Improved assertions from Nelson
    
    * merges:
      Improved assert messages

commit 580496d4cb0a95b14964b76c4fde232b8795d54b
Merge: a6c5fd2 7b61476
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 12 00:22:28 2012 -0500

    Merge branch 'master' of ssh://dio.dreamhost.com/~/repos.nelsonferreira.com/git/sxemacs into for-steve

commit 7b6147684c0c0144c684156a51c7a672e71c3059
Merge: 353005f ec4a943
Author: Steve Youngs <steve@sxemacs.org>
Date:   Thu Jan 12 15:04:17 2012 +1000

    Coverity fixes from Nelson
    
    * merges:
      Coverity: Reverse INULL: CID 204
      Coverity: Reverse INULL: CID:207
      Coverity: Reverse Negative: CID:209
      COVERITY: Forward NULL: CID:40
      COVERITY: Forward NULL CID:46
      COVERITY: SECURE_TEMP - CID:345
      Small docstring update

commit ec4a943ccb453473274723653ae72bd29800f5d3
Merge: 8d26ca4 e8a65cc
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 11 22:55:56 2012 -0500

    Merge branch 'njsf-cov' into for-steve

commit e8a65cc0df0ae4dcf2f331b816eece8f8a26fd53
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 11 22:54:57 2012 -0500

    Coverity: Reverse INULL: CID 204
    
    	* modules/ase/ase-interval.c (_ase_unite_intervals_intr): Defer
    	the call to ase_cartesion_dimension so that it does not try to
    	derefence an invalid argument. As a side benefit, it will be
    	faster in the trivial cases.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 modules/ase/ase-interval.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1316a38e35da93d9e4ccc495a64bea558e1b087b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 11 22:52:48 2012 -0500

    Coverity: Reverse INULL: CID:207
    
    	* src/media/media.c (media_stream_finalise): Return immediately if the stream is NULL
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media.c |    2 ++
 1 file changed, 2 insertions(+)

commit 87bf09c82cea7b63cb51d3b72581c3df742bf7ce
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 11 22:51:06 2012 -0500

    Coverity: Reverse Negative: CID:209
    
    	* src/mule/file-coding.c (coding_system_from_mask): Make sure cat
    	is >=0 before dereferencing in the loop.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mule/file-coding.c |    2 ++
 1 file changed, 2 insertions(+)

commit 5639e154abedc4fdf8ed9632b770817e1c7e800e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 11 22:46:37 2012 -0500

    COVERITY: Forward NULL: CID:40
    
    	* lib-src/ootags.c (analyse_regex): Return if regex_arg is NULL
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/ootags.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit a6c5fd2c1bc5958be16f82d057ebe6dbee1cae18
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 11 22:38:35 2012 -0500

    Improved assert messages
    
    	* src/emacs.c: make the assertions_dont_abort a variable instead
    	of define.
    
    	* src/emacs.c (assert_failed): Make the 3rd nested assertion abort
    	instead of exit. Add an extra newline in the 2nd nested
    	assertion. Add a short backtrace of up to 32767 entries to the 2nd
    	nested assertion. Add a backtrace to to the 1st assert_failed.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/emacs.c |   36 +++++++++++++++++++-----------------
 1 file changed, 19 insertions(+), 17 deletions(-)

commit 8d26ca40525f91c79d9b37c5dd194233ac816a12
Merge: c3d0458 353005f
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 11 22:25:39 2012 -0500

    Merge branch 'master' of ssh://dio.dreamhost.com/~/repos.nelsonferreira.com/git/sxemacs into for-steve

commit c3d0458e37856dc7628b139c7c48713b3a19f9d5
Merge: 934cf53 59d5066
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 11 22:25:12 2012 -0500

    Merge branch 'njsf-cov' into for-steve

commit 59d506629cd290206ded3a27c1c267beed0c24cc
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 11 22:23:56 2012 -0500

    COVERITY: Forward NULL CID:46
    
    	* src/print.c (write_string_to_stdio_stream): Add appropriate
    	diagnostics if no console nor stream provided...
    	* src/print.c (Fexternal_debugging_output): Explict NULL
    	initialization.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/print.c |   14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit 97f162eb6e0cb15cc5948ed728f8c4dc72cb9db3
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 11 20:57:09 2012 -0500

    COVERITY: SECURE_TEMP - CID:345
    
    	* lib-src/movemail.c (lock_dot): Force umask to a sensible default, ie remove all group and other permissions
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/movemail.c |    2 ++
 1 file changed, 2 insertions(+)

commit 934cf535c14287975b1d884c8961783ebb2b3433
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 11 20:37:50 2012 -0500

    Small docstring update
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lisp/lisp-initd.el |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 353005fcd48d6071c5e8d75d7ba81481ea710e80
Merge: 84dcb94 f463179
Author: Steve Youngs <steve@sxemacs.org>
Date:   Thu Jan 12 11:29:10 2012 +1000

    Refactor lisp-initd from Nelson
    
    * merges:
      Fix bug 134:

commit f46317982568029b01fde29524c4b98f153f1c73
Merge: 4e57f3d 84dcb94
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 11 19:22:27 2012 -0500

    Bug 134: Remove lisp-initd-dir from startup.el. Usage of path-construct makes it work in lisp-initd.el
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

commit 84dcb94a182bd77912b1828b3f9e968a59ae5e59
Merge: e5614d8 bef8b64
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Jan 11 14:51:51 2012 +1000

    Close bug #134
    
    * bug-134:
      Ensure lisp-initd-dir is set early enough -- Closes bug #134

commit bef8b64eba814c06190d31131d7e31e13874e463
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Jan 11 14:50:11 2012 +1000

    Ensure lisp-initd-dir is set early enough -- Closes bug #134
    
    	* lisp/lisp-initd.el (lisp-initd-dir): Move to startup.el to
    	ensure it is set early enough to take affect.
    
    	* lisp/startup.el (lisp-initd-dir): Moved here from
    	lisp-initd.el.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 lisp/lisp-initd.el |    5 ++---
 lisp/startup.el    |    5 +++++
 2 files changed, 7 insertions(+), 3 deletions(-)

commit 4e57f3da8b0415101abc4b5eb621fd10fc3c2543
Merge: ec08ce0 e5614d8
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Jan 10 19:27:51 2012 -0500

    Merge branch 'master' of ssh://dio.dreamhost.com/~/repos.nelsonferreira.com/git/sxemacs into for-steve

commit ec08ce0c5bf97f13ce2ace66c6559e4f1fe58e91
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Jan 10 19:13:08 2012 -0500

    Fix bug 134:
    
    	* lisp/lisp-initd.el (lisp-initd-basename): replaces
    	lisp-initd-prefix, it is the basename of .el, .elc and dirnames
    	for the initd.
    
    	* lisp/lisp-initd.el (lisp-initd-dir): Delay file expansion, and
    	as such, just put as default the concat of user-init-directory and
    	lisp-initd-basename.
    
    	* lisp/lisp-initd.el (lisp-initd-compile): update argument
    	names. Do the proper directory filename expansion here. Use
    	lisp-initd-basename instead of the literal "init.d"
    
    	* lisp/lisp-initd.el (lisp-initd-compile): Issue warning when a
    	file was not included in compiled initd.el instead of the almost
    	unnoticeable message in the lossage.
    
    	* lisp/lisp-initd.el (lisp-initd-compile-and-load): Update
    	argument names and interactive usage.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lisp/lisp-initd.el |   35 +++++++++++++++++++----------------
 1 file changed, 19 insertions(+), 16 deletions(-)

commit e5614d88ac90ae5cf1fc7620e4f22e7360bd30fd
Merge: 546aa99 5687478
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Jan 11 10:08:36 2012 +1000

    Another go at fixing 131
    
    * merges:
      Summary: fix, exec elisp in right thread context, closes bug #131 Keywords: bug fix #131
      Summary: revert, bring asyneq handling of job events to original state Keywords: bug unfix #131
      Summary: fix, another bug 131 attempt, dispatch the Keywords: bug fix #131

commit 56874785d35cdae4e45ac15343cef42dab34a63a
Merge: 70d71b6 2542925
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Tue Jan 10 23:02:48 2012 +0000

    Merge branch 'bug/131' into next
    
    * bug/131:
      Summary: fix, exec elisp in right thread context, closes bug #131 Keywords: bug fix #131
      Summary: revert, bring asyneq handling of job events to original state Keywords: bug unfix #131
      Summary: fix, another bug 131 attempt, dispatch the Keywords: bug fix #131

commit 25429252abf8a977df3b8f6a105c623dd5d7037e
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Tue Jan 10 23:00:02 2012 +0000

    Summary: fix, exec elisp in right thread context, closes bug #131
    Keywords: bug fix #131
    
    This changeset now most definitely fixes the sentinel issue of bug #131,
    this time the elisp is even executed in the main thread.
    
    * src/events/event-stream.c: move asyneq events (work started, ...) to
      execute_internal_event(), was in Fdispatch_event()
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 src/events/event-stream.c |   84 ++++++++++++++++++++++++---------------------
 1 file changed, 45 insertions(+), 39 deletions(-)

commit 546aa9944f0ade809d183528925f70715c341d93
Merge: e43b2dd fe31af0
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Jan 11 00:20:28 2012 +1000

    Byte-compiler warning fixes
    
    * lisp-warnfix:
      Fix a couple of byte-compiler warnings.

commit fe31af04a24d98110ce27d96102c3296721cea3e
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Jan 11 00:18:05 2012 +1000

    Fix a couple of byte-compiler warnings.
    
    	* lisp/package-get.el (pui-bootstrap): Call #'pui-list-packages
    	via #'declare-fboundp to silence byte-compiler.
    	Also remove fake version hack.
    
    	* lisp/ffi/ffi-wand.el (liquid-rescale): Call
    	#'Wand:liquid-rescale via #'declare-fboundp to silence
    	byte-compiler.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 lisp/ffi/ffi-wand.el |    3 ++-
 lisp/package-get.el  |    9 +++------
 2 files changed, 5 insertions(+), 7 deletions(-)

commit ccfa00554145c9e5fae8e2432086d3b01ea13faf
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Tue Jan 10 11:18:18 2012 +0000

    Summary: revert, bring asyneq handling of job events to original state
    Keywords: bug unfix #131
    
    This effectively reverts all the changes made to the asyneq handling of
    job events, and also brings back bug #131.
    
    * src/events/worker-asyneq.c: revert
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/events/worker-asyneq.c |   10 ----------
 1 file changed, 10 deletions(-)

commit e43b2ddfcde2d316eb050143b4b427c03f1c03cc
Merge: 70d71b6 0383856
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Jan 10 21:15:51 2012 +1000

    Nuke the bitrotten GTK
    
    * gtk1-removal:
      GTK eradication -- plug the holes left from removing gtk files.
      GTK eradication -- file removal
      GTK eradication -- the build chain.

commit 0383856c492695b6b79ad705e95f02b9d70a67ff
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Jan 10 20:48:15 2012 +1000

    GTK eradication -- plug the holes left from removing gtk files.
    
    This changeset fixes all the problems that were the by-product of removing
    all the gtk related files from the repo.
    
    	* configure.ac: Remove spurious gtk comment
    
    	* etc/Makefile.am (dist_etc_DATA): Remove gtkrc.
    
    	* lib-src/gnuclient.c (main): No more gtk.
    
    	* lisp/cus-edit.el (custom-display): No more gtk.
    
    	* lisp/device.el (device-type): Remove spurious gtk comment.
    
    	* lisp/device.el (make-gtk-device): Removed.
    
    	* lisp/dragdrop.el (gtk-start-drag): Removed.
    
    	* lisp/dragdrop.el (gtk-start-drag-region): Removed.
    
    	* lisp/faces.el (face-equal): Don't check for gtk device type.
    
    	* lisp/faces.el (make-face-bold): Remove gtk case.
    
    	* lisp/faces.el (make-face-italic): Ditto.
    
    	* lisp/faces.el (make-face-bold-italic): Ditto.
    
    	* lisp/faces.el (make-face-unbold): Ditto.
    
    	* lisp/faces.el (make-face-unitalic): Ditto.
    
    	* lisp/faces.el (init-device-faces): Don't init gtk, it's not
    	there.
    
    	* lisp/faces.el (init-frame-faces): Ditto.
    
    	* lisp/faces.el (init-global-faces): Ditto.
    
    	* lisp/font-menu.el (font-menu-preferred-resolution): Remove gtk
    
    	* lisp/font-menu.el (font-menu-size-scaling): Ditto.
    
    	* lisp/font.el (font-window-system-mappings): Ditto.
    
    	* lisp/frame.el (make-frame-on-device): Remove spurious gtk doc string.
    
    	* lisp/gnuserv.el (gnuserv-main-frame-function): No more gtk.
    
    	* lisp/gnuserv.el (gnuserv-visible-frame-function): Ditto.
    
    	* lisp/gnuserv.el (make-x-device-with-gtk-fallback): Removed.
    
    	* lisp/gnuserv.el (gnuserv-edit-files): Remove gtk stuff.
    
    	* lisp/menubar-items.el (default-menubar): Remove sample.gtkrc
    
    	* lisp/minibuf.el (read-color-completion-table): No gtk.
    
    	* lisp/specifier.el: Ditto.
    
    	* src/emacs.c (console_type_create_select_gtk): Removed.
    
    	* src/emacs.c (main_1): No gtk.
    
    	* src/events/event-stream.c (init_event_stream): No gtk.
    
    	* src/events/events.c: Don't #include console-gtk.h
    
    	* src/events/events.c (event_equal): No gtk.
    
    	* src/events/events.c (event_hash): Ditto.
    
    	* src/events/events.c (format_event_object): Ditto.
    
    	* src/general-slots.h: Remove gtk.
    
    	* src/inline.c: Don't #include gtk headers.
    
    	* src/lisp.h: No gtk.
    
    	* src/lrecord.h: Remove gtk types.
    
    	* src/symsinit.h: Remove gtk.
    
    	* src/ui/console.c (select_console_1): No gtk.
    
    	* src/ui/console.h: Ditto.
    
    	* src/ui/console.h (CONSOLE_TYPESYM_WIN_P): No gtk.
    
    	* src/ui/device.c (Fmake_device): No gtk.
    
    	* src/ui/device.c (delete_device_internal): Ditto.
    
    	* src/ui/device.h (DEVICE_GTK_P): Removed.
    
    	* src/ui/device.h (CHECK_GTK_DEVICE): Removed.
    
    	* src/ui/device.h (CONCHECK_GTK_DEVICE): Removed.
    
    	* src/ui/device.h (DEVICE_MSWINDOWS_P): What the?  REEEEMOOOOOVED!!!
    
    	* src/ui/device.h (CHECK_MSWINDOWS_DEVICE): Gah!  Gone!
    
    	* src/ui/device.h (CONCHECK_MSWINDOWS_DEVICE): Sheesh! Outta here!
    
    	* src/ui/faces.c (complex_vars_of_faces): No gtk.
    
    	* src/ui/frame.h (FRAME_GTK_P): Removed.
    
    	* src/ui/frame.h (CHECK_GTK_FRAME): Removed.
    
    	* src/ui/frame.h (CONCHECK_GTK_FRAME): Removed.
    
    	* src/ui/gutter.c (specifier_vars_of_gutter): No gtk.
    
    	* src/ui/redisplay.c (init_redisplay): No gtk.
    
    	* src/ui/toolbar.c: No gtk.
    
    	* src/ui/window.c (specifier_vars_of_window): Ditto.
    
    	* tests/Makefile.am (gtk_tests): Removed.
    
    	* tests/Makefile.am (EXTRA_DIST): Removed gtk tests
    
    	* src/events/events.h: Don't #include gdk stuff.
    
    	* m4/sxe-aux.m4 (__SXE_MAKE_ADDER): Nuke gtk.
    
    	* src/sysfile.h: No gtk.
    
    	* src/ui/glyphs.c (pixmap_to_lisp_data): Remove gtk version.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 configure.ac              |    3 -
 etc/Makefile.am           |    2 +-
 lib-src/gnuclient.c       |    6 -
 lisp/cus-edit.el          |    3 -
 lisp/device.el            |    5 -
 lisp/dragdrop.el          |   14 --
 lisp/faces.el             |   49 ++-----
 lisp/font-menu.el         |    6 +-
 lisp/font.el              |    1 -
 lisp/frame.el             |    1 -
 lisp/generic-widgets.el   |  346 ---------------------------------------------
 lisp/gnuserv.el           |   15 +-
 lisp/menubar-items.el     |    4 -
 lisp/minibuf.el           |    2 +-
 lisp/specifier.el         |    2 -
 m4/sxe-aux.m4             |    3 -
 src/emacs.c               |   94 ------------
 src/events/event-stream.c |    5 -
 src/events/events.c       |   23 ---
 src/events/events.h       |    6 -
 src/general-slots.h       |    1 -
 src/inline.c              |    5 -
 src/lisp.h                |    1 -
 src/lrecord.h             |    2 -
 src/symsinit.h            |   35 -----
 src/sysfile.h             |    5 -
 src/ui/console.c          |    5 -
 src/ui/console.h          |   13 +-
 src/ui/device.c           |    9 +-
 src/ui/device.h           |   11 +-
 src/ui/faces.c            |   23 +--
 src/ui/frame.h            |    4 -
 src/ui/glyphs.c           |   10 +-
 src/ui/gutter.c           |    6 -
 src/ui/redisplay-output.c |    1 -
 src/ui/redisplay.c        |    8 --
 src/ui/toolbar.c          |   10 --
 src/ui/window.c           |    6 -
 tests/Makefile.am         |    6 +-
 39 files changed, 21 insertions(+), 730 deletions(-)

commit ff9432d976018199ca98ca9f2ef85b47ad0d9de6
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Tue Jan 10 09:23:10 2012 +0000

    Summary: fix, another bug 131 attempt, dispatch the
    Keywords: bug fix #131
    
    * src/events/worker-asyneq.c: dispatch directly
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/events/worker-asyneq.c |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 5b4e9ea98335fbc609a65805121c58354f52cc58
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Jan 10 18:23:16 2012 +1000

    GTK eradication -- file removal
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 etc/gtkrc                       |    9 -
 lisp/dialog-gtk.el              |  359 -----
 lisp/gdk.el                     |  150 --
 lisp/glade.el                   |   66 -
 lisp/gnome-widgets.el           | 1009 ------------
 lisp/gnome.el                   |   25 -
 lisp/gtk-compose.el             |    4 -
 lisp/gtk-extra.el               |  118 --
 lisp/gtk-faces.el               |  305 ----
 lisp/gtk-ffi.el                 |  102 --
 lisp/gtk-file-dialog.el         |  294 ----
 lisp/gtk-font-menu.el           |  251 ---
 lisp/gtk-glyphs.el              |   74 -
 lisp/gtk-init.el                |  337 ----
 lisp/gtk-iso8859-1.el           |    5 -
 lisp/gtk-marshal.el             |  289 ----
 lisp/gtk-mouse.el               |   70 -
 lisp/gtk-package.el             |   14 -
 lisp/gtk-password-dialog.el     |  129 --
 lisp/gtk-select.el              |   63 -
 lisp/gtk-widget-accessors.el    |  262 ----
 lisp/gtk-widgets.el             | 2084 -------------------------
 lisp/gtk.el                     |   27 -
 lisp/widgets-gtk.el             |  152 --
 src/emacs-marshals.c            | 2321 ----------------------------
 src/emacs-widget-accessors.c    | 1716 ---------------------
 src/glade.c                     |  129 --
 src/gtk-glue.c                  |  255 ---
 src/ui/Gtk/Makefile.am          |   78 -
 src/ui/Gtk/console-gtk.c        |  124 --
 src/ui/Gtk/console-gtk.h        |  257 ----
 src/ui/Gtk/device-gtk.c         |  734 ---------
 src/ui/Gtk/dialog-gtk.c         |   61 -
 src/ui/Gtk/event-gtk.c          | 2238 ---------------------------
 src/ui/Gtk/frame-gtk.c          | 1473 ------------------
 src/ui/Gtk/gccache-gtk.c        |  276 ----
 src/ui/Gtk/gccache-gtk.h        |   33 -
 src/ui/Gtk/glyphs-gtk.c         | 3249 ---------------------------------------
 src/ui/Gtk/glyphs-gtk.h         |  150 --
 src/ui/Gtk/gtk-xemacs.c         |  392 -----
 src/ui/Gtk/gtk-xemacs.h         |   45 -
 src/ui/Gtk/gui-gtk.c            |  100 --
 src/ui/Gtk/gui-gtk.h            |   35 -
 src/ui/Gtk/menubar-gtk.c        | 1428 -----------------
 src/ui/Gtk/native-gtk-toolbar.c |  236 ---
 src/ui/Gtk/objects-gtk.c        |  569 -------
 src/ui/Gtk/objects-gtk.h        |   65 -
 src/ui/Gtk/redisplay-gtk.c      | 2006 ------------------------
 src/ui/Gtk/scrollbar-gtk.c      |  533 -------
 src/ui/Gtk/scrollbar-gtk.h      |   81 -
 src/ui/Gtk/select-gtk.c         |  948 ------------
 src/ui/Gtk/toolbar-gtk.c        |  643 --------
 src/ui/Gtk/ui-byhand.c          |  675 --------
 src/ui/Gtk/ui-gtk.c             | 2089 -------------------------
 src/ui/Gtk/ui-gtk.h             |   71 -
 tests/gtk/UNIMPLEMENTED         |   12 -
 tests/gtk/event-stream-tests.el |   74 -
 tests/gtk/gnome-test.el         |  247 ---
 tests/gtk/gtk-embedded-test.el  |   32 -
 tests/gtk/gtk-extra-test.el     |   26 -
 tests/gtk/gtk-test.el           | 2042 ------------------------
 tests/gtk/gtk-test.glade        |  145 --
 tests/gtk/statusbar-test.el     |   74 -
 tests/gtk/toolbar-test.el       |   34 -
 tests/gtk/xemacs-toolbar.el     |   21 -
 65 files changed, 31915 deletions(-)

commit a2f777bd44b2f19f02cc9fcb5e1bb40fe8c90be6
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Jan 10 17:43:57 2012 +1000

    GTK eradication -- the build chain.
    
    The GTK code in SXEmacs has been stagnating since 2000, 4 years before
    SXEmacs even came into existance.  It was GTK version 1.  Nobody, nowhere
    uses GTKv1 any more, so this stuff is going to /dev/null hell!
    
    	* src/ui/Makefile.am: Don't add `Gtk' to SUBDIRS
    
    	* src/Makefile.am: Don't add gtk to pdumplibs.
    
    	* lisp/Makefile.am (corelispels): Remove all the gtk/gnome elisp.
    
    	* lisp/dumped-lisp.el: Don't dump any gtk lisp.
    
    	* m4/sxe-summary.m4: No more gtk.
    
    	* m4/sxe-gui.m4 (SXE_CHECK_XT_DEPENDENCIES): Remove gtk stuff.
    
    	* m4/sxe-gui.m4 (SXE_CHECK_GTK_DEPENDENCIES): Removed.
    
    	* m4/sxe-gui.m4 (SXE_CHECK_UI_SUFFICIENCY): Don't subst gtk obj's
    
    	* configure.ac: Remove all gtk nonsense.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 configure.ac        |  190 +++------------------------------------------------
 lisp/Makefile.am    |   40 +++++------
 lisp/dumped-lisp.el |   15 +---
 m4/sxe-gui.m4       |   36 +---------
 m4/sxe-summary.m4   |    6 +-
 src/Makefile.am     |    5 --
 src/ui/Makefile.am  |    4 --
 7 files changed, 31 insertions(+), 265 deletions(-)

commit 70d71b65ab762713399d9db2e2390756b10ddd3e
Merge: ce862f0 4835c9e
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Jan 10 10:44:42 2012 +1000

    Really fix bug 131, for real this time
    
    * crash-test:
      Fix the fix that fixes the fix to fix bug 131

commit 4835c9e2f5a2cfb7a55c6e62485c6cbcf8d4fb80
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Jan 10 10:43:58 2012 +1000

    Fix the fix that fixes the fix to fix bug 131
    
    	* src/events/worker-asyneq.c (eq_worker_eaten_myself): Don't call
    	asyneq_handle_event()
    
    	* src/events/worker-asyneq.c (eq_worker_work_started): Ditto.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/events/worker-asyneq.c |    2 --
 1 file changed, 2 deletions(-)

commit ce862f0c40e040da3783598007ae87dc6d49761c
Merge: 54168be 1647bcb
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Jan 10 07:20:31 2012 +1000

    Closes bug #131 from Sebastian
    
    * merges:
      Summary: cosmetics, clean up event-stream code Keywords: code hygiene
      Summary: fix, actually dispatch events, fixes bug #131 Keywords: bug fix #131

commit 1647bcbff5135071b895b8fd02baba2f06d88e94
Merge: a16251e feb9baf
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Mon Jan 9 20:57:45 2012 +0000

    Merge branch 'code/hygiene' into next
    
    * code/hygiene:
      Summary: cosmetics, clean up event-stream code Keywords: code hygiene

commit feb9baff29a7088175056a2d7038e27db5448952
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Mon Jan 9 15:12:36 2012 +0000

    Summary: cosmetics, clean up event-stream code
    Keywords: code hygiene
    
    This changeset brings event-stream.c to 21st century coding style and
    our 80 cols rule.
    
    * src/events/event-stream.c: big refactoring
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/events/event-stream.c | 1627 ++++++++++++++++++++++++++-------------------
 1 file changed, 958 insertions(+), 669 deletions(-)

commit a16251e7238fd384dc9e9956f459104126aa0796
Merge: 54168be 4221196
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Mon Jan 9 20:57:04 2012 +0000

    Merge branch 'bug/131' into next
    
    * bug/131:
      Summary: fix, actually dispatch events, fixes bug #131 Keywords: bug fix #131

commit 4221196cf5d5defbc216c346ad83d37654ff7d6e
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Mon Jan 9 13:13:55 2012 +0000

    Summary: fix, actually dispatch events, fixes bug #131
    Keywords: bug fix #131
    
    This changeset makes sure that the communication between REPL event
    queue and delegation event queue (the one for the worker threads)
    actually work in both directions.  Events put on the REPL event queue
    from within jobs that have been delegated are now announced to the event
    queue handler and hence executed, which in particular was the reason the
    sentinel wasn't invoked as described in bug #131.
    
    * src/events/worker-asyneq.c: call asyneq_handle_event() after enqueuing
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/events/worker-asyneq.c |    3 +++
 1 file changed, 3 insertions(+)

commit 54168beb3cc0caccebdff7c21985d6969c37920b
Merge: 005ab4b 0c892d3
Author: Steve Youngs <steve@sxemacs.org>
Date:   Mon Jan 9 10:15:08 2012 +1000

    Build clean up, etc. from Sebastian
    
    * merges:
      Summary: cosmetics, conditionalise seemingly unused vars in movemail.c Keywords: refactor warn-fix
      Summary: cosmetics, refactor large parts of make-docfile.c Keywords: refactor warn-fix
      Summary: fix, -Winline -> only if maximum warning output Keywords: bldchn code hygiene warn-fix
      Summary: fix, unused warnings in gnuserv.c Keywords: bldchn code hygiene warn-fix
      Summary: fix, signedness and unused warnings in gnuserv et al. Keywords: bldchn code hygiene warn-fix
      Summary: fix, clean up signedness problem in gnuserv and friends Keywords: bldchn code hygiene warn-fix
      Summary: cosmetics, declare yow internal functions static Keywords: bldchn
      Summary: cosmetics, fix some signedness and shadow warnings in gnuclient Keywords: bldchn
      Summary: cosmetics, fix some warnings about signedness Keywords: bldchn
      Summary: chore, deactivate some warnings again (if not aggressive) Keywords: bldchn

commit 0c892d345cdac5b7d836c4365949b9d0daccdd06
Merge: 5f3a889 bdaeea4
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sun Jan 8 21:43:56 2012 +0000

    Merge branch 'bld/warn-fix' into next
    
    * bld/warn-fix:
      Summary: cosmetics, conditionalise seemingly unused vars in movemail.c Keywords: refactor warn-fix
      Summary: cosmetics, refactor large parts of make-docfile.c Keywords: refactor warn-fix

commit bdaeea4bd8663e24ce6f6c2e841d397605353706
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sun Jan 8 21:43:08 2012 +0000

    Summary: cosmetics, conditionalise seemingly unused vars in movemail.c
    Keywords: refactor warn-fix
    
    This changeset conditionalises on MAIL_USE_POP to fix warnings that
    arise from writing to unused variables.
    
    * lib-src/movemail.c: put MAIL_USE_POP guards around poppass var
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 lib-src/movemail.c |   23 ++++++++++++++++-------
 1 file changed, 16 insertions(+), 7 deletions(-)

commit 88f338097282449e9475451c32ff91f2963d03e0
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sun Jan 8 11:09:53 2012 +0000

    Summary: cosmetics, refactor large parts of make-docfile.c
    Keywords: refactor warn-fix
    
    This changeset refactors large parts of make-docfile.c, i.e. kill unused
    code and kludges, adhere to our 80 column policy and maintain our coding
    style throughout the file.
    
    * lib-src/make-docfile.c: refactor
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 lib-src/make-docfile.c |  769 ++++++++++++++++++++++++++----------------------
 1 file changed, 415 insertions(+), 354 deletions(-)

commit 005ab4b69daa5afec063a036035a83a7820ba191
Merge: 6a071ca bf40594
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sun Jan 8 14:47:59 2012 +1000

    Fix if/else scope in yow.c from Rudi
    
    * merges-rudi:
      fix yow.c, include assert.h (was missing since cb837c1c)
      fix yow.c, correct else scope (broken since cb837c1c)

commit 5f3a8896dd38b1b7118c0aed65ce6a103829842e
Merge: e429e8f 48f4b7f
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sun Jan 8 03:21:30 2012 +0000

    Merge branch 'bld/warn-fix' into next
    
    * bld/warn-fix:
      Summary: fix, -Winline -> only if maximum warning output Keywords: bldchn code hygiene warn-fix

commit 48f4b7f40665030b0e1a519175f3b7d7675bcad9
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sun Jan 8 00:59:50 2012 +0000

    Summary: fix, -Winline -> only if maximum warning output
    Keywords: bldchn code hygiene warn-fix
    
    This changeset fixes some inline related warnings by turning them off.
    
    * m4/sxe-acx_pthread.m4: enable -Winline only with_maximum_warning_output
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 m4/sxe-compiler.m4 |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit e429e8fe710f0177e71a23c839b496edc959c840
Merge: 462c50e d4d6b69
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sun Jan 8 03:21:04 2012 +0000

    Merge branch 'bld/warn-fix' into next
    
    * bld/warn-fix:
      Summary: fix, unused warnings in gnuserv.c Keywords: bldchn code hygiene warn-fix
      Summary: fix, signedness and unused warnings in gnuserv et al. Keywords: bldchn code hygiene warn-fix
      Summary: fix, clean up signedness problem in gnuserv and friends Keywords: bldchn code hygiene warn-fix

commit d4d6b69d7c4117da88d4fad0f6a8ffd43319917a
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sun Jan 8 00:40:51 2012 +0000

    Summary: fix, unused warnings in gnuserv.c
    Keywords: bldchn code hygiene warn-fix
    
    This changeset brings gnuserv.c to 21st century coding style and
    fixes warnings along.
    
    Note to myself: gnuserv is not v6-ready!  Several locations assume for
    inet addresses to fit in an unsigned long which is so 1980.
    
    * lib-src/gnuserv.c: fix warnings and ennicen syntax
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 lib-src/gnuserv.c |  713 +++++++++++++++++++++++++++--------------------------
 1 file changed, 363 insertions(+), 350 deletions(-)

commit 86b9732336b4d7f711abb5e5004ca7ca4f98bd12
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sat Jan 7 23:53:28 2012 +0000

    Summary: fix, signedness and unused warnings in gnuserv et al.
    Keywords: bldchn code hygiene warn-fix
    
    This changeset brings some of the stuff in gnuclient.c to 21st century
    coding style and fixes warnings along.
    
    * lib-src/gnuclient.c: fix warnings and ennicen syntax
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>
    
    Conflicts:
    
    	lib-src/gnuclient.c
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 lib-src/gnuclient.c |   31 ++++++++++++++++++-------------
 1 file changed, 18 insertions(+), 13 deletions(-)

commit 01a938e9216db247714c561a09ba692a50cabb31
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sat Jan 7 23:46:38 2012 +0000

    Summary: fix, clean up signedness problem in gnuserv and friends
    Keywords: bldchn code hygiene warn-fix
    
    This changeset introduces SNPRINTF, a macro that also ascertains that
    its result is >=0 and < than the size of the buffer printed into.
    
    * lib-src/gnuclient.c: migrate to SNPRINTF
    
    * lib-src/gnuserv.c: migrate to SNPRINTF
    
    * lib-src/gnuserv.h: provide SNPRINTF macro
    
    * lib-src/gnuslib.c: migrate to SNPRINTF
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>
    
    Conflicts:
    
    	lib-src/gnuclient.c
    	lib-src/gnuserv.c
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 lib-src/gnuclient.c |   56 +++++++++++++++++++--------------------------------
 lib-src/gnuserv.c   |   16 +++++++--------
 lib-src/gnuserv.h   |    5 +++++
 lib-src/gnuslib.c   |   23 +++++++++------------
 4 files changed, 44 insertions(+), 56 deletions(-)

commit 462c50ec0075de2f03c03a60f1f780ff7b024a86
Merge: ef802d6 bdee085
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sun Jan 8 03:15:39 2012 +0000

    Merge branch 'bldchn' into next
    
    * bldchn:
      Summary: cosmetics, declare yow internal functions static Keywords: bldchn
      Summary: cosmetics, fix some signedness and shadow warnings in gnuclient Keywords: bldchn
      Summary: cosmetics, fix some warnings about signedness Keywords: bldchn
      Summary: chore, deactivate some warnings again (if not aggressive) Keywords: bldchn

commit bdee0850bdf8134b322d768b12c45da3338b37f3
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Jan 6 19:34:52 2012 +0000

    Summary: cosmetics, declare yow internal functions static
    Keywords: bldchn
    
    * lib-src/yow.c: make local things static
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 lib-src/yow.c |   13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit eb09db8c9d9bce93f127386630632428e0f81619
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Jan 6 19:33:27 2012 +0000

    Summary: cosmetics, fix some signedness and shadow warnings in gnuclient
    Keywords: bldchn
    
    * lib-src/gnuclient.c: fix signedness warnings
      fix shadow warnings
      adhere to our coding style
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>
    
    Conflicts:
    
    	lib-src/gnuclient.c
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 lib-src/gnuclient.c |  111 ++++++++++++++++++++++++++++-----------------------
 1 file changed, 62 insertions(+), 49 deletions(-)

commit 1e2a299f11fc2d01113604dab2f403687e902a4d
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Jan 6 19:06:26 2012 +0000

    Summary: cosmetics, fix some warnings about signedness
    Keywords: bldchn
    
    * lib-src/gnuslib.c: treat ints returned by snprintf() as size_t for
      assertions
    
    * src/regex.c: strictly return values from the enum as declared
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>
    
    Conflicts:
    
    	lib-src/gnuslib.c
    	lib-src/profile.c
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 lib-src/gnuslib.c |    5 ++---
 lib-src/profile.c |    2 +-
 src/regex.c       |    2 +-
 3 files changed, 4 insertions(+), 5 deletions(-)

commit 21837e38fadd0720e55a8270a76644c5ea3d5dba
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Jan 6 18:58:51 2012 +0000

    Summary: chore, deactivate some warnings again (if not aggressive)
    Keywords: bldchn
    
    This changeset demotes some of the warning flags again to the special
    --with-maximum-warning-output option.
    
    * m4/sxe-compiler.m4: conditionalise on some warning switches again
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 m4/sxe-compiler.m4 |   50 ++++++++++++++++++++++++++++----------------------
 1 file changed, 28 insertions(+), 22 deletions(-)

commit 6a071ca2655498eb21c7c30b8b91bc8e1058b91a
Merge: ef802d6 67babf5
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sun Jan 8 13:07:51 2012 +1000

    Close bug #133 from Sebastian
    
    * merges:
      Summary: fix, bug 133, for real now Keywords: bug fix
      Summary: cosmetics, prescind from using inlines for trivial one-off stuff Keywords: bldchn code hygiene
      Summary: fix, final, use unsigned ints in modifier setup, fixes bug #133 Keywords: bug fix
      Summary: fix, tentative, use unsigned int:1 to avoid overflows, fixes bug #133 Keywords: bug fix

commit 67babf5b604ab6a988e4aa53bc84da296d6005d6
Merge: c6a3cb8 ff28e1f
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sun Jan 8 03:01:27 2012 +0000

    Merge branch 'bug/133' into for-steve
    
    * bug/133:
      Summary: fix, bug 133, for real now Keywords: bug fix

commit ff28e1fc14a20224ad8fc0c643f1d9aaaaf5a995
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sun Jan 8 02:42:39 2012 +0000

    Summary: fix, bug 133, for real now
    Keywords: bug fix
    
    This changeset fixes 133 by doing everything right.
    
    * src/ui/X11/event-Xt.c: actually reset the old modifier to the bit it
      represents, this should fix 133 once and forever
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 src/ui/X11/event-Xt.c |   81 +++++++++++++++++++++++++++----------------------
 1 file changed, 45 insertions(+), 36 deletions(-)

commit bf40594f23b232b22fe9122c34005fe9bce93a49
Merge: ef802d6 28d20ac
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sat Jan 7 22:38:16 2012 +0000

    Merge remote-tracking branch 'rudi/fixes' into for-steve-from-rudi
    
    * rudi/fixes:
      fix yow.c, include assert.h (was missing since cb837c1c)
      fix yow.c, correct else scope (broken since cb837c1c)

commit 28d20ac876ef18de2be73de507b3a13bde29f4e6
Author: Ruediger Meier <ruediger.meier@ga-group.nl>
Date:   Sat Jan 7 19:53:16 2012 +0100

    fix yow.c, include assert.h (was missing since cb837c1c)

 lib-src/yow.c |    1 +
 1 file changed, 1 insertion(+)

commit 8f8568a46c509b49fca34780b50acf720c3e3abe
Author: Ruediger Meier <ruediger.meier@ga-group.nl>
Date:   Sat Jan 7 19:45:31 2012 +0100

    fix yow.c, correct else scope (broken since cb837c1c)

 lib-src/yow.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit c6a3cb8dc768215cad36a4411a86c4fbbfae745e
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sat Jan 7 16:10:28 2012 +0000

    Summary: cosmetics, prescind from using inlines for trivial one-off stuff
    Keywords: bldchn code hygiene
    
    * src/ui/X11/event-Xt.c: superfluous inlines are removed
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 src/ui/X11/event-Xt.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 175b38195fc9d7df7a528b43ba6ef5ad1c5ec603
Merge: de447ef 78b8815
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sat Jan 7 16:08:00 2012 +0000

    Merge branch 'bug/133' into for-steve
    
    * bug/133:
      Summary: fix, final, use unsigned ints in modifier setup, fixes bug #133 Keywords: bug fix

commit 78b88150cbef1b1230f98d26476c986c49cecbe7
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sat Jan 7 16:07:36 2012 +0000

    Summary: fix, final, use unsigned ints in modifier setup, fixes bug #133
    Keywords: bug fix
    
    This fixes bug 133 finally.
    
    * src/ui/X11/event-Xt.c: make the bit set a bit wider
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 src/ui/X11/event-Xt.c |   24 ++++++++++++++----------
 1 file changed, 14 insertions(+), 10 deletions(-)

commit de447ef2d85a42f454d7e60ed6482713099495a7
Merge: ef802d6 d2255f1
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sat Jan 7 10:22:13 2012 +0000

    Merge branch 'bug/133' into for-steve
    
    * bug/133:
      Summary: fix, tentative, use unsigned int:1 to avoid overflows, fixes bug #133 Keywords: bug fix

commit d2255f13c5b5d51c6ada55f61352f12d161d6641
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sat Jan 7 10:19:37 2012 +0000

    Summary: fix, tentative, use unsigned int:1 to avoid overflows, fixes bug #133
    Keywords: bug fix
    
    This fixes bug 133 tentatively, a problem with the bitset seems to spoil
    the big de-nestification.  However, it appears the bits have to be wider
    than I planned them to be, this is up to investigation, could be an
    alignment issue.
    
    * src/ui/X11/event-Xt.c: make the bit set a bit wider
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 src/ui/X11/event-Xt.c |   15 ++++++++++-----
 1 file changed, 10 insertions(+), 5 deletions(-)

commit ef802d6a7aa8e1d29357bd41326c2f1db957739d
Merge: cd08c2c ea2ba45
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Jan 7 09:39:08 2012 +1000

    from Sebastian
    
    * merges:
      Summary: chore, kick ase extern inline Keywords: code hygiene build clang
      Summary: chore, don't check for extern inline support anymore Keywords: code hygiene build clang
      Summary: chore, crunch the number of extern_inline definitions Keywords: code hygiene build clang
      Summary: chore, refactor nested function construct in event-Xt.c Keywords: build clang
      Summary: chore, replace nested function construct by cpp equivalent Keywords: build clang
    
    Conflicts:
    	src/ui/X11/event-Xt.c  -- trivial, resolved.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

commit ea2ba4542f18d0ef911fc682061cd53b3ffca7d3
Merge: ba72fd2 369bfdd
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Jan 6 12:54:51 2012 +0000

    Merge branch 'bld/clang' into next
    
    * bld/clang:
      Summary: chore, kick ase extern inline Keywords: code hygiene build clang
      Summary: chore, don't check for extern inline support anymore Keywords: code hygiene build clang
      Summary: chore, crunch the number of extern_inline definitions Keywords: code hygiene build clang
      Summary: chore, refactor nested function construct in event-Xt.c Keywords: build clang
      Summary: chore, replace nested function construct by cpp equivalent Keywords: build clang

commit 369bfdd8e656c0963924f8ae8793e11b60220be1
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Jan 6 12:24:45 2012 +0000

    Summary: chore, kick ase extern inline
    Keywords: code hygiene build clang
    
    This changeset reviews ase code that erroneously used extern inlines
    directly, transform them to static inlines.
    
    * modules/ase/ase-cartesian.h: extern inline -> static inline
    
    * modules/ase/ase-heap.h: extern inline -> static inline
    
    * modules/ase/ase-neighbourhood.h: extern inline -> static inline
    
    * modules/ase/ase.h: extern inline -> static inline
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 modules/ase/ase-cartesian.h     |   24 +++++++++++------------
 modules/ase/ase-heap.h          |   12 ++++++------
 modules/ase/ase-neighbourhood.h |   40 +++++++++++++++++++--------------------
 modules/ase/ase.h               |   24 +++++++++++------------
 4 files changed, 50 insertions(+), 50 deletions(-)

commit 5e24af63ade2bfc5e5dfff588a06b4810a19e24f
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Jan 6 10:34:52 2012 +0000

    Summary: chore, don't check for extern inline support anymore
    Keywords: code hygiene build clang
    
    This changeset drops the check for extern inline support (and compiler
    allergies to it) altogether, resorting instead to static inlines.
    
    * m4/sxe-compiler.m4: do not check for extern inline compiler allergies
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 m4/sxe-compiler.m4 |    4 ----
 1 file changed, 4 deletions(-)

commit 9f2372ef98f1bcf4c629d9fd79fe405d8bafa2ae
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Fri Jan 6 09:03:48 2012 +0000

    Summary: chore, crunch the number of extern_inline definitions
    Keywords: code hygiene build clang
    
    This changeset drops transitional extern_inline definitions so only pure
    C99 static inlines are used from now on.
    
    * src/sxe-utils.h: drop conditional extern_inline definitions leaving
      only static inline as expansion
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/sxe-utils.h |    9 +--------
 1 file changed, 1 insertion(+), 8 deletions(-)

commit cd08c2c0259117d516cab062ff64d20ab749885f
Merge: aff5b23 80ba81e
Author: Steve Youngs <steve@sxemacs.org>
Date:   Thu Jan 5 23:26:23 2012 +1000

    Warning fixes from Nelson
    
    * merges:
      Remove casts which were not needed and causing comparison sign mismatch
      Add prototype for emacs_tparam to avoid warning
      Change the pre-processor conditional to check for MPC_SET_UI_FR to avoid warning
      Add new Assert-Equal and Assert-Not-Equal macros to test-harness, which print the actual values in case of failure. Use instead of (Assert (equal)) and (Assert (not (equal)))

commit 80ba81ea399716719af4aed5eeb49e8718c5c617
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 5 01:35:08 2012 -0500

    Remove casts which were not needed and causing comparison sign mismatch
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mule/mule-ccl.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit ed70c04349cc3fa0161ba08128c377486eac54cb
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 5 01:33:23 2012 -0500

    Add prototype for emacs_tparam to avoid warning
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/TTY/terminfo.c |    3 +++
 1 file changed, 3 insertions(+)

commit bb05cfff16464403ac435ecd39c22ec30f038901
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 5 01:32:39 2012 -0500

    Change the pre-processor conditional to check for MPC_SET_UI_FR to avoid warning
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ent/ent-mpc.c |    3 ++-
 src/ent/ent-mpc.h |    2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 8a1372fb35fc126e1af57c5c23af343cd5f45504
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Jan 5 01:31:31 2012 -0500

    Add new Assert-Equal and Assert-Not-Equal macros to test-harness, which print the actual values in case of failure. Use instead of (Assert (equal)) and (Assert (not (equal)))
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 tests/automated/ase-heap-tests.el      |   24 +++----
 tests/automated/base64-tests.el        |   44 ++++++------
 tests/automated/byte-compiler-tests.el |    4 +-
 tests/automated/ccl-tests.el           |   40 +++++------
 tests/automated/database-tests.el      |    4 +-
 tests/automated/ent-tests.el           |   88 ++++++++++++------------
 tests/automated/extent-tests.el        |   52 +++++++-------
 tests/automated/format-tests.el        |   86 +++++++++++------------
 tests/automated/hash-table-tests.el    |   42 ++++++------
 tests/automated/inplace-tests.el       |    2 +-
 tests/automated/lisp-tests.el          |  118 ++++++++++++++++----------------
 tests/automated/map-tests.el           |    8 +--
 tests/automated/md5-tests.el           |   12 ++--
 tests/automated/mule-tests.el          |   17 ++---
 tests/automated/skiplist-tests.el      |    2 +-
 tests/automated/symbol-tests.el        |   40 +++++------
 tests/automated/test-harness.el        |   30 ++++++++
 tests/automated/weak-tests.el          |   30 ++++----
 18 files changed, 337 insertions(+), 306 deletions(-)

commit aff5b23fb93f346727d48459b1c8efe59eea2854
Merge: 72bced9 a2e176a
Author: Steve Youngs <steve@sxemacs.org>
Date:   Thu Jan 5 15:13:45 2012 +1000

    Warning fixes from Nelson
    
    * merges:
      More warning suppressions
      More warning suppression
      Get rid of the slew of warning in tags code

commit a2e176a2d2f133af3bf89c38ab29d9dfa08bcdc1
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 4 23:05:52 2012 -0500

    More warning suppressions
    
    	* lib-src/gnuslib.c (connect_to_unix_server): Use size_t for sz
    
    	* src/ui/X11/event-Xt.c (x_reset_modifier_mapping): Add full
    	prototype to auto functions
    
    	* src/ui/glyphs-eimage.c (png_instantiate): use png_uint_32 in loop
    
    	* src/ui/lwlib/xlwmenu.c (parameterize_string): add new offset to
    	keep signedness in comparison
    
    	* src/ui/X11/glyphs-x.c (x_subwindow_query_geometry): add prototyp
    
    	* lib-src/gnuslib.c (connect_to_internet_server): Use size_t to
    	compare with sizeof.
    
    	* src/alloc.c (garbage_collect): ditto.
    	* src/buffer.c (Fgenerate_new_buffer_name): ditto.
    	* src/dumper.c (pdump_file_try): ditto.
    	* src/dumper.c (pdump_load): ditto.
    	* src/editfns.c (Fencode_time): ditto.
    	* src/editfns.c (Fencode_btime): ditto.
    	* src/editfns.c (Fcurrent_time_zone): ditto.
    	* src/extents.c (print_extent_1): ditto.
    	* src/mule/input-method-xlib.c (EmacsXtCvtStringToXIMStyles): ditto.
    	* src/mule/input-method-xlib.c (describe_Window): ditto.
    	* src/print.c (SXE_VSNPRINT_VA): ditto.
    	* src/print.c (write_hex_ptr): ditto.
    	* src/print.c (printing_major_badness): ditto.
    	* src/process-unix.c (allocate_pty_the_old_fashioned_way): ditto.
    
    	* src/process-unix.c (unix_open_network_stream): ditto.
    	* src/process-unix.c (unix_open_network_server_stream): ditto.
    	* src/process.c (make_process_internal): ditto.
    	* src/strftime.c (add_num_time_t): ditto.
    	* src/ui/TTY/objects-tty.c (Ffind_tty_color): ditto.
    	* src/ui/TTY/objects-tty.c (Ftty_registered_color_list): ditto.
    	* src/ui/TTY/redisplay-tty.c (term_get_fkeys_1): ditto.
    	* src/ui/X11/device-x.c (read_locale_specific_resources): ditto.
    	* src/ui/X11/device-x.c (x_init_device): ditto.
    	* src/ui/X11/device-x.c (signal_if_x_error): ditto.
    	* src/ui/X11/dialog-x.c (dbox_descriptor_to_widget_value): ditto.
    	* src/ui/X11/event-Xt.c (x_keysym_to_emacs_keysym): ditto.
    	* src/ui/X11/event-Xt.c (describe_event): ditto.
    	* src/ui/X11/frame-x.c (color_to_string): ditto.
    	* src/ui/X11/frame-x.c (x_set_initial_frame_size): ditto.
    	* src/ui/X11/frame-x.c (Fx_window_id): ditto.
    	* src/ui/X11/objects-x.c (truename_via_random_props): ditto.
    	* src/ui/X11/scrollbar-x.c (x_create_scrollbar_instance): ditto.
    	* src/ui/glyphs-eimage.c (tiff_error_func): ditto.
    	* src/ui/glyphs-eimage.c (tiff_warning_func): ditto.
    	* src/ui/lwlib/lwlib-Xaw.c (make_dialog): ditto.
    	* src/ui/lwlib/lwlib-Xaw.c (make_dialog): ditto.
    	* src/ui/lwlib/xlwgauge.c (GaugeExpose): ditto.
    	* src/ui/lwlib/xlwgauge.c (MaxLabel): ditto.
    	* src/ui/lwlib/xlwmenu.c (parameterize_string): ditto.
    	* src/ui/lwlib/xlwtabs.c (XawTabsSetTop): ditto.
    	* src/ui/redisplay.c (decode_mode_spec): ditto.
    	* src/ui/redisplay.c (decode_mode_spec): ditto.
    	* src/ui/redisplay.c (decode_mode_spec): ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/gnuslib.c            |    5 +++--
 src/alloc.c                  |    8 ++++----
 src/buffer.c                 |    2 +-
 src/dumper.c                 |    8 ++++----
 src/editfns.c                |    6 +++---
 src/extents.c                |    2 +-
 src/mule/input-method-xlib.c |    9 +++++----
 src/print.c                  |    6 +++---
 src/process-unix.c           |   10 +++++-----
 src/process.c                |    2 +-
 src/strftime.c               |    2 +-
 src/ui/TTY/objects-tty.c     |    4 ++--
 src/ui/TTY/redisplay-tty.c   |    2 +-
 src/ui/X11/device-x.c        |   20 ++++++++++----------
 src/ui/X11/dialog-x.c        |    2 +-
 src/ui/X11/event-Xt.c        |   15 +++++++++------
 src/ui/X11/frame-x.c         |    6 +++---
 src/ui/X11/glyphs-x.c        |    4 ++++
 src/ui/X11/objects-x.c       |    2 +-
 src/ui/X11/scrollbar-x.c     |    2 +-
 src/ui/glyphs-eimage.c       |    7 ++++---
 src/ui/lwlib/lwlib-Xaw.c     |    4 ++--
 src/ui/lwlib/xlwgauge.c      |    4 ++--
 src/ui/lwlib/xlwmenu.c       |   14 +++++++++-----
 src/ui/lwlib/xlwtabs.c       |    2 +-
 src/ui/redisplay.c           |    6 +++---
 26 files changed, 84 insertions(+), 70 deletions(-)

commit 4c6794a5c5bcd7bf9a8f4b6c6c97098cf2c88f15
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 4 22:49:38 2012 -0500

    More warning suppression
    
    	* lib-src/etags.c (etags_strrchr): restore the register qualifier
    
    	* lib-src/gnuclient.c (main): remove unneeded shadowed variable definition
    
    	* lib-src/gnuclient.c (tell_emacs_to_resume): use size_to compare to sizeof
    	* lib-src/gnuclient.c (filename_expand): ditto.
    	* lib-src/gnuclient.c (main): ditto.
    	* lib-src/gnuserv.c (unix_init): ditto.
    	* lib-src/ootags.c (main): ditto.
    	* lib-src/profile.c (get_time): ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/etags.c     |    4 ++--
 lib-src/gnuclient.c |   21 ++++++++++-----------
 lib-src/gnuserv.c   |    2 +-
 lib-src/ootags.c    |    4 ++--
 lib-src/profile.c   |    2 +-
 5 files changed, 16 insertions(+), 17 deletions(-)

commit 2e1a362f74fcaf5506fe4dbd81dacb8c16ede53e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 4 22:45:03 2012 -0500

    Get rid of the slew of warning in tags code
    
    	* lib-src/etags.c (main): added missing case labels.
    	* lib-src/etags.c (consider_token): ditto.
    	* lib-src/etags.c (C_entries): ditto.
    	* lib-src/etags.c (main): Made sure size was compared to sizeof as size_t .
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/etags.c |  188 +++++++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 184 insertions(+), 4 deletions(-)

commit 72bced9469a5d503ac002a95639b305482bd1308
Merge: ba72fd2 3a67580
Author: Steve Youngs <steve@sxemacs.org>
Date:   Thu Jan 5 10:50:42 2012 +1000

    Buildchain fix from Nelson
    
    * merges:
      Fix previous fix. Use X_CFLAGS, not X_FLAGS...
      Revert removal of X_FLAGS from libsxeuiTTY_a_CPPFLAGS. We really need to fix this. TTY should not depend on X11 even if X11 is being linked in...
      Revert removal of X_FLAGS from libsxecore_a_CPPFLAGS and libcruft_a_CPPFLAGS

commit 3a67580d6f26012e7fbda6f355a0fe89ceb6eff0
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Jan 4 19:24:51 2012 -0500

    Fix previous fix. Use X_CFLAGS, not X_FLAGS...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/Makefile.am        |    4 ++--
 src/ui/TTY/Makefile.am |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 8d9caf434f035567f791e283716b38d99b382668
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Wed Jan 4 13:33:18 2012 +0000

    Summary: chore, refactor nested function construct in event-Xt.c
    Keywords: build clang
    
    This changeset replaces the nested function thing used for modifier
    mappings by ordinary function calls and a closure structure.
    
    * src/ui/X11/event-Xt.c (x_reset_modifier_mapping): auto inline foo ->
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/ui/X11/event-Xt.c |  444 +++++++++++++++++++++++++++----------------------
 1 file changed, 247 insertions(+), 197 deletions(-)

commit 4340c8701bb671122d0a4f51e2613e851c7d8051
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Wed Jan 4 10:33:55 2012 +0000

    Summary: chore, replace nested function construct by cpp equivalent
    Keywords: build clang
    
    This changeset replaces a nested function left-over, introduced to
    provide closure (over the compile stack), by a more portable
    pre-processor construct.
    
    * src/regex.c (regex_compile): auto inline foo -> #define
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/regex.c |    7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit 2eec5d2183f87c1805c66c361282069246b96528
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Jan 3 23:58:56 2012 -0500

    Revert removal of X_FLAGS from libsxeuiTTY_a_CPPFLAGS. We really need to fix this. TTY should not depend on X11 even if X11 is being linked in...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/TTY/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 033216f92d0162b3a7d78c36e801e90535152157
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Jan 3 23:48:22 2012 -0500

    Revert removal of X_FLAGS from libsxecore_a_CPPFLAGS and libcruft_a_CPPFLAGS
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ba72fd2785d2759f7add94e1dd6ab312e8416f50
Merge: 39bef1f b0e7120
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Jan 4 07:35:26 2012 +1000

    Merge branch 'trivial'
    
    * trivial:
      fix my conflict fix

commit b0e712037bcd49aea4967ec8785b3c92f40c588c
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Jan 4 07:34:57 2012 +1000

    fix my conflict fix
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 39bef1fc8da5618802cf59b3e9a950a1f72c4593
Merge: db6e1c7 bf238ea
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Jan 4 07:12:38 2012 +1000

    Buildchain fixes and updates from Sebastian
    
    * merges: (21 commits)
      Summary: fix to fix, do not blank EMACSPACKAGEPATH when finding ... Keywords: bldchn
      Summary: minor, also massage sxemacs calls in tests/ with batch env Keywords: bldchn
      Summary: minor, put XCCLDFLAGS in libtool built binaries and libs Keywords: build icc
      Summary: minor, provide XCCLDFLAGS to be passed on through libtool to the CC Keywords: build icc
      Summary: minor, tweak SXE_CHECK_LINKER_FLAGS Keywords: bldchn
      Summary: fix to fix, do not treat compiler flags as linker flags Keywords: bldchn
      Summary: minor, specifically check for all optimisation flags Keywords: bldchn
      Summary: fix, check for special diagnostic 10237 if CC=icc Keywords: bldchn
      Summary: fix, use all CFLAGS for linker flag check Keywords: bldchn
      Summary: minor, provide SXE_CHECK_COMPILER_XFLAG Keywords: bldchn
      Summary: cosmetics, add meself to sppm.texi Keywords: boasting
      Summary: minor, always pass on SXE_DYLD_PATH with pointers to the lwlibdir Keywords: bldchn
      Summary: minor, call the linker (or the compiler front-end) when ... Keywords: bldchn
      Summary: fix, carefully quote esd lib prepending Keywords: bldchn
      Summary: minor, rewrite linker checks to use the compiler front-end and XFLAG Keywords: bldchn
      Summary: cosmetics, add ar-lib wrapper script to git ignore file Keywords: bldchn
      Summary: fix to cosmetics, add AM_PROG_AR conditionally Keywords: bldchn
      Summary: cosmetics, add AM_PROG_AR like autoreconf suggests Keywords: bldchn
      Summary: minor, check certain compiler flags regardless of CC flavour Keywords: bldchn
      Summary: minor, provide C11 check for anonymous structs Keywords: bldchn
      ...
    
    Conflicts:
    	src/Makefile.am  -- trivial conflict resolved
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

commit bf238ea1390b3e1503cb3a18ab83f9a3dd7894d9
Merge: e38e85e a1b5402
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Tue Jan 3 11:54:04 2012 +0000

    Merge branch 'bldchn' into next
    
    * bldchn:
      Summary: fix to fix, do not blank EMACSPACKAGEPATH when finding ... Keywords: bldchn
      Summary: minor, also massage sxemacs calls in tests/ with batch env Keywords: bldchn

commit a1b5402d8c5857f4034cf254a54abb08616cdd64
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Tue Jan 3 11:33:24 2012 +0000

    Summary: fix to fix, do not blank EMACSPACKAGEPATH when finding ...
    Keywords: bldchn
    
    ... load path shadows.
    
    * src/Makefile.am (sxemacs.dmp): use BATCHENV in target so load paths
      contain the current user's package paths
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 src/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9ad792050bb03af38280ba676245bde07bba84da
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Tue Jan 3 10:52:29 2012 +0000

    Summary: minor, also massage sxemacs calls in tests/ with batch env
    Keywords: bldchn
    
    Again, due to a libtool inconsistency, this changeset adds the location
    of the newly built lwlib libary to the environment before calling
    sxemacs, this time in tests/ so make check will work.
    
    * tests/Makefile.am: add batch environment to sxemacs binary calls
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 tests/Makefile.am |   19 +++++++++++++------
 1 file changed, 13 insertions(+), 6 deletions(-)

commit e38e85eccd599c0096d3343e0ae8a7b782cddcc0
Merge: 34b2f6c 699e5f0
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Tue Jan 3 10:29:10 2012 +0000

    Merge branch 'bld/icc' into next
    
    * bld/icc:
      Summary: minor, put XCCLDFLAGS in libtool built binaries and libs Keywords: build icc
      Summary: minor, provide XCCLDFLAGS to be passed on through libtool to the CC Keywords: build icc

commit 699e5f09b46ffcf4d614ee0b850644bf52e9a8cb
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Tue Jan 3 09:51:06 2012 +0000

    Summary: minor, put XCCLDFLAGS in libtool built binaries and libs
    Keywords: build icc
    
    This changeset adds XCCLDFLAGS to all libs and binaries touched by
    libtool, in general whenever there's a foo_la_bar foo_la_LDFLAGS or
    AM_LDFLAGS should contain $(XCCLDFLAGS).
    
    * modules/ase/Makefile.am: add XCCLDFLAGS
    
    * modules/cl/Makefile.am: add XCCLDFLAGS
    
    * modules/dbus/Makefile.am: add XCCLDFLAGS
    
    * modules/ldap/Makefile.am: add XCCLDFLAGS
    
    * src/Makefile.am: add XCCLDFLAGS
    
    * src/ui/lwlib/Makefile.am: add XCCLDFLAGS
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 modules/ase/Makefile.am  |    2 +-
 modules/cl/Makefile.am   |    2 +-
 modules/dbus/Makefile.am |    2 +-
 modules/ldap/Makefile.am |    2 +-
 src/Makefile.am          |    2 +-
 src/ui/lwlib/Makefile.am |    2 +-
 6 files changed, 6 insertions(+), 6 deletions(-)

commit 8f8cf437bf7672f133c8c13cf2475cac32f56d48
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Tue Jan 3 09:23:44 2012 +0000

    Summary: minor, provide XCCLDFLAGS to be passed on through libtool to the CC
    Keywords: build icc
    
    * m4/sxe-compiler.m4: put -static-foo into XCCLDFLAGS and AC_SUBST them
    
    * m4/sxe-libtool.m4: prepend XCCFLAG (-XCClinker) to XCCLDFLAGS entries
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 m4/sxe-compiler.m4 |    8 ++++++--
 m4/sxe-libtool.m4  |    6 ++++++
 2 files changed, 12 insertions(+), 2 deletions(-)

commit db6e1c7095b748d12efc495ef61db1c2b18c2a37
Merge: 39b1557 cfa38d8
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Jan 3 13:36:06 2012 +1000

    MacOS libpng detection fixes from Nelson
    
    * merges:
      Fix detection of MacOS X native provided libpng
      Overcome differences in order of CFLAGS vs argument list. In the process, make the libpng used in Mac OS be the one detected, not a difference between compile and runtime.

commit 34b2f6c4a1fac5b6ae743faeba2f8030349fab61
Merge: 9373cf1 f14fdf9
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Mon Jan 2 23:36:44 2012 +0000

    Merge branch 'bldchn' into next
    
    * bldchn:
      Summary: minor, tweak SXE_CHECK_LINKER_FLAGS Keywords: bldchn
      Summary: fix to fix, do not treat compiler flags as linker flags Keywords: bldchn
      Summary: minor, specifically check for all optimisation flags Keywords: bldchn
      Summary: fix, check for special diagnostic 10237 if CC=icc Keywords: bldchn
      Summary: fix, use all CFLAGS for linker flag check Keywords: bldchn
      Summary: minor, provide SXE_CHECK_COMPILER_XFLAG Keywords: bldchn

commit f14fdf96617772fd08273bda52c39c4718021e2d
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Mon Jan 2 23:14:59 2012 +0000

    Summary: minor, tweak SXE_CHECK_LINKER_FLAGS
    Keywords: bldchn
    
    Just to be symmetric provide a 4 argument version for macro
    SXE_CHECK_LINKER_FLAGS, where the 4th argument is a list of additional
    flags to pass to the linker, in analogy to the 4-arg version of
    SXE_CHECK_COMPILER_FLAGS.
    
    * m4/sxe-linker.m4: provide 4 argument SXE_CHECK_LINKER_FLAGS for
      analogy reasons
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 m4/sxe-linker.m4 |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 643a0211c43cdd3691abdcda048fbb686024fa25
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Mon Jan 2 23:11:06 2012 +0000

    Summary: fix to fix, do not treat compiler flags as linker flags
    Keywords: bldchn
    
    This changeset reverts some checks for falsely dubbed linker flags which
    are in fact compiler flags, namely -static-intel and -static-libgcc.
    
    Because these flags need to be checked against the fully expanded
    CFLAGS, the CFLAGS are generated beforehand and the checks themselves go
    to FEATFLAGS.
    
    * m4/sxe-linker.m4: fix, remove checks for -static-intel and
      -static-libgcc
    
    * m4/sxe-compiler.m4: check for -static-intel and -static-libgcc in the
      context of FEATFLAGS
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 m4/sxe-compiler.m4 |   22 +++++++++++++++++++---
 m4/sxe-linker.m4   |    7 -------
 2 files changed, 19 insertions(+), 10 deletions(-)

commit cfa38d82790664fe638a5edf0bdbfba9dfc42bb0
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Jan 2 17:45:22 2012 -0500

    Fix detection of MacOS X native provided libpng
    
    	* m4/sxe-mm.m4 (_SXE_MM_CHECK_PNG_VERSION): Use the previously
    	detected PNG LDFLAGS, CFLAGS and LIBS when determining version.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 m4/sxe-mm.m4 |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit a83d30019ae267ba58e50f342906766f5a2c6cc8
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Mon Jan 2 22:35:42 2012 +0000

    Summary: minor, specifically check for all optimisation flags
    Keywords: bldchn
    
    * m4/sxe-compiler.m4: if --with-ridiculously-aggressive-optimisations is
      not given perform a moderate check for optimisation flags instead of
      just setting them
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 m4/sxe-compiler.m4 |   45 +++++++++++++++++++++++++++++----------------
 1 file changed, 29 insertions(+), 16 deletions(-)

commit 5fac5a7406a99455c3c23990f65b65d23319a18d
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Mon Jan 2 22:09:07 2012 +0000

    Summary: fix, check for special diagnostic 10237 if CC=icc
    Keywords: bldchn
    
    * m4/sxe-compiler.m4: if CC=icc check for special diagnostic 10237 to
      facilitate -static-intel
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 m4/sxe-compiler.m4 |    6 ++++++
 1 file changed, 6 insertions(+)

commit 90edcdb06ebda871cabb992d09d81136d7262758
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Mon Jan 2 22:08:16 2012 +0000

    Summary: fix, use all CFLAGS for linker flag check
    Keywords: bldchn
    
    * m4/sxe-linker.m4: actuaclly use the CFLAGS agreed upon so far to check
      linker flags
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 m4/sxe-linker.m4 |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 06ab263025dd31ade9131cda75b78e9447c5ee28
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Mon Jan 2 21:41:43 2012 +0000

    Summary: minor, provide SXE_CHECK_COMPILER_XFLAG
    Keywords: bldchn
    
    This changeset provides a convenience macro, SXE_CHECK_COMPILER_XFLAG,
    to test how to pass on linker flags through the C compiler.
    
    * m4/sxe-compiler.m4: new, SXE_CHECK_COMPILER_XFLAG
    
    * m4/sxe-linker.m4: require SXE_CHECK_COMPILER_XFLAG
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 m4/sxe-compiler.m4 |   21 +++++++++++++++++++++
 m4/sxe-linker.m4   |   14 +-------------
 2 files changed, 22 insertions(+), 13 deletions(-)

commit 9373cf13a61b48ff780bef0e2f2851e92ecce509
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Mon Jan 2 19:54:54 2012 +0000

    Summary: cosmetics, add meself to sppm.texi
    Keywords: boasting
    
    * info/sppm.texi: add my git repo
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 info/sppm.texi |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 1fee7d7533c177971cc422f67a8cdb48845ba092
Merge: 39b1557 e060837
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Mon Jan 2 19:47:04 2012 +0000

    Merge branch 'bldchn' into next
    
    * bldchn:
      Summary: minor, always pass on SXE_DYLD_PATH with pointers to the lwlibdir Keywords: bldchn
      Summary: minor, call the linker (or the compiler front-end) when ... Keywords: bldchn
      Summary: fix, carefully quote esd lib prepending Keywords: bldchn
      Summary: minor, rewrite linker checks to use the compiler front-end and XFLAG Keywords: bldchn
      Summary: cosmetics, add ar-lib wrapper script to git ignore file Keywords: bldchn
      Summary: fix to cosmetics, add AM_PROG_AR conditionally Keywords: bldchn
      Summary: cosmetics, add AM_PROG_AR like autoreconf suggests Keywords: bldchn
      Summary: minor, check certain compiler flags regardless of CC flavour Keywords: bldchn
      Summary: minor, provide C11 check for anonymous structs Keywords: bldchn
      Summary: fix, use our compiler flag check macros to check for pthread{,s} Keywords: bldchn

commit e060837684670b5ef92597add7a172cb8bd5bb17
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Mon Jan 2 19:45:44 2012 +0000

    Summary: minor, always pass on SXE_DYLD_PATH with pointers to the lwlibdir
    Keywords: bldchn
    
    This changeset prepends calls to the undumped or dumped sxe binary with
    BATCHENV which holds paths to the newly built lwlib libs.  This fixes
    builds that switch from say the athena widget kit to the lucid kit, as
    the installed lwlib library will certainly not provide some symbols
    needed with the new widget kit.
    
    * lisp/Makefile.am: prepend all calls to sxe with BATCHENV
    
    * modules/Makefile.am: prepend all calls to sxe with BATCHENV
    
    * src/Makefile.am: prepend all calls to sxe with BATCHENV
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 lisp/Makefile.am    |    8 ++++++--
 modules/Makefile.am |   14 ++++++++++++--
 src/Makefile.am     |    6 ++++--
 3 files changed, 22 insertions(+), 6 deletions(-)

commit 821020880a883e6c7ae2c4804d29a8ff17c8ebb1
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Mon Jan 2 14:26:58 2012 +0000

    Summary: minor, call the linker (or the compiler front-end) when ...
    Keywords: bldchn
    
    ... checking for LD_ZFLAGs.  This facilitates sparse and clang builds.
    
    * m4/sxe-linker.m4 (SXE_CHECK_LD_ZFLAG): be a wrapper for
      SXE_CHECK_LINKER_FLAGS
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 m4/sxe-linker.m4 |   43 ++++++++++++++++++++++---------------------
 1 file changed, 22 insertions(+), 21 deletions(-)

commit 372156c4a7f1faccebdacbbbf0dc014b7302fbb9
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Mon Jan 2 14:23:33 2012 +0000

    Summary: fix, carefully quote esd lib prepending
    Keywords: bldchn
    
    * configure.ac: fix, both esd-config and MM_LIBS quoted properly
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 configure.ac |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 1102c997c4f6cad32f80fb5b162be8e226d1ad58
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Mon Jan 2 12:39:13 2012 +0000

    Summary: minor, rewrite linker checks to use the compiler front-end and XFLAG
    Keywords: bldchn
    
    * configure.ac (SXE_CHECK_LINKER_FLAGS -> SXE_CHECK_LDFLAGS): rename, in
      accordance to SXE_CHECK_CFLAGS
      use new SXE_CHECK_LINKER_FLAGS macro to check for nocombreloc
    
    * sxe-compiler.m4 (SXE_FEATFLAGS): move linker specific stuff to
      SXE_CHECK_LDFLAGS in sxe-linker.m4
    
    * sxe-linker.m4 (SXE_CHECK_LINKER_FLAGS): new, macro to check for flags
      passed down to the linker via the compiler front-end, just as in
      real-life
      (SXE_CHECK_LDFLAGS): also check for compiler+linker specifics like
      static-intel and static-libgcc
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 configure.ac       |    4 +-
 m4/sxe-compiler.m4 |   13 ------
 m4/sxe-linker.m4   |  112 +++++++++++++++++++++++++++++++++++++++++-----------
 3 files changed, 92 insertions(+), 37 deletions(-)

commit 177e3a6c76137203f57b639ea8b0c75409e4e92c
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Mon Jan 2 10:39:25 2012 +0000

    Summary: cosmetics, add ar-lib wrapper script to git ignore file
    Keywords: bldchn
    
    * .gitignore: add `ar-lib'
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit a27549ef3e349d1624e697acf1c33b22d26a85d6
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Mon Jan 2 10:38:18 2012 +0000

    Summary: fix to cosmetics, add AM_PROG_AR conditionally
    Keywords: bldchn
    
    * configure.ac: add AM_PROG_AR conditionally
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 653a75742fd420542eff3eb51134c14660703839
Author: Sebastian Freundt <freundt@ga-group.nl>
Date:   Mon Jan 2 10:37:02 2012 +0000

    Summary: cosmetics, add AM_PROG_AR like autoreconf suggests
    Keywords: bldchn
    
    * configure.ac: add AM_PROG_AR
    
    Signed-off-by: Sebastian Freundt <freundt@ga-group.nl>

 configure.ac |    2 ++
 1 file changed, 2 insertions(+)

commit 7c089eab693837017f0d67136b4e55605c836b91
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Jan 1 23:40:14 2012 -0500

    Overcome differences in order of CFLAGS vs argument list. In the process, make the libpng
    used in Mac OS be the one detected, not a difference between compile and runtime.
    
    	* m4/sxe-summary.m4 (SXE_SUMMARY): Add output of c_switch_system,
    	ld_switch_general and ld_libs_system to the summary.
    
    	* src/Makefile.am (libsxecore_a_CPPFLAGS): Remove X_CFLAGS since
    	they are not (and should not be) needed.
    	* src/Makefile.am (libcruft_a_CPPFLAGS): Ditto.
    	* src/ui/TTY/Makefile.am (libsxeuiTTY_a_CPPFLAGS): Ditto.
    
    	* src/Makefile.am (AM_CPPFLAGS): Use c_switch_general instead of c_switch_system
    	* src/database/Makefile.am (AM_CPPFLAGS): Ditto.
    	* src/ent/Makefile.am (AM_CPPFLAGS): Ditto.
    	* src/events/Makefile.am (AM_CPPFLAGS): Ditto.
    	* src/media/Makefile.am (AM_CPPFLAGS): Ditto.
    	* src/media/Makefile.am (libmm_a_CPPFLAGS): Ditto.
    	* src/mem/Makefile.am (AM_CPPFLAGS): Ditto.
    	* src/mule/Makefile.am (AM_CPPFLAGS): Ditto.
    	* src/ui/Gtk/Makefile.am (AM_CPPFLAGS): Ditto.
    	* src/ui/Gtk/Makefile.am (libsxeuiGtk_a_CPPFLAGS): Ditto.
    	* src/ui/Makefile.am (AM_CPPFLAGS): Ditto.
    	* src/ui/Makefile.am (libsxeui_a_CPPFLAGS): Ditto.
    	* src/ui/TTY/Makefile.am (AM_CPPFLAGS): Ditto.
    	* src/ui/TTY/Makefile.am (libsxeuiTTY_a_CPPFLAGS): Ditto.
    	* src/ui/X11/Makefile.am (AM_CPPFLAGS): Ditto.
    	* src/ui/X11/Makefile.am (libsxeuiX11_a_CPPFLAGS): Ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac             |    2 +-
 m4/sxe-summary.m4        |    3 +++
 src/Makefile.am          |    6 +++---
 src/database/Makefile.am |    2 +-
 src/ent/Makefile.am      |    2 +-
 src/events/Makefile.am   |    2 +-
 src/media/Makefile.am    |    4 ++--
 src/mem/Makefile.am      |    2 +-
 src/mule/Makefile.am     |    2 +-
 src/ui/Gtk/Makefile.am   |    4 ++--
 src/ui/Makefile.am       |    4 ++--
 src/ui/TTY/Makefile.am   |    4 ++--
 src/ui/X11/Makefile.am   |    4 ++--
 13 files changed, 22 insertions(+), 19 deletions(-)

commit 804807b1a189cdec25cb16ffb290946447cc0d1c
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sun Jan 1 21:04:29 2012 +0000

    Summary: minor, check certain compiler flags regardless of CC flavour
    Keywords: bldchn
    
    This changeset, in preparation to upcoming clang support, checks for
    certain compiler flags (warnings at the moment) regardless of flavour.
    It seems many compilers actually support a lot more gcc flags than gcc
    itself, so check for them without checking for the flavour first.
    
    This might break Sun studio build but Sun isn't shining anymore, is it?
    
    * m4/sxe-compiler.m4: check for warning flags irrespective of CC flavour
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 m4/sxe-compiler.m4 |  183 +++++++++++++++++++++++-----------------------------
 1 file changed, 82 insertions(+), 101 deletions(-)

commit c52e5ab7894cb2f5aef6d853a103cb282af58eb8
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sun Jan 1 20:56:47 2012 +0000

    Summary: minor, provide C11 check for anonymous structs
    Keywords: bldchn
    
    This changeset provides a check for anon structs, an on-and-off feature
    of gcc, and mandatory for C11 support.
    
    * m4/sxe-compiler.m4 (SXE_CHECK_ANON_STRUCTS): simply check if anon
      structs are possible, they ought to be when -std=gnu1x is selected but
      that's only possible in gcc 4.6.1 it seems.
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 m4/sxe-compiler.m4 |   34 ++++++++++++++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit df246395d8af148700dd9307af66e041f9f4479c
Author: Sebastian Freundt <hroptatyr@fresse.org>
Date:   Sun Jan 1 19:00:13 2012 +0000

    Summary: fix, use our compiler flag check macros to check for pthread{,s}
    Keywords: bldchn
    
    This changeset properly checks for the flags -pthread and -pthreads.
    The old case based system could not cope with new gcc's and clang's
    error messages.
    
    * configure.ac: fix, use SXE_CHECK_COMPILER_FLAGS, a macro defined in
      m4/sxe-compiler.m4
    
    Signed-off-by: Sebastian Freundt <hroptatyr@fresse.org>

 configure.ac |   29 ++++++++++++-----------------
 1 file changed, 12 insertions(+), 17 deletions(-)

commit 39b1557ce3592ee25c387a72edebadb8f35fd306
Merge: c66d849 23cf82a
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sun Dec 18 13:41:16 2011 +1000

    contrib updates from Nelson
    
    * merges:
      Add check for user email and name setup

commit 23cf82a7fa5b37d7e31bf1f430422ecbcc7146e8
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Dec 16 23:51:26 2011 -0500

    Add check for user email and name setup
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 contrib/git-to-steve.sh |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit c66d849e3726d1ae812eba5bdb74c1a4b308aa82
Merge: 0fca85e 33605d8
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Dec 17 13:30:44 2011 +1000

    stress testing git workflow
    
    * merges:
      ensure we track origin/master
      Added contrib script to help people setup their contributing branches

commit 33605d8ed227ade297baa823b8551d60f40a7e1a
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Dec 17 13:30:23 2011 +1000

    ensure we track origin/master
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 contrib/git-to-steve.sh |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c39799e08637bb55b6b1a0cda7d9045be212cf3b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Dec 16 22:08:30 2011 -0500

    Added contrib script to help people setup their contributing branches
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 contrib/git-to-steve.sh |    5 +++++
 1 file changed, 5 insertions(+)

commit 0fca85e5bcfcce6570fb7686117b9994658c697a
Merge: e835e19 71a3fb9
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Dec 17 12:47:36 2011 +1000

    stress testing git workflow
    
    * merges:
      Add copyright to autogen.sh

commit 71a3fb947b3582d4fe847097f6a54d1673731597
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Dec 16 21:43:21 2011 -0500

    Add copyright to autogen.sh
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 autogen.sh |   23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit e835e1926fd5dd0e66de8cc31a7d896ba6390079
Merge: 3bfb19e 5660ee2
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Dec 16 10:24:53 2011 +1000

    contrib updates
    
    * merges:
      Add triggers to action to update contrib scripts
      More remove tla hook references in contrib
      Remove tla hook references in contrib
      Warn that cl emod is not being built due to missing bison
      Revert "Add copyright and license to autogen.sh"
      Add copyright and license to autogen.sh
      Add the directory for the dbus module
      Add my copyright to configure.ac

commit 5660ee2f97ed12ca1f4b377d431fcd7dc1740c33
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Dec 15 00:07:25 2011 -0500

    Add triggers to action to update contrib scripts
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 contrib/README                  |    5 +----
 contrib/make-pkg.sh             |    2 ++
 contrib/report-build-failure.sh |    2 ++
 3 files changed, 5 insertions(+), 4 deletions(-)

commit ad4fb739fac192a9af5fc2c5bdef92fe292d779e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Dec 15 00:03:03 2011 -0500

    More remove tla hook references in contrib
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 contrib/hook |  192 ----------------------------------------------------------
 1 file changed, 192 deletions(-)

commit d75799f66fe5c78bc131d069b348f5e74c1c8fed
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Dec 15 00:00:41 2011 -0500

    Remove tla hook references in contrib
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 contrib/10sendlog |   30 -------------------------
 contrib/20mirror  |   23 -------------------
 contrib/README    |   64 -----------------------------------------------------
 3 files changed, 117 deletions(-)

commit 425838730140b68fc4952f146b875a8a23bf2f0d
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Dec 14 23:08:41 2011 -0500

    Warn that cl emod is not being built due to missing bison
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac |   17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit 864a30c583e9f1969ef459fad093632c11b20baf
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Dec 14 22:52:40 2011 -0500

    Revert "Add copyright and license to autogen.sh"
    
    This reverts commit 141c2bb87dad80dd319fe76517ec2429a10bebe6.

 autogen.sh |   25 -------------------------
 1 file changed, 25 deletions(-)

commit 141c2bb87dad80dd319fe76517ec2429a10bebe6
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Dec 14 22:42:14 2011 -0500

    Add copyright and license to autogen.sh

 autogen.sh |   25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

commit a1783231ad682d92a9fbc2504cb7f2de7fe1a030
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Dec 14 22:10:59 2011 -0500

    Add the directory for the dbus module

 modules/dbus/Makefile.am |   83 ++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 83 insertions(+)

commit 6657aaca92854299636110e22f52d67324f6a388
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Dec 14 21:36:21 2011 -0500

    Add my copyright to configure.ac
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac |    1 +
 1 file changed, 1 insertion(+)

commit 3bfb19ec3caa11eacf9150582f2a2292868b83f5
Merge: 8adeb69 b6e2483
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Dec 10 09:34:12 2011 +1000

    Autoconf/buildchain fixes/improvements from Nelson
    
    * merges:
      Enhance realpath and dirname checking.
      Remove unneeded SXE_SHLIB_STUFF
      Stop configure if there is no makeinfo

commit b6e24839f4467534be899fdfd14653255ebf4ac4
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Dec 9 14:20:15 2011 -0500

    Enhance realpath and dirname checking.
    
    	* m4/sxe-fs-funs.m4 (_SXE_CHECK_REALPATH_RETVAL): Do the checking
    	in a function so that any core will show which test cored.
    
    	* m4/sxe-fs-funs.m4 (_SXE_CHECK_REALPATH_RETVAL_OWNER): Ditto.
    
    	* m4/sxe-fs-funs.m4 (_SXE_CHECK_REALPATH_ON_PROTECTED_MEMORY): Ditto.
    
    	* m4/sxe-fs-funs.m4 (_SXE_CHECK_REALPATH_SANE_ON_NON_EXISTENT): Ditto.
    
    	* m4/sxe-fs-funs.m4 (_SXE_CHECK_DIRNAME_SIDE_EFFECT): Ditto.
    
    	* m4/sxe-fs-funs.m4 (_SXE_CHECK_DIRNAME_RETVAL_OWNER): Ditto.
    
    	* m4/sxe-fs-funs.m4 (_SXE_CHECK_DIRNAME_RETVAL_OWNER): Avoid a
    	core in MacOS X by pre-choosing sys as the result.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 m4/sxe-fs-funs.m4 |   61 +++++++++++++++++++++++++++++++++++++++++++++--------
 1 file changed, 52 insertions(+), 9 deletions(-)

commit 9e501c05c826bcf14b60c2a4969b6ca9e7ac6fe8
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Dec 9 14:11:13 2011 -0500

    Remove unneeded SXE_SHLIB_STUFF
    
    	* m4/sxe-linker.m4: As the title says. This is not called anywhere, so better to
    	take this ugly piece out. We have this logic already spreadout elsewhere anyway,
    	both in our own stuff and libtool...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 m4/sxe-linker.m4 |  592 ------------------------------------------------------
 1 file changed, 592 deletions(-)

commit 24f599662a78f8fa2902bfc61da049c495059a07
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Dec 9 11:04:10 2011 -0500

    Stop configure if there is no makeinfo
    
    	* m4/sxe-bldchain-progs.m4 (SXE_PROG_MAKEINFO): Detection of
    	makeinfo. Since autoconf will actually define one using missing,
    	we kinda need to execute --version to make sure it is actually
    	real.
    
    	* m4/sxe-bldchain-progs.m4 (SXE_CHECK_BUILDCHAIN): Add call to
    	SXE_PROG_MAKEINFO
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 m4/sxe-bldchain-progs.m4 |   20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit 8adeb697f3b0ebe9607ae192806f177ff0563e51
Merge: be8b389 47793f8
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Dec 7 09:02:21 2011 +1000

    Configure fix for Solaris
    
    * merges:
      Fix configure in solaris

commit 47793f846b8db7cba40b77255a567d4d1045ff25
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Dec 6 15:58:09 2011 -0500

    Fix configure in solaris
    
    	* m4/sxe-aux.m4 (SXE_CONSECUTIVE_UNDUP): Try use detected awk which will allow for better results. On solaris this should be either the xpg4 one, or gawk.
    
    	* m4/sxe-aux.m4 (SXE_UNDUP): Ditto
    
    	* m4/sxe-summary.m4 (SXE_SUMMARY): Ditto
    
    	* m4/sxe-crypto.m4 (SXE_OPENSSL_VERSION): Try to use detected grep which will allow for -q. On solaris this should be either gnu grep or the xpg4 one.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 m4/sxe-aux.m4     |    4 ++--
 m4/sxe-crypto.m4  |    2 +-
 m4/sxe-summary.m4 |    4 ++--
 3 files changed, 5 insertions(+), 5 deletions(-)

commit be8b389c8cbe5064416db7dbf10a7507ea7e8a7f
Merge: 2751571 0e75bdd
Author: Steve Youngs <steve@sxemacs.org>
Date:   Mon Dec 5 10:17:52 2011 +1000

    INSTALL/PROBLEMS updates
    
    * merges:
      Give a little more detail about crash reporting on MacOS X
      Add resolution to missing makeinfo while building
      Update link to mpc library. Warn of texinfo needed to build from git. Small typo fix

commit 0e75bdde09434633be49af8ef0439e21daed3584
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Dec 3 23:09:59 2011 -0500

    Give a little more detail about crash reporting on MacOS X
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 PROBLEMS |   26 ++++++++++++++++++++++++++
 1 file changed, 26 insertions(+)

commit 0a56048a061dd4db932a5957a1a04e61d6d96654
Merge: e0a3e60 2751571
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Dec 3 22:34:50 2011 -0500

    Merge branch 'master' of http://git.sxemacs.org/sxemacs

commit e0a3e603d6b466247abcde7ccb8cf0bf874a6252
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Dec 3 21:35:41 2011 -0500

    Add resolution to missing makeinfo while building
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 PROBLEMS |    6 ++++++
 1 file changed, 6 insertions(+)

commit b3e6f095343692a2d33e16044200fe00728611c2
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Dec 3 21:32:35 2011 -0500

    Update link to mpc library. Warn of texinfo needed to build from git. Small typo fix
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 INSTALL |   11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 2751571ba4796ec5ae3a5f5859797f945f7afc41
Merge: 895a069 9a417f0
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sun Dec 4 08:23:38 2011 +1000

    Fix mpc detection
    
    * merges:
      Fix detection and usage of mpc in newer versions (like mpc 0.9)

commit 9a417f025020ce650589bf52307fcb541ca0d42a
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Dec 3 03:02:40 2011 -0500

    Fix detection and usage of mpc in newer versions (like mpc 0.9)
    
    	* m4/sxe-maths.m4 (_SXE_CHECK_MPC): check for mpc_init and
    	mpc_set_ui_fr which were recently removed so that they can be
    	emulated for now. Also determine if mpc can be inited (and thus
    	used) by making sure one of mpc_init or mpc_init2 is available.
    
    	* m4/sxe-maths.m4 (SXE_CHECK_MPC_LIBS): check for mpc_init2 and
    	mpc_set_ui_fr too.
    
    	* src/ent/ent-mpc.h (bigc_init): conditional definition on whether
    	mpc_init or mpc_init2 is available.
    
    	* src/ent/ent-mpc.c: define mpc_set_ui_fr based on the MPC_SET_X_Y
    	macro if available. Abort compile if not available.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 m4/sxe-maths.m4   |   20 +++++++++++++++++---
 src/ent/ent-mpc.c |    9 +++++++++
 src/ent/ent-mpc.h |   13 ++++++++-----
 3 files changed, 34 insertions(+), 8 deletions(-)

commit 895a069e305ade7629878a6a319e9698122e3677
Merge: 96aa28b 9361b01
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Dec 3 10:33:27 2011 +1000

    Change mod/pkg load path (user dirs)
    
    * merges:
      Also make sxemacs packages of user home be looked up before xemacs ones, not just the system

commit 9361b0108fb09deccb7465abecf77de8fdeb2b15
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Dec 2 09:55:18 2011 -0500

    Also make sxemacs packages of user home be looked up before xemacs ones, not just the system
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 92cf6b023bd6235997b90132a23c8f0ea7572ee9
Merge: cccab85 96aa28b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Dec 2 09:49:18 2011 -0500

    Merge branch 'master' of http://git.sxemacs.org/sxemacs

commit 96aa28bb7d9ed2025da7b590fd75d35e077c0cad
Merge: 7dfc430 adb3969
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Dec 2 16:57:21 2011 +1000

    Change mod/pkg load path
    
    * merges:
      Revert order changer for module paths
      Enhance the module and package lookup paths

commit cccab8579521eeb4827c722fe519553f46f5811c
Merge: adb3969 7dfc430
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Dec 2 01:05:32 2011 -0500

    Merge branch 'master' of http://git.sxemacs.org/sxemacs

commit adb396952122956823c0174057de6d0bec646ab4
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Dec 2 01:04:33 2011 -0500

    Revert order changer for module paths
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b5fad6fc87fa10f81c06e175e447ff121192abf2
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Dec 1 22:06:31 2011 -0500

    Enhance the module and package lookup paths
    
    	* configure.ac: lookup sxemacs-<version>/<configuration> before sxemacs/<configuration> for modules
    	* configure.ac: looup sxemacs-packages before xemacs-packages
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 7dfc430dcb13c022150d4b232b2f3c481f9cd6ee
Merge: ce56b09 11c5dc0
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Dec 2 12:46:08 2011 +1000

    Configure summary clean up
    
    * merges:
      [ Replace this line with a one-line summary of the changes ]

commit 11c5dc03a87e1c501ac4d231aadb8792b2ce4150
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Dec 1 20:34:28 2011 -0500

    [ Replace this line with a one-line summary of the changes ]
    
    	* configure.ac: Properly quote eval so that ~ does not get expanded
    	* configure.ac: Remove double ':' on package path
    	* m4/sxe-summary.m4 (SXE_SUMMARY): Use awk instead of SED so that newlines are properly introduced in all cases
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac      |   30 +++++++++++++++---------------
 m4/sxe-summary.m4 |    4 ++--
 2 files changed, 17 insertions(+), 17 deletions(-)

commit ce56b09fdb7ed09c50cda9f602785d9bc439cf08
Merge: 1584a30 b556606
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Dec 2 08:16:00 2011 +1000

    Fix pdump on Mac OS Lion from Nelson
    
    * merges:
      Disable PIE in MacOS X Lion, thus pdump works again...
      Cosmetic fixes to the configuration summary (ie Installation)

commit b5566067355dbdabd4da4597c03e6a21ec262cb7
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Dec 1 12:37:29 2011 -0500

    Disable PIE in MacOS X Lion, thus pdump works again...
    
    	* configure.ac: If darwin linker supports -no_pie, add it
    	* m4/sxe-bldenv.m4 (SXE_LD_NO_PIE): New function to check if the
    	linker supports -no_pie.
    	* m4/sxe-compiler.m4 (SXE_CHECK_CC_CHAR): Invoke the linker check for -no_pie
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac       |   11 ++++++++++-
 m4/sxe-bldenv.m4   |   16 ++++++++++++++++
 m4/sxe-compiler.m4 |    2 ++
 3 files changed, 28 insertions(+), 1 deletion(-)

commit 61340e710adcb3682ffb5c8a9476115359d8e1d2
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Dec 1 11:10:21 2011 -0500

    Cosmetic fixes to the configuration summary (ie Installation)
    
    	* m4/sxe-summary.m4 (SXE_SUMMARY): Fix the Runtime behavior prefix output. Properly indent the search paths
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 m4/sxe-summary.m4 |   10 ++++------
 1 file changed, 4 insertions(+), 6 deletions(-)

commit 1584a30f1b9e21abe154e8143469da662b821e80
Merge: e00fd44 a41701f
Author: Steve Youngs <steve@sxemacs.org>
Date:   Thu Dec 1 23:28:40 2011 +1000

    configure cleanup from Nelson
    
    * merges:
      Deduplicate options to compiler and linker, as well as consecutive LIBS

commit a41701f91ef06d80e6d7c7e998f972610d10fc6c
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Dec 1 03:32:47 2011 -0500

    Deduplicate options to compiler and linker, as well as consecutive LIBS
    
    	* configure.ac: Use SXE_{APPEND,PREPEND}_UNDUP do add to c_switch_site and ld_switch_site
    	* configure.ac: Ditto for adding to c_switch_gtk
    	* configure.ac: Ditto for adding to X_CFLAGS
    	* configure.ac: Ditto for adding to MM_CFLAGS, MM_LDFLAGS and MM_CPPFLAGS
    
    	* configure.ac: Use SXE_CONSECUTIVE_UNDUP instead of SXE_SPACE to remove consecutive dups on libs_xauth
    	* configure.ac: Ditto for ld_libs_general, ld_libs_window_system and ld_libs_all
    
    	* configure.ac: Use SXE_UNDUP to remove dups from {c,ld}_switch_{general,window_system,all}
    
    	* configure.ac: Remove extra verbose output of the switches, since this was moved to sxe-summary.m4
    
    	* m4/sxe-summary.m4 (SXE_SUMMARY): Provide output of {c,ld}_switch_{general,window_system,all}
    	* m4/sxe-summary.m4 (SXE_SUMMARY): Don't use -e on echo, since not all shells honor it
    
    	* m4/sxe-bldenv.m4: Use SXE_{APPEND,PREPEND}_UNDUP do add to LD_FLAGS, CPPFLAGS, ld_switch_{run,system,site}
    	* m4/sxe-compiler.m4: Use SXE_{APPEND,PREPEND}_UNDUP do add to c_switch_{site,system}, CFLAGS
    	* m4/sxe-crypto.m4: Use SXE_{APPEND,PREPEND}_UNDUP do add to CPPFLAGS, LDFLAGS
    	* m4/sxe-libtool.m4: Use SXE_{APPEND,PREPEND}_UNDUP do add to LDFLAGS
    	* m4/sxe-mm.m4: Use SXE_{APPEND,PREPEND}_UNDUP do add to {c,ld}_switch_site
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 configure.ac       |   75 ++++++++++++++++++++++++----------------------------
 m4/sxe-aux.m4      |   43 +++++++++++++++++++++++++-----
 m4/sxe-bldenv.m4   |   24 ++++++++---------
 m4/sxe-compiler.m4 |   14 +++++-----
 m4/sxe-crypto.m4   |    8 +++---
 m4/sxe-libtool.m4  |    2 +-
 m4/sxe-mm.m4       |   14 +++++-----
 m4/sxe-summary.m4  |   21 ++++++++++++---
 8 files changed, 120 insertions(+), 81 deletions(-)

commit e00fd44315c1cb18cef6815d05135e86e64fea1b
Author: Steve Youngs <steve@sxemacs.org>
Date:   Mon Nov 28 13:03:43 2011 +1000

    typo fix
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/filelock.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a6c43f113a6323407b6786b98f867124515e7bf0
Merge: f4953fd 1553d36
Author: Steve Youngs <steve@sxemacs.org>
Date:   Mon Nov 28 12:51:50 2011 +1000

    Close EMchat bug #129
    
    * merges:
      Bug 129 - Bad conversion to snprintf

commit 1553d36581eeaaffda58879d436275eeffd28405
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Nov 27 21:28:18 2011 -0500

    Bug 129 - Bad conversion to snprintf
    
    	* src/filelock.c (lock_file): Compute size of malloc and use it assert
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/filelock.c |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit f4953fd83622491d51033313ed8994897945d6c0
Merge: 480635b b532632
Author: Steve Youngs <steve@sxemacs.org>
Date:   Mon Nov 28 07:07:16 2011 +1000

    Wand updates from Evgeny
    
    * merges:
      [add] command: M-x Wand-list-patterns RET

commit b53263234ad9a7afda9903d7f6abb574b7e390a1
Author: lg <lg@lg-desktop.(none)>
Date:   Sun Nov 27 22:00:52 2011 +0300

    [add] command: M-x Wand-list-patterns RET
    
    [add] command: M-x Wand-list-composite-ops RET
    
    [add] operation: preview-op, powerful shit to preview some operations
                     with different params
    
    [add] operation: posterize
    
    [add] operation: pattern
    
    [enh] Wand-redisplay: image-wand can be changed during operation
    
    [enh] make a use of (window-displayed-text-pixel-height)
    
    Signed-off-by: lg <lg@lg-desktop.(none)>

 lisp/ffi/ffi-wand.el |  244 ++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 235 insertions(+), 9 deletions(-)

commit 480635bb0a81c318441a027b677a644d9d999a7b
Merge: 1b783b1 5103210
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Nov 16 14:33:50 2011 +1000

    OpenSSL build fixes from Nelson
    
    * merges:
      Prevent inexistence of openssl ssl_verify_cert_chain from breaking the build

commit 510321099de1dcb49c5a67ad038138fbe202b73e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Nov 15 20:55:54 2011 -0500

    Prevent inexistence of openssl ssl_verify_cert_chain from breaking the build
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 m4/sxe-crypto.m4 |    3 +++
 src/openssl.c    |    4 ++++
 2 files changed, 7 insertions(+)

commit 1b783b1b86f76ccca65baf8225bbe8d8843eb996
Merge: 97aeaca d94adf5
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Nov 15 21:33:59 2011 +1000

    OpenSSL build fixes from Nelson
    
    * merges:
      Prevent inexistence of openssl server/client methods from breaking the build

commit d94adf5dd4f6118b163c1d23a232144c4a4292b8
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Nov 15 03:59:38 2011 -0500

    Prevent inexistence of openssl server/client methods from breaking the build
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 m4/sxe-crypto.m4 |   24 +++++++++++++++++++
 src/openssl.c    |   68 +++++++++++++++++++++++++++++++++++++++++++-----------
 2 files changed, 78 insertions(+), 14 deletions(-)

commit 97aeaca3773f1b6f5c7fbc5bba579fb67c0d0986
Merge: cec40b5 caeea04
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Nov 11 11:36:47 2011 +1000

    Add prompt stack for recursive minibuffer
    
    * merges:
      [add] minibuffer prompt stack for use with recursive minibuffers

commit c3012f3f60cf6640fb8d2966d57607a91b5061ae
Merge: 2c53c2f 97aeaca
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Nov 10 17:54:04 2011 -0500

    Merge branch 'master' of http://git.sxemacs.org/sxemacs

commit caeea04d4b205b48d657174cdd2dadae2fe19720
Author: Zajcev Evgeny <zevlg@yandex.ru>
Date:   Thu Nov 10 13:57:11 2011 +0300

    [add] minibuffer prompt stack for use with recursive minibuffers
    
    Signed-off-by: Zajcev Evgeny <zevlg@yandex.ru>

 lisp/minibuf.el |   23 +++++++++++++++++++----
 1 file changed, 19 insertions(+), 4 deletions(-)

commit 2c53c2f603e508450bd9de5b8a2b600c30a896eb
Merge: 62d51b6 cec40b5
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Nov 4 00:14:36 2011 -0400

    Merge branch 'master' of http://git.sxemacs.org/sxemacs

commit cec40b51ecfa8c3420d9c437e7f386abd9042c39
Merge: c962a66 1f593aa
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Oct 25 10:11:33 2011 +1000

    Merge branch 'emailed-patches'

commit 1f593aab5d4871218bae49ec34ab98945423e232
Author: JD Horelick <jdhore1@gmail.com>
Date:   Mon Oct 24 06:16:12 2011 -0400

    Fix compilation when MULE is disabled, due to a missing ifdef.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/chartab.c |    2 ++
 1 file changed, 2 insertions(+)

commit 62d51b6efa73cfab1ae7d34527a530d2e227b03a
Merge: bc778a0 c962a66
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Oct 19 11:45:36 2011 -0400

    Merge branch 'master' of http://git.sxemacs.org/sxemacs

commit c962a66db0e36c7c0e385fcf9cdff1dc4d7754d2
Merge: fe18565 bba1659
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Oct 12 10:21:12 2011 +1000

    Coverity fixes from Nelson
    
    * merges:
      Remove unused variable
      Fix compile of previous commit
      Coverity fix CID:92 NEGATIVE_RETURNS
      Coverity fix. CID:135 NULL_RETURNS
      More binary files...
      Coverity fix CID:202 REVERSE_INULL
      Coverity fix CI:203 REVERSE_INULL
      Coverity fixes CID:45 FORWARD_NULL

commit bc778a053f11584b6fafc4cd322d00d59611f44e
Merge: bba1659 fe18565
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Oct 11 17:19:36 2011 -0400

    Merge branch 'master' of http://git.sxemacs.org/sxemacs

commit bba1659d8c31de192b8705516ee6b638af1e501b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Oct 10 21:29:16 2011 -0400

    Remove unused variable
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/movemail.c |    1 -
 1 file changed, 1 deletion(-)

commit 3ec33f231ece7013a0281253a2c1701c3e8826f0
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Oct 10 21:28:41 2011 -0400

    Fix compile of previous commit
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/event-Xt.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9e3717a56c8105d1baafbecfd382cb23368b33b9
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Oct 10 21:14:35 2011 -0400

    Coverity fix CID:92 NEGATIVE_RETURNS
    
    	* lib-src/movemail.c (main): Make sure read was successful before
    	trying to write..
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/movemail.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 0ab9fcceed4677e7d1c856ce7b85702a6a9a43f4
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Oct 10 20:36:35 2011 -0400

    Coverity fix. CID:135 NULL_RETURNS
    
    	* src/ui/X11/event-Xt.c (x_to_emacs_keysym): make fure there is a
    	frame before dereferencing to get the XIC.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/event-Xt.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit b45588282b1fd8cd908a237d5a9e43f225ae2807
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Oct 10 20:29:54 2011 -0400

    More binary files...
    
    	* lisp/files.el (binary-file-regexps): Following the lead from a
    	recent XEmacs commit, enhance the list of known binary files.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lisp/files.el |   37 +++++++++++++++++++------------------
 1 file changed, 19 insertions(+), 18 deletions(-)

commit 546b20979094ed423312c678456b36019f2f81b7
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Oct 10 19:56:12 2011 -0400

    Coverity fix CID:202 REVERSE_INULL
    
    	* src/mem/ralloc.c (update_heap_bloc_correspondence): Make sure heap is not NULL before dereference
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mem/ralloc.c |   25 ++++++++++++++++---------
 1 file changed, 16 insertions(+), 9 deletions(-)

commit fe185652dbb2b6009c685ead0030a35d236dcae5
Merge: 9983c00 4f191f3
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Oct 11 09:51:20 2011 +1000

    Coverity fixes from Nelson
    
    * merges:
      Coverity fix: CID 121 NEGATIVE_RETURNS
      Coverity fix: CID:126 NEGATIVE_RETURNS
      Fix solaris crash
      Coverity fix: USE_AFTER_FREE CID:438

commit 3f835191903908f415451438c2250c42e0d6c3e8
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Oct 10 19:51:13 2011 -0400

    Coverity fix CI:203 REVERSE_INULL
    
    	* src/doprnt.c (get_doprnt_args): avoid derefence a NULL specs
    	(emacs_doprnt_1): ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/doprnt.c |   12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 92c0d21ac2e5a211ce557471a13b7b9a4c171ebf
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Oct 10 19:42:58 2011 -0400

    Coverity fixes CID:45 FORWARD_NULL
    
    	* src/dired.c (dfr_inner): Make sure bufp is not NULL before
    	calling pathname_matches_p
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/dired.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4f191f3275dbe870320198086d40ea147669f809
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Oct 10 14:16:49 2011 -0400

    Coverity fix: CID 121 NEGATIVE_RETURNS
    
    	* src/ui/TTY/objects-tty.c (tty_font_spec_matches_charset): make
    	sure length is updated by fixup_internal_substring.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/TTY/objects-tty.c |    1 +
 1 file changed, 1 insertion(+)

commit 3e06e26dd0b7fa065ae192010120289323ba33b6
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Oct 10 14:15:09 2011 -0400

    Coverity fix: CID:126 NEGATIVE_RETURNS
    
    	* src/ui/X11/objects-x.c (x_font_spec_matches_charset): make sure
    	that fixup_internal_substring updated the_length.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/objects-x.c |    1 +
 1 file changed, 1 insertion(+)

commit b97fa32b78c34f2fced22904e55bd92fa8b39379
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Oct 10 11:31:45 2011 -0400

    Fix solaris crash
    
    	* src/ent/ent-float.c (vars_of_ent_float): Make sure to use a
    	buffer since some implementations of snprintf will refuse a NULL
    	buffer and not return the characters that would be written.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ent/ent-float.c |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 601f92b982c4feac6a829e1d3078f0d9c3b9cc18
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Oct 10 09:51:43 2011 -0400

    Coverity fix: USE_AFTER_FREE CID:438
    
    	* src/sysdep.c (sys_fclose): loop with close on fd, not fclose
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/sysdep.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 9983c0027c90626c03dfe64b19f5205c1774af29
Merge: 6e00044 cb837c1
Author: Steve Youngs <steve@sxemacs.org>
Date:   Mon Oct 10 13:42:29 2011 +1000

    Coverity inspired security fixes from Nelson
    
    * merges:
      SECURE_CODING: Use snprintf/write_fmt_str instead of sprintf

commit cb837c1cca8929b343e620e362060a96743d550f
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 9 22:56:14 2011 -0400

    SECURE_CODING: Use snprintf/write_fmt_str instead of sprintf
    
    	* etc/tests/external-widget/test-ew-motif.c (ScaleValueChangedCB):
    	Use snprintf instead of sprintf.
    	* etc/tests/external-widget/test-ew-motif.c (main): ditto.
    	* etc/tests/external-widget/test-ew-motif.c (main): ditto.
    	* etc/tests/external-widget/test-ew-xlib.c (draw_text): ditto
    	* lib-src/gnuclient.c (tell_emacs_to_resume): ditto.
    	* lib-src/gnuclient.c (main): ditto.
    	* lib-src/gnuserv.c (ipc_init): ditto.
    	* lib-src/gnuserv.c (unix_init): ditto.
    	* lib-src/gnuslib.c (connect_to_ipc_server): ditto.
    	* lib-src/gnuslib.c (connect_to_unix_server): ditto.
    	* lib-src/make-po.c (buf_print): ditto.
    	* lib-src/movemail.c (lock_dot): ditto.
    	* lib-src/pop.c (pop_open): ditto.
    	* lib-src/profile.c (get_time): ditto.
    	* lib-src/yow.c (main): ditto.
    	* src/bytecode.c (invalid_byte_code_error): ditto.
    	* src/extents.c (print_extent_1): ditto.
    	* src/m/cydra5.h (PTY_NAME_SPRINTF): ditto.
    	* src/m/cydra5.h (PTY_TTY_NAME_SPRINTF): ditto.
    	* src/media/media-ffmpeg.c (media_ffmpeg_streaminfo): ditto.
    	* src/media/sound-hpplay.c (player_error_internal): ditto.
    	* src/media/sound-sunplay.c (init_device): ditto.
    	* src/media/sound-sunplay.c (play_sound_file): ditto.
    	* src/media/sound-sunplay.c (play_sound_data): ditto.
    	* src/media/sound-sunplay.c (sound_native_audio_init): ditto.
    	* src/process.c (make_process_internal): ditto.
    	* src/ui/Gtk/menubar-gtk.c (menu_descriptor_to_widget_1): ditto.
    
    	* src/print.c: fix comment
    
    	* modules/ase/ase-resclass.h (resc_rng_to_string): check return of
    	snprintf.
    	* modules/ase/ase-resclass.c (_ase_resc_rng_to_string): ditto.
    	* modules/ase/ase-resclass.c (_ase_resc_elm_to_string): ditto.
    	* src/media/sound-jack.c (sound_jack_subthread_create): ditto.
    
    	* src/effi.c (WRITE_FMT_STRING): new macro to use
    	write_fmt_string.
    
    	* src/lisp.h (PRIVATE_EXTERNAL_LIST_LOOP_6): Finally fix the
    	computed value not used warning.
    
    	* src/events/events.c (print_event): remove unneeded buf
    
    	* modules/ase/ase-cartesian.c (ase_cartesian_prnt): Use
    	write_fmt_str instead of sprintf.
    	* modules/ase/ase-heap.c (ase_yheap_prnt): ditto.
    	* modules/ase/ase-heap.c (ase_dheap_prnt): ditto.
    	* modules/ase/ase-heap.c (ase_wheap_prnt): ditto.
    	* modules/ase/ase-metric.c (ase_metric_prnt): ditto.
    	* modules/ase/ase-permutation.c (_ase_permutation_prnt_cyc): ditto.
    	* src/bytecode.c (print_compiled_function): ditto.
    	* src/chartab.c (print_chartab_two_byte_charset): ditto.
    	* src/chartab.c (print_char_table): ditto.
    	* src/database/database.c (print_database): ditto.
    	* src/database/eldap.c (print_ldap): ditto.
    	* src/database/postgresql.c (print_pgconn): ditto.
    	* src/database/postgresql.c (print_pgresult): ditto.
    	* src/effi.c (print_ffiobject): ditto.
    	* src/effi.c (print_ffi_job): ditto.
    	* src/emacs.c (fatal_error_signal): ditto.
    	* src/extents.c (print_extent_1): ditto.
    	* src/extents.c (print_extent): ditto.
    	* src/media/media.c (media_substream_print_audio): ditto.
    	* src/media/media.c (media_substream_print_video): ditto.
    	* src/media/sound-alsa.c (sound_alsa_print): ditto.
    	* src/media/sound-pulse.c (sound_pulse_print): ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 etc/tests/external-widget/test-ew-motif.c |   10 +++--
 etc/tests/external-widget/test-ew-xlib.c  |   23 +++++-----
 lib-src/gnuclient.c                       |   67 ++++++++++++++++++-----------
 lib-src/gnuserv.c                         |   13 ++++--
 lib-src/gnuslib.c                         |   12 ++++--
 lib-src/make-po.c                         |    7 +--
 lib-src/movemail.c                        |   12 ++++--
 lib-src/pop.c                             |   24 ++++++++---
 lib-src/profile.c                         |   11 +++--
 lib-src/yow.c                             |    7 +--
 modules/ase/ase-cartesian.c               |    8 +---
 modules/ase/ase-heap.c                    |   19 +++-----
 modules/ase/ase-metric.c                  |   10 ++---
 modules/ase/ase-permutation.c             |   13 ++----
 modules/ase/ase-resclass.c                |   14 +++---
 modules/ase/ase-resclass.h                |    4 +-
 src/bytecode.c                            |   15 +++----
 src/chartab.c                             |   11 ++---
 src/database/database.c                   |   17 ++++----
 src/database/eldap.c                      |    3 +-
 src/database/postgresql.c                 |   37 ++++++++--------
 src/effi.c                                |   21 +++++----
 src/emacs.c                               |   12 ++++--
 src/events/events.c                       |    1 -
 src/extents.c                             |   24 +++++------
 src/lisp.h                                |   22 +++++-----
 src/m/cydra5.h                            |    4 +-
 src/media/media-ffmpeg.c                  |    3 +-
 src/media/media.c                         |   63 ++++++++++-----------------
 src/media/sound-alsa.c                    |   12 ++----
 src/media/sound-hpplay.c                  |    4 +-
 src/media/sound-jack.c                    |    3 +-
 src/media/sound-pulse.c                   |   14 ++----
 src/media/sound-sunplay.c                 |   24 +++++++----
 src/print.c                               |    2 +-
 src/process.c                             |    6 ++-
 src/ui/Gtk/menubar-gtk.c                  |   23 +++++-----
 37 files changed, 294 insertions(+), 281 deletions(-)

commit 6e00044928aea1f4f4002e72cf60de246c996f16
Merge: b282c93 dab31a7
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Oct 4 15:56:10 2011 +1000

    Coverity inspired security fixes from Nelson
    
    * merges:
      Quick typo fix (missing semi-colon)
      Security fixes

commit dab31a7d58f5bf610f4cbcf0fe67d939e2778224
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Oct 4 15:55:35 2011 +1000

    Quick typo fix (missing semi-colon)
    
    	* src/filelock.c (lock_file_1): Add missing semi-colon.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/filelock.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 44455d60f0e281703fc03c79138c85fe295d878e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Oct 4 01:16:11 2011 -0400

    Security fixes
    
    	* src/alloc.c (garbage-collect): check return of snprintf
    	* src/doprnt.c (emacs_doprnt_smZ): ditto
    	* src/dumper.c (pdump_file_try): ditto
    	* src/dumper.c (pdump_load): ditto
    	* src/editfns.c (Fencode_time): ditto
    	* src/editfns.c (Fencode_btime): ditto
    	* src/editfns.c (current_time_zone): ditto
    	* src/ent/ent-float.c (vars_of_ent_float): ditto
    	* src/filelock.c (lock_file_1): ditto
    	* src/media/sound-arts.c (sound_arts_play): ditto
    	* src/mule/mule-ccl.c (ccl_driver): ditto
    	* src/opaque.c (print_opaque_ptr): ditto
    	* src/strftime.c (add_num_time_t): ditto
    
    	* src/casetab.c (print_case_table): use write_fmt_str instead of sprintf
    	* src/elhash.c (print_hash_table): ditto
    	* src/events/event-stream.c (print_timeout): ditto
    	* src/events/events.c (print_event): ditto
    	* src/media/sound-nas.c (sound_nas_print): ditto
    	* src/media/sound.c (print_audio_job): ditto
    	* src/opaque.c (print_opaque): ditto
    	* src/openssl.c (print_evp_pkey): ditto
    	* src/symbols.c (print_symbol_value_magic): ditto
    
    	* src/filelock.c (lock_file): Use snprintf instead of sprintf
    	* src/libsst.c (sst_set_ger): ditto
    	* src/libsst.c (sst_set_gr): ditto
    	* src/libsst.c (sst_set_gx): ditto
    	* src/libsst.c (sst_tones): ditto
    	* src/libsst.c (sst_dmtf): ditto
    	* src/print.c (float_to_string): ditto
    	* src/process-unix.c (allocate_pty_the_old_fashioned_way): ditto
    	* src/process-unix.c (unix_open_network_stream): ditto
    	* src/s/hpux.h (PTY_TTY_NAME_SPRINTF): ditto
    	* src/s/rtu.h (PTY_TTY_NAME_SPRINTF): ditto
    	* src/s/sco4.h (PTY_TTY_NAME_SPRINTF): ditto
    	* src/s/sco5.h (PTY_TTY_NAME_SPRINTF): ditto
    
    	* src/data.c (Fnumber_to_string): correct arguments to new buffer
    	size aware float_to_string and long_to_string
    
    	* src/doprnt.c (emacs_doprnt_number): correct arguments to new
    	buffer size aware long_to_string
    	* src/print.c (print_internal): ditto
    	* src/ui/redisplay.c (window_line_number): ditto
    	* src/ui/redisplay.c (decode_mode_spec): ditto
    
    	* src/ent/ent-float.c (print_float):  correct arguments to new
    	buffer size aware float_to_string
    
    	* src/ent/ent-float.h: define new argument for float_to_string
    	* src/lisp.h: define new argument for long_to_string
    
    	* src/emacs.c (assert_failed): flush stderr to make sure assertion is written.
    
    	* src/print.c (float_to_string): rewrite so that it knows size and
    	does not overflow buf. Also uses snprintf instead of sprintf
    
    	* src/print.c (long_to_string): ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/alloc.c               |   20 +++++++++++++-------
 src/casetab.c             |    5 +----
 src/data.c                |    4 ++--
 src/doprnt.c              |   19 ++++++++++++++-----
 src/dumper.c              |   22 ++++++++++++----------
 src/editfns.c             |   20 ++++++++++++--------
 src/elhash.c              |   31 +++++++++++++-----------------
 src/emacs.c               |    1 +
 src/ent/ent-float.c       |    8 +++++---
 src/ent/ent-float.h       |    2 +-
 src/ent/ent-gmp.c         |   13 -------------
 src/events/event-stream.c |    7 ++-----
 src/events/events.c       |    5 ++---
 src/filelock.c            |   18 ++++++++++++------
 src/libsst.c              |   46 +++++++++++++++++++++++++++++----------------
 src/lisp.h                |    2 +-
 src/media/sound-arts.c    |    5 +++--
 src/media/sound-nas.c     |    7 ++-----
 src/media/sound.c         |    6 +-----
 src/mule/mule-ccl.c       |   22 +++++++++++++---------
 src/opaque.c              |   18 +++++++-----------
 src/openssl.c             |    4 +---
 src/print.c               |   44 +++++++++++++++++++++++++++++--------------
 src/process-unix.c        |   23 +++++++++++++++--------
 src/s/hpux.h              |   18 ++++++++++++++----
 src/s/rtu.h               |   16 ++++++++++++----
 src/s/sco4.h              |   17 +++++++++++++----
 src/s/sco5.h              |   20 +++++++++++++++-----
 src/strftime.c            |    3 ++-
 src/symbols.c             |    8 +++-----
 src/ui/redisplay.c        |    4 ++--
 31 files changed, 254 insertions(+), 184 deletions(-)

commit b282c934958783ec39f9e021bd480e3279ad5a2f
Merge: d28db7f 1473f11
Author: Steve Youngs <steve@sxemacs.org>
Date:   Mon Oct 3 12:01:04 2011 +1000

    Coverity fixes from Nelson
    
    * merges: (27 commits)
      Coverity fixes. Replace UNUSED with SXE_UNUSED since some system includes (like sox.h) define it in an incompatible fashion
      Coverity fixes
      [ Replace this line with a one-line summary of the changes ]
      Coverity fixes
      Coverity fixes
      Coverity fixes
      Coverity fixes
      Coverity changes
      Coverity fixes
      Coverity fixes
      Coverity fixes
      Coverity fixes
      Coverity fixes
      Coverity fixes
      Coverity fixes
      Coverity fixes
      Coverity fixes
      Coverity fixes
      Coverity fixes
      Coverity fixes.
      ...

commit 1473f115161aae88ea13df5f07ab4dbd3a8fea47
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 19:14:00 2011 -0400

    Coverity fixes. Replace UNUSED with SXE_UNUSED since some system includes (like sox.h) define it in an incompatible fashion
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 modules/ase/ase-digraph.c     |    4 ++--
 modules/ase/ase-heap.c        |   16 ++++++-------
 modules/ase/ase-permutation.c |    2 +-
 modules/ase/ase-resclass.c    |    6 ++---
 modules/ase/ase.h             |    8 +++----
 modules/cl/cl-loop.c          |    6 ++---
 modules/cl/cl.h               |    8 +++----
 src/alloc.c                   |   50 +++++++++++++++++++--------------------
 src/bloom.c                   |    2 +-
 src/dllist.c                  |    4 ++--
 src/doprnt.c                  |    4 ++--
 src/effi.c                    |    2 +-
 src/emodules-ng.c             |    2 +-
 src/ent/ent-float.c           |    6 ++---
 src/ent/ent-gaussian.c        |    6 ++---
 src/ent/ent-gmp.c             |   46 ++++++++++++++++++------------------
 src/ent/ent-indef.c           |    8 +++----
 src/ent/ent-int.c             |    4 ++--
 src/ent/ent-lift.c            |    4 ++--
 src/ent/ent-lift.h            |    4 ++--
 src/ent/ent-mpc.c             |   12 +++++-----
 src/ent/ent-mpfr.c            |    8 +++----
 src/ent/ent-pseumpc.c         |   10 ++++----
 src/ent/ent-quatern.c         |   12 +++++-----
 src/events/event-stream.c     |    2 ++
 src/events/workers.c          |    6 ++---
 src/extents.c                 |    4 ++--
 src/lstream.c                 |    2 +-
 src/map.c                     |   52 ++++++++++++++++++++---------------------
 src/media/media-internal.c    |    4 ++--
 src/media/media-sox.h         |    3 ++-
 src/media/sound.c             |    4 ++--
 src/media/sound.h             |    2 +-
 src/mem/blocktype.c           |    2 +-
 src/skiplist.c                |    2 +-
 src/sxe-utils.h               |   12 ++++++----
 src/ui/TTY/event-tty.c        |    2 +-
 src/ui/TTY/redisplay-tty.c    |    4 ++--
 src/ui/X11/device-x.c         |    2 +-
 src/ui/X11/event-Xt.c         |    6 ++---
 src/ui/keymap.c               |    4 ++--
 41 files changed, 177 insertions(+), 170 deletions(-)

commit 0a2603e5c40f9a6e309d9698b17cb35481bccac0
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 17:26:45 2011 -0400

    Coverity fixes
    
    	* src/lisp.h (PRIVATE_EXTERNAL_LIST_LOOP_6): silence value
    	computed not used warning.
    	* src/lisp.h: add prototypes for write_hex_ptr, write_fmt_str and
    	write_fmt_sting.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/lisp.h |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 7d4418caa5a2ceec10bc8866ba49f6486ad0f2c1
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 17:23:23 2011 -0400

    [ Replace this line with a one-line summary of the changes ]
    
    	* src/emodules-ng.c (__emodng_find): only get module info if on debug mode
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/emodules-ng.c |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit aaf0744b562035565f56a421683cc57fe8a61939
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 17:22:10 2011 -0400

    Coverity fixes
    
    	* src/doc.c (unparesseuxify_doc_string): decrease stack usage
    	* src/doc.c (Fsnarf_documentation): check return of snprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/doc.c |   14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit a1990b58f16693a5264c4c76a3c50ab76ec8f8fe
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 17:20:05 2011 -0400

    Coverity fixes
    
    	* src/ui/X11/frame-x.c (color_to_string): use snprintf instead of sprintf
    	* src/ui/X11/frame-x.c (x_set_initial_frame_size): ditto.
    	* src/ui/X11/frame-x.c (Fx_window_id): ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/frame-x.c |   31 +++++++++++++++++++------------
 1 file changed, 19 insertions(+), 12 deletions(-)

commit 93d5585b3d51fe5bfb1e59450ee4932eba303327
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 17:18:08 2011 -0400

    Coverity fixes
    
    	* src/ui/X11/event-Xt.c (x_keysym_to_emacs_keysym): check result of snprintf
    	* src/ui/X11/event-Xt.c (describe_event_window): ditto.
    	* src/ui/X11/event-Xt.c (describe_event): ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/event-Xt.c |   20 ++++++++++++--------
 1 file changed, 12 insertions(+), 8 deletions(-)

commit 9141c5c50183f4d6f2d70e763218a016a475cbe0
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 17:16:05 2011 -0400

    Coverity fixes
    
    	* src/ui/X11/dialog-x.c (dbox_descriptor_to_widget_value): use snprintf instead of sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/dialog-x.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit ae902379b2faac884803a2dcfd0dcf7a08847d78
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 17:15:03 2011 -0400

    Coverity changes
    
    	* src/ui/TTY/terminfo.c (emacs_tparam): use strncpy instead of strcpy
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/TTY/terminfo.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 77ba997b77d8d2f84cb2dedf016c1647f8854a8f
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 17:14:11 2011 -0400

    Coverity fixes
    
    	* src/ui/TTY/redisplay-tty.c (term_get_fkeys_1): check return of snprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/TTY/redisplay-tty.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a57c5abdde2eab0ac2d2d9db211bbe274b7be6f1
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 17:12:59 2011 -0400

    Coverity fixes
    
    	* src/ui/X11/objects-x.c (x_print_color_instance): use write_fmt_str instead of snprintf
    	* src/ui/X11/objects-x.c (x_print_font_instance): ditto
    	* src/ui/X11/objects-x.c (truename_via_random_props): check result
    	of snprintf and remove not needed finalizer from strncpy.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/objects-x.c |   22 +++++++++-------------
 1 file changed, 9 insertions(+), 13 deletions(-)

commit 6643fab15c4a2ca2682a7c7b1401ece15bd0a6a2
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 17:10:09 2011 -0400

    Coverity fixes
    
    	* src/ui/TTY/objects-tty.c (Ffind_tty_color): check return of snprintf
    	* src/ui/TTY/objects-tty.c (Ftty_registered_color_list): ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/TTY/objects-tty.c |   14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit a6f9b92f9dac20836ebbacedaae254fea64e63fd
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 17:08:56 2011 -0400

    Coverity fixes
    
    	* src/ui/TTY/gpmevent.c (Fgpm_enabled_p): check return of snprintf
    	* src/ui/TTY/gpmevent.c (Fgpm_enable): ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/TTY/gpmevent.c |   15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

commit 2b62e7cf259fc14c9fc3080936e1d3b50f8e85ff
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 17:06:55 2011 -0400

    Coverity fixes
    
    	* src/ui/Gtk/ui-gtk.c (ffi_object_printer): use write_fmt_str
    	instead of sprintf.
    
    	* src/ui/Gtk/ui-gtk.c (emacs_gtk_object_printer): ditto.
    
    	* src/ui/Gtk/ui-gtk.c (object_getprop): use write fmt_string instead of sprintf.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/Gtk/ui-gtk.c |   27 ++++++++-------------------
 1 file changed, 8 insertions(+), 19 deletions(-)

commit 188f2dd925d79b0a32772759dd0d59de02f6b076
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 17:04:49 2011 -0400

    Coverity fixes
    
    	* src/ui/Gtk/objects-gtk.c (gtk_print_color_instance): use
    	write_fmt_str instead of sprintf.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/Gtk/objects-gtk.c |   12 ++++--------
 1 file changed, 4 insertions(+), 8 deletions(-)

commit 54a1a690905c2b77085c2f4a297ae178dc8738d9
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 17:03:44 2011 -0400

    Coverity fixes
    
    	* src/ui/Gtk/gtk-xemacs.c (xemacs_gtk_convert_color): use snprint
    	instead of sprintf.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/Gtk/gtk-xemacs.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit cef7318363af827ef1be8a8c145ae0a53e23bf68
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 17:02:29 2011 -0400

    Coverity fixes
    
    	* src/ui/Gtk/glyphs-gtk.c (gtk_print_image_instance): use write_fmt_str instead of sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/Gtk/glyphs-gtk.c |   26 +++++++++++++-------------
 1 file changed, 13 insertions(+), 13 deletions(-)

commit 50c4498ef55e89d4848d39abd7dfed496d0cda36
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 15:32:52 2011 -0400

    Coverity fixes
    
    	* src/ui/X11/xmu.c (XmuPrintDefaultErrorMessage): use snprint
    	instead of sprintf and strncpy instead of strcpy
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/xmu.c |   29 ++++++++++++++++++-----------
 1 file changed, 18 insertions(+), 11 deletions(-)

commit 3d8307c03f667e95aaea2e72ca3c3379e729e1bb
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 15:16:45 2011 -0400

    Coverity fixes
    
    	* src/ui/X11/ExternalShell.c (GetGeometry): use snprintf instead sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/ExternalShell.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit bfdfd5d2040348d851c82fc9e268e8f022bdbd4d
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 15:15:26 2011 -0400

    Coverity fixes
    
    	* src/ui/Gtk/frame-gtk.c (Fgtk_window_id): use snprintf instead of sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/Gtk/frame-gtk.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit ce323dfe4b5df433fd32ad55cb1b5635d2707561
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 15:14:01 2011 -0400

    Coverity fixes.
    
    	* src/ui/Gtk/event-gtk.c (gtk_keysym_to_emacs_keysym): use snprintf instead of sprintf.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/Gtk/event-gtk.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit bd67478c0d4409301a2dbabf89265ae689757d3b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 15:12:46 2011 -0400

    Coverity fixes
    
    	* src/rangetab.c (print_range_table): use write_fmt_str instead of sprintf.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/rangetab.c |    9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 1edd2621051b69b05d9c8b8224b53f067f09b5b5
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 15:11:19 2011 -0400

    Coverity fixes
    
    	* src/mule/mule-charset.c (print_charset): use
    	write_fmt_str/write_fmt_string instead of sprintf.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mule/mule-charset.c |   19 ++++++++-----------
 1 file changed, 8 insertions(+), 11 deletions(-)

commit 92a8c7ec3f6f8f007dce5e156ebeab5fbed5ba7d
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 15:07:04 2011 -0400

    Coverity
    
    	* src/ui/glyphs-eimage.c: always use safer vsnprintf.
    	* src/ui/glyphs-eimage.c (tiff_error_func): always use safer vsnprintf.
    	* src/ui/glyphs-eimage.c (tiff_warning_func): ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/glyphs-eimage.c |   28 +++++++++-------------------
 1 file changed, 9 insertions(+), 19 deletions(-)

commit 9ef59d8f22f9f07e22661f2494a5990e517963bb
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 14:54:22 2011 -0400

    Coverity fixes
    
    	* src/mule/input-method-xlib.c (EmacsXtCvtStringToXIMStyles): use
    	snprintf instead of sprintf.
    
    	* src/mule/input-method-xlib.c (describe_Window): ditto. Also
    	check for the result of the system syscall.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mule/input-method-xlib.c |   21 +++++++++++++++------
 1 file changed, 15 insertions(+), 6 deletions(-)

commit e1e8c5c2108bf008ed7635c84ccfdf278f927f42
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 14:51:35 2011 -0400

    Coverity fixes
    
    	* src/md5.c (Fmd5): use snprintf instead of sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/md5.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 254cbaa152249fe8f9860d597c2852d6d5498895
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Oct 2 14:48:45 2011 -0400

    Coverity fixes
    
    	* src/search.c (compre_prfun): Use write_fmt_str instead of snprintf
    	* src/search.c (fast_string_match): safeguard alloca from being
    	used with a negative length.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/search.c |   17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit e6bc33a73872ed415bea0963e51138c14a19b110
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Oct 1 21:06:36 2011 -0400

    Coverity fixes
    
    	* src/ui/glyphs.c (print_image_instance): Use write_fmt_str instead of sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/glyphs.c |   44 +++++++++++++++-----------------------------
 1 file changed, 15 insertions(+), 29 deletions(-)

commit d28db7f744455e7e376e2b7737e0f804456a686d
Merge: 4730bfd e8f5830
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Oct 1 11:00:51 2011 +1000

    Coverity fixes from Nelson
    
    * merges: (43 commits)
      Coverity fixes
      Security fixes.
      CID:295 SECURE_CODING
      Security fixes
      Coverity fixes
      Coverity fixes
      Coverity fixes.
      Coverity fixes
      Coverity fixes. SECURE_CODING CI:302,301
      Coverity fixes CID:330
      Coverity fixes. SECURE_CODING CID:329
      Coverity fixes. SECURE_CODING CID:339,338,337
      CID:327 SECURE_CODING
      Coverity fixes
      Coverity fixes
      Coverity fixes
      Secure coding
      CID:428 UNUSED_VALUE
      CID:294 SECURE_CODING
      CID:291 SECURE_CODING
      ...

commit e8f583098a2cc95cc37a07624eade7f79051f32f
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 20:15:32 2011 -0400

    Coverity fixes
    
    	* src/dired.c (dired_realpath): free the buffer if realpath fails. RESOURCE_LEAK
    	* src/dired.c (dfr_inner): only consider the canonname as fullname
    	if it could resolve the canonical name CID:205 REVERSE_INULL
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/dired.c |   29 +++++++++++++++++------------
 1 file changed, 17 insertions(+), 12 deletions(-)

commit 99b5f8fa81a70785930684f61d4effcfb8e878b2
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 20:03:12 2011 -0400

    Security fixes.
    
    	* src/ui/X11/device-x.c (read_locale_specific_resources): check
    	snprintf results and use sizeof instead of countof since we are
    	talking about chars...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/device-x.c |   41 +++++++++++++++++++++++++++--------------
 1 file changed, 27 insertions(+), 14 deletions(-)

commit 25f4f87b5ce9dd4d06db1a4e1c83b55c890f34d6
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 19:54:51 2011 -0400

    CID:295 SECURE_CODING
    
    	* src/marker.c (print_marker): use write_fmt_str instead of sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/marker.c |    8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit 6ca14c9da7542d947768d191f023e3c83d5dbfc5
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 19:53:18 2011 -0400

    Security fixes
    
    	* src/sheap.c (report_sheap_usage): use snprintf instead of sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/sheap.c |   14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit efef848e8f128e7f1c348c1d2be9a81326e95f1d
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 19:51:57 2011 -0400

    Coverity fixes
    
    	* src/effi.c: include sysdep.h for the async_timeout prototypes
    	* src/effi.c (Fffi_load_library): use strncpy and strncat instead of strcpy/strcat
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/effi.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 5bd8af857e052f62eee2763f5d369d47b6ac4220
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 19:47:55 2011 -0400

    Coverity fixes
    
    	* src/ui/keymap.c (print_keymap): use write_fmt_str instead of sprintf.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/keymap.c |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 2392906b807ae7e7a98f02a843993b4d5a2c4c7f
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 19:46:22 2011 -0400

    Coverity fixes.
    
    	* src/ui/X11/menubar-x.c
    	(command_builder_operate_menu_accelerator): use write_fmt_str
    	instead of sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/menubar-x.c |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 2f736345ae648bb1d2d13443c99da10816db7d61
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 19:44:33 2011 -0400

    Coverity fixes
    
    	* src/skiplist.c (print_skiplist): use write_fmt_str instead of snprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/skiplist.c |   12 +++---------
 1 file changed, 3 insertions(+), 9 deletions(-)

commit 48e4e38395f984711bcefd2de2caa063ca923128
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 19:42:04 2011 -0400

    Coverity fixes. SECURE_CODING CI:302,301
    
    	* src/objects.c (print_color_instance): use write_fmt_str instead of sprintf
    	* src/objects.c (print_fonr_instance): use write_fmt_str instead of sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/objects.c |    8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit 145a7e2b73a1f6930793b453792fbb6a7937e10b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 19:39:44 2011 -0400

    Coverity fixes CID:330
    
    	* src/ui/frame.c (print_frame): use write_fmt_str and write_fmt_string instead of sprintf.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/frame.c |    9 +++------
 1 file changed, 3 insertions(+), 6 deletions(-)

commit d3a0c0747d2334910b8d7e56781430d5b4da5784
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 19:38:16 2011 -0400

    Coverity fixes. SECURE_CODING CID:329
    
    	* src/ui/device.c (print_device): use write_fmt_string instead of snprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/device.c |    9 +++------
 1 file changed, 3 insertions(+), 6 deletions(-)

commit 51d485bd01a5760ea3b13ab1365cd7bb34556ea1
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 19:33:37 2011 -0400

    Coverity fixes. SECURE_CODING CID:339,338,337
    
    	* src/ui/lwlib/xlwgauge.c: include lwlib-internal.h
    	* src/ui/lwlib/xlwgauge.c (GaugeExpose): use snprintf instead of sprintf. small reformat of expressions to help human parsing...
    	* src/ui/lwlib/xlwgauge.c (GaugeSelect): use snprintf instead of sprintf
    	* src/ui/lwlib/xlwgauge.c (MaxLabel): use snprintf instead of sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/lwlib/xlwgauge.c |   36 ++++++++++++++++++++++--------------
 1 file changed, 22 insertions(+), 14 deletions(-)

commit ea86735587622cddb04275e5e09c155a6c708315
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 19:28:38 2011 -0400

    CID:327 SECURE_CODING
    
    	* src/ui/X11/scrollbar-x.c (x_create_scrollbar_instance): use snprintf instead of sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/scrollbar-x.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit a9c8fcb06bfe8b43248e06d08ca80bc63a0e7d8d
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 19:23:54 2011 -0400

    Coverity fixes
    
    	* src/callproc.c: remove unused report_fork_error
    	* src/callproc.c (Fold_call_process_internal): check result from pipe (CID:152)
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/callproc.c |   16 ++++------------
 1 file changed, 4 insertions(+), 12 deletions(-)

commit efff1ea850955cf937abf1bf39b09e32560ada12
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 19:17:38 2011 -0400

    Coverity fixes
    
    	* src/sysdep.c (init_system_name): use strncpy instead of strcpy
    	* src/sysdep.h: add start/stop async timeout prototypes.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/sysdep.c |    7 +++----
 src/sysdep.h |    2 ++
 2 files changed, 5 insertions(+), 4 deletions(-)

commit c642ad69e1ae0a53538a895c568f79109737b1fe
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 19:15:01 2011 -0400

    Coverity fixes
    
    	* src/ui/redisplay.c (add_octal_runes): make a reference to
    	add_failed to "shutup" coverity.
    
    	* src/ui/redisplay.c (decode_mode_spec): make just enough room for
    	a long
    	* src/ui/redisplay.c (decode_mode_spec): use snprintf instead of sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/redisplay.c |   25 ++++++++++++++++---------
 1 file changed, 16 insertions(+), 9 deletions(-)

commit 2f19e5be35a3ba9f930b9273bcf915b518a67aab
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 19:09:41 2011 -0400

    Secure coding
    
    	* src/bloom.c (print_bloom): use write_fmt_string instead of snprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/bloom.c |   10 +++-------
 1 file changed, 3 insertions(+), 7 deletions(-)

commit 2780dc18bd810694158d5623c5a2354fde52aabd
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 19:07:37 2011 -0400

    CID:428 UNUSED_VALUE
    
    	* src/ui/window.c (print_window): use write_fmt_str instead of snprintf
    	* src/ui/window.c (margin_width_internal): no need to check this return
    	* src/ui/window.c (print_window_config): use write_fmt_str instead of snprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/window.c |   13 +++----------
 1 file changed, 3 insertions(+), 10 deletions(-)

commit ace775f3b21c31b89f5c2610db833b19feddb2fe
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 19:02:33 2011 -0400

    CID:294 SECURE_CODING
    
    	* src/lstream.c (print_lstream): use write_fmt_string instead of sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/lstream.c |    7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit a5e0d17edb97d4d6c02b314dd2fb4b367ea7a7e5
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 19:00:30 2011 -0400

    CID:291 SECURE_CODING
    
    	* src/fns.c (base16_encode_1): use snprintf instead of sprint,
    	needs addition parameter for buffer parameter...
    
    	* src/fns.c (Fbase16_encode_string): use base16_encode_1 with the new parameter
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/fns.c |   20 ++++++++++++--------
 1 file changed, 12 insertions(+), 8 deletions(-)

commit f20464fa0b29d30097214423713470e39c3a3173
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 18:57:52 2011 -0400

    CID:256 SECURE_CODING
    
    	* lib-src/ootags.c (main): avoid using sprintf just to build a 1 char string...
    	* lib-src/ootags.c (main): use snprintf instead of sprintf
    	* lib-src/ootags.c (main): ditto.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/ootags.c |   17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit ce18607b427c5072374aeaa20ce0d9eb8daad0fb
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 18:53:33 2011 -0400

    CID:150 Call result should be used
    
    	* lib-src/mmencode.c (from64): check result of fgets
    	* lib-src/mmencode.c (fromqp): ditto
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/mmencode.c |   12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 33b82ca64cc18caa691641d6c26886d45c3e08c1
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 18:47:11 2011 -0400

    Misc security fixes
    
    	* lib-src/make-docfile.c (next_extra_elc): Make appropriate check on fgets
    
    	* lib-src/make-docfile.c (main): check for chdir success
    	* lib-src/make-docfile.c (scan_c_file): check for fscanf success
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/make-docfile.c |   22 +++++++++++++++-------
 1 file changed, 15 insertions(+), 7 deletions(-)

commit 658c22dcf2e182db11489fab10d9b6b3d1ec5ec3
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 18:40:45 2011 -0400

    CID:245,142,90 SECURE_CODING, CALL_RESULT_SHOULD_BE_CHECK, NEGATIVE_RETURN
    
    	* lib-src/gnuslib.c: include assert and remove RCS
    	* lib-src/gnuslib.c (connect_to_internet_server): use snprintf
    	instead of sprintf, and check result from write
    
    	* lib-src/gnuslib.c (disconnect_from_server): check for negative
    	length possible result from the read.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/gnuslib.c |   36 +++++++++++++++++++++++-------------
 1 file changed, 23 insertions(+), 13 deletions(-)

commit c86e306109a5d377915ef6c5fc5853222bab2aea
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 18:34:32 2011 -0400

    No CID yet...
    
    	* src/ui/lwlib/lwlib-Xm.c (make_dialog): use snprintf instead of sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/lwlib/lwlib-Xm.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 9c13751a4e50ad094a875c17dab79b3b6a995b1b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 18:32:13 2011 -0400

    CID:328 SECURE_CODING
    
    	* src/ui/console.c (print_console): use write_fmt_string instead of snprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/console.c |    9 +++------
 1 file changed, 3 insertions(+), 6 deletions(-)

commit 45195a31db8b74dba5e1479168bfd7919e4db53e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 18:28:40 2011 -0400

    CID:317
    
    	* src/ui/lwlib/lwlib.c (safe_strdup): use strncpy instead of strcpy
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/lwlib/lwlib.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit dfe710a61402d72673994393f65825cf11646e3e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 18:20:31 2011 -0400

    Small type change
    
    	* lib-src/etags.c (argv): Use int instead of ssize_t as per manpage
    	* src/print.c (std_handle_out_va): ditto
    	* src/print.c (write_fmt_str): fix comment reference to function name
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/etags.c |    8 ++++----
 src/print.c     |    4 ++--
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 8cdc357845a93187e343889c9aa5dd412e13970b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 18:16:43 2011 -0400

    SECURE_CODING
    
    	* src/ui/X11/glyphs-x.c (x_print_image_instance): use write_fmt_str instead of sprintf
    	* src/ui/X11/glyphs-x.c: removed #if 0 write_lisp_string_to_temp_file
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/glyphs-x.c |  118 +++----------------------------------------------
 1 file changed, 5 insertions(+), 113 deletions(-)

commit 1a041fcabf6a7128436222b02d164a6b5c14dc34
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 18:14:24 2011 -0400

    SECURE_CODING
    
    	* src/dumper.c (pdump): improve security on error message
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/dumper.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit e9c951f097c6227235b4fd5747f09d19d597650c
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 18:11:40 2011 -0400

    CID:336 SECURE_CODING
    
    	* src/ui/lwlib/lwlib-Xaw.c (make_dialog): use snprintf instead of sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/lwlib/lwlib-Xaw.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit be6b417e62479e67414cd698a1f475d8c1a893ab
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 18:05:42 2011 -0400

    Misc coverity fixes (lost CID)
    
    	* src/ui/lwlib/xlwmenu.c: include lwlib-internal.h
    	* src/ui/lwlib/xlwmenu.c (resource_widget_value): use snprintf instead of sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/lwlib/xlwmenu.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 46ac865842319f1c7965e48f075b3994de855c72
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 18:00:39 2011 -0400

    CID:57 FORWARD_NULL
    
    	* src/ui/glyphs-widget.c (layout_query_geometry): make sure to
    	test for width and height != NULL before dereference.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/glyphs-widget.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 16065833f6d5095a06e075ee9e7eb55eed10d79f
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 17:33:09 2011 -0400

    Fixup snprintf
    
    	* src/buffer.c (Fgenerate_new_buffer_name): check snprintf result
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/buffer.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit bc3ca68aa9c4de57e3a2eebb8577649ada2f9225
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 17:30:11 2011 -0400

    CID:341 SECURE_CODING
    
    	* src/ui/lwlib/xlwtabs.c (XawTabsSetTop): use snprintf instead of sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/lwlib/xlwtabs.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e2fbcafdcdadbbbfc339d70c24937a9d28e41cec
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 02:25:03 2011 -0400

    CID:143,144 Call result should be used
    
    	* lib-src/hexl.c (main): check result of fread
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/hexl.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 1ff152706d4cf1792ce5c9ce27b41d90775f8ff9
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 02:21:48 2011 -0400

    CID:293 SECURE_CODING
    
    	* src/lread.c (Fload_internal): use strncpy instead of strcpy
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/lread.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit e84c6df53a9942380f1dc65ec673ff2dd61d618a
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 02:18:40 2011 -0400

    CID:151 Call result should be used
    
    	* lib-src/movemail.c (main): check the result of ftruncate
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/movemail.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 167457edf8ce98fd9eddb8cb866fa118d5abe6c0
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 01:22:49 2011 -0400

    Coverity related fixes.
    
    	* src/ui/specifier.c (print_specifier): use write_fmt_string instead of snprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/specifier.c |    7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit a2a6b1e74780bd1d5916a4b45f77a815c9fe1de3
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 01:17:43 2011 -0400

    CID:154 - Call result should be used...
    
    	* src/emacs.c (main_1): Check for return of dup(0)
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/emacs.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e9681b09b5a7ce7c498761dde8f664bc5c2606f8
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 30 01:01:02 2011 -0400

    CID:334
    
    	* src/ui/gui.c (print_gui_item): use write_fmt_string instead of sprintf
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/gui.c |    7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit 89322a1a61b0c8ebae1d608d8623594e293833e1
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Sep 29 20:05:34 2011 -0400

    Coverity fixes. Several CID's related to use of sprintf and stack usage.
    
    	* src/print.c (std_handle_out_external): cleanup extranous scope
    
    	* src/print.c (std_handle_out_external): remove condition for
    	extlen == 0, since that is impossible. CID:23 DEADCODE
    
    	* src/print.c (std_handle_out_va): Lowered buffer from 16K to 1K
    	since most messages will be small and this could lead to heavy
    	stack usage (specially upon assert failure in
    	std_handle_out_external). CID:348,349 STACK_USE
    
    	* src/print.c (internal_object_printer): Use newly refactored
    	write_fmt_string instead of sprintf. CID:305 SECURE_CODING
    
    	* src/print.c (printing_major_badness): Use snprintf CID:240
    	SECURE_CODING
    
    	* src/print.c (default_object_printer): Use write_fmt_string
    	instead of sprintf CID:239 SECURE_CODING
    
    	* src/print.c (internal_object_printer): ditto.
    
    	* src/print.c (SXE_VSNPRINT_VA): Macro to do vsnprintf with
    	automatic buffer resizing.
    
    	* src/print.c (write_fmt_str): New function for small (like
    	integers) sprintf.
    
    	* src/print.c (write_fmt_string): Moved up and refactored to use
    	the macro which tries buffer reallocation.
    
    	* src/print.c (std_handle_out_va): Refactor to use macro which
    	tries buffer reallocation.
    
    	* src/print.c (stdout_out): minor indenting change
    
    	* src/print.c (fatal): Make sure not to do GETTEXT when in fatal error
    
    	* src/print.c (write_hex_ptr): New function to print a pointer value in hex
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/print.c |  216 ++++++++++++++++++++++++++++++++++++++++-------------------
 1 file changed, 146 insertions(+), 70 deletions(-)

commit 4e4b098389c3e4cafce5cf708bc67c0be68cb043
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Sep 29 19:27:48 2011 -0400

    CID:241 SECURE_CODING
    
    	* lib-src/etags.c (main): use snprint and warn of truncate cmdline (and refuse to run)
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/etags.c |   18 ++++++++++++++----
 1 file changed, 14 insertions(+), 4 deletions(-)

commit 4730bfd5b645d0d29bcd4be8ed6426e41a3bc102
Merge: 1f751bd 485f8b6
Author: Steve Youngs <steve@sxemacs.org>
Date:   Mon Sep 19 07:51:43 2011 +1000

    Coverity fixes from Nelson
    
    * merges:
      CID:122 - NEGATIVE_RETURNS - Possible use of negative file descriptor
      CID:123 - NEGATIVE_RETURNS - Possible use of negative file descriptor
      CID:124 NEGATIVE_RETURNS - Possible use of negative file descriptor.
      CID:125 - NEGATIVE RETURNS - Possible use of negative file descriptios
      CID:135 - NULL RETURNS - Possible NULL pointer dereference
      CID:182 - RESOURCE_LEAK - memory not freed inside Prolog_functions
      CID:192 RESOURCE_LEAK - new argv is not freed
      CID:226 SECURE_CODING - risky use of strcpy
      CID:226 - SECURE_CODING risky usage of strcpy
      CID:228 SECURE_CODING - risky usage of strcat
      Fix last commit of CID:228 SECURE_CODING - risky usage of strcat
      CID:230 SECURE_CODING - risky use of strcpy
      CID:232 SECURE_CODING - risky usage of strcpy
      CID:241 SECURE_CODING - risky usage of sprintf
      CID:318 SECURE_CODING - risky usage of sprintf
      CID:340 SECURE_CODING - risky usage of strcat
      Added sxe-utils.h with several utilities from lisp.h
      CID:475 USE AFTER FREE
      CID:179 RESOURCE LEAK - free string in odd case

commit 485f8b6ab687062b816e7fd240652069ecb7a0a8
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Sep 18 02:39:57 2011 -0400

    CID:122 - NEGATIVE_RETURNS - Possible use of negative file descriptor
    
    	* src/ui/X11/event-Xt.c(emacs_Xt_select_console): Only call
              select_filedesc if the descriptor is valid

 src/ui/X11/event-Xt.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d431c63bf7b3850593e4b0b16ac4abc8ac0778ec
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Sep 18 02:38:37 2011 -0400

    CID:123 - NEGATIVE_RETURNS - Possible use of negative file descriptor
    
    	* src/ui/X11/event-Xt.c(emacs_Xt_select_process): Only call
              select_filedesc if the descriptor is valid

 src/ui/X11/event-Xt.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 62ba7094ad9b34af06ec1be68a56b6bd3623052a
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Sep 18 02:37:01 2011 -0400

    CID:124 NEGATIVE_RETURNS - Possible use of negative file descriptor.
    
        * src/ui/X11/event-Xt.c(emacs_Xt_unselect_console): Only call
        unselect_filedesc if the descriptor is valid

 src/ui/X11/event-Xt.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d6ffcb4f3f58fc3c1ee4c1e4fd7ae008de68f036
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Sep 18 02:35:16 2011 -0400

    CID:125 - NEGATIVE RETURNS - Possible use of negative file descriptios
    
        * src/ui/X11/event-Xt.c(emacs_Xt_unselect_process): only call
          unselect_filedesc if indeed it is a valid one.

 src/ui/X11/event-Xt.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d48c1d5ae6854edc231f09da3fe6545efeceba82
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Sep 18 02:33:14 2011 -0400

    CID:135 - NULL RETURNS - Possible NULL pointer dereference
    
        * src/ui/X11/console-x.h(error_check_frame_type): make
          assert also verify the pointer is not NULL before dereference.

 src/ui/frame.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 30a505f594ffbb8daf73e92be4efcce3bdac5df7
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Sep 18 02:28:42 2011 -0400

    CID:182 - RESOURCE_LEAK - memory not freed inside Prolog_functions
    
          * lib-src/ootags.c(Prolog_functions): free last before returning

 lib-src/ootags.c |    1 +
 1 file changed, 1 insertion(+)

commit fe9b6c1d35e6796ff049a0723a5d152ee03e170a
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Sep 18 02:25:34 2011 -0400

    CID:192 RESOURCE_LEAK - new argv is not freed
    
        * src/emacs.c(make_docfile): free newargv after the return of
        execv (which will be never if successful, but, if execv fails no
        memory will be leaked.)

 src/emacs.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit b1791dd1984cb146fd651e54b46a2dc6861ef082
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Sep 18 02:20:33 2011 -0400

    CID:226 SECURE_CODING - risky use of strcpy
    
         * lib-src/etags.c(concat): use strncpy

 lib-src/etags.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 23dacdd87770efc88c8885c04e0309603882fc74
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Sep 18 02:19:36 2011 -0400

    CID:226 - SECURE_CODING risky usage of strcpy
    
         * lib-src/movemail.c(concat): Use strncpy

 lib-src/movemail.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 5c5ab9b05b0d7060596eb82b24e69e2e67b511ea
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Sep 18 02:15:59 2011 -0400

    CID:228 SECURE_CODING - risky usage of strcat
    
        	* lib-src/etags.c (relative_filename): actually define res_left

 lib-src/etags.c |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit a044f33f86f5b46ad059eab48433cd43c7e22750
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Sep 18 02:13:44 2011 -0400

    Fix last commit of CID:228 SECURE_CODING - risky usage of strcat
    
    	* lib-src/ootags.c (relative_filename): actually define res_left

 lib-src/ootags.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 41f651004ee702e581a073f2e69dbc737071a019
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Sep 18 02:06:06 2011 -0400

    CID:230 SECURE_CODING - risky use of strcpy
    
    	* lib-src/etags.c (write_classname): Use strncpy

 lib-src/etags.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit c4a0c7cef9c994678fb0d57a01b3edc836cf08be
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Sep 18 00:24:47 2011 -0400

    CID:232 SECURE_CODING - risky usage of strcpy
    
    	* lib-src/ootags.c (inf;): Use strncpy

 lib-src/ootags.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ed6a69d53c4b4c8d75e4fa577c24b487f04c09e2
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Sep 18 00:22:17 2011 -0400

    CID:241 SECURE_CODING - risky usage of sprintf
    
    	* lib-src/etags.c (argv): use snprintf

 lib-src/etags.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2af1929bcb271a1dba3060c91d955e246479bec7
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Sep 18 00:19:53 2011 -0400

    CID:318 SECURE_CODING - risky usage of sprintf
    
    	* src/ui/X11/event-Xt.c (describe_event): Use snprint

 src/ui/X11/event-Xt.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 8ff50ec5916da4ff0cb8eb5cbdbe2aa3ea029de5
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Sep 18 00:04:47 2011 -0400

    CID:340 SECURE_CODING - risky usage of strcat
    
    	* src/ui/lwlib/xlwmenu.c (parameterize_string): use strncat
    	instead of strcat and keep the space available checked...

 src/ui/lwlib/xlwmenu.c |   37 ++++++++++++++++++++++++++-----------
 1 file changed, 26 insertions(+), 11 deletions(-)

commit f332d26ee91f9ff3304f2a17e8638f71c1a0250b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun Sep 18 00:00:56 2011 -0400

    Added sxe-utils.h with several utilities from lisp.h
    
        * src/sxe-utils.h: added code from lisp.h related to stuff like min, max, UNUSED, UNLIKELY, etc
    
        * src/lisp.h: remove code moved to sxe-utils.h and added include to it
    
        * src/sxemacs.h: added include to sxe-utils.h
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/lisp.h      |  360 +------------------------------------------------
 src/sxe-utils.h |  397 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/sxemacs.h   |    1 +
 3 files changed, 400 insertions(+), 358 deletions(-)

commit f1b073aadd7787e4241089db17046b9900678d45
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Sep 17 17:07:34 2011 -0400

    CID:475 USE AFTER FREE
    
    	* lib-src/etags.c (stream;): Make sure to reset name to NULL after the free

 lib-src/etags.c |    1 +
 1 file changed, 1 insertion(+)

commit 75da3883aa5e9aa0b21b6731ea31007a44f1555b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sat Sep 17 15:21:21 2011 -0400

    CID:179 RESOURCE LEAK - free string in odd case
    
    	* lib-src/make-docfile.c (scan_lisp_file): Free string before returning from function.
    	This would happend only if there was a dynamic doc string with no next expression.

 lib-src/make-docfile.c |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 1f751bdef39661803e9399e7ce29101ba181b78c
Merge: fc63bf6 58844e4
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Sep 17 15:24:09 2011 +1000

    Coverity fixes from Nelson
    
    * merges:
      Several fixes to dumper. CID:107,108,206 	NEGATIVE_RETURNS, REVERSE_INULL
      CID:61 INFINITE_LOOP - Let's make the "infinite" loop very evident until we teach coverity about Fsignal...
      CID:190 RESOURCE_LEAK free the rune when not needed...
      CID:170,172 PW.INCLUDE_RECURSION - Avoid recursive includes
      CID:174 RESOURCE LEAK - memory not freed
      CID:377 STRING OVERFLOW - use strncpy to avoid possible string overflow

commit 58844e40f14ae66927333733d533200399b56e48
Merge: 3988b6f 3f6dfb7
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 23:38:49 2011 -0400

    Merge http://git.nelsonferreira.com/sxemacs

commit 3988b6f0e4031a4c5c6effde754bdbfe7c704531
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 23:33:22 2011 -0400

    Several fixes to dumper. CID:107,108,206
    	NEGATIVE_RETURNS, REVERSE_INULL
    
    	* src/dumper.c: Make pdump_length an off_t to fix CID:108
    	* src/dumper.c (pdump_register_sub): move strlen inside the if to only do it when str!=NULL CID:206
    	* src/dumper.c (pdump): Make sure the fds are >=0 and abort otherwise due to the early nature of the call.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/dumper.c |   16 +++++++++++++---
 1 file changed, 13 insertions(+), 3 deletions(-)

commit 20c4651c3873847e98079777df8d81cc369135e1
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 23:26:57 2011 -0400

    CID:61 INFINITE_LOOP - Let's make the "infinite" loop very evident until we teach coverity about Fsignal...
    
    	* src/ui/X11/device-x.c (signal_if_x_error): Make infinite loop real clear.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/device-x.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit c21e8f2e8651becaea697075f65efef266718fa9
Merge: 4928d3a fc63bf6
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 23:22:53 2011 -0400

    Merge branch 'master' of http://git.sxemacs.org/sxemacs

commit 4928d3a16e80bee862c2ff035e08218203a3a364
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 23:20:18 2011 -0400

    CID:190 RESOURCE_LEAK free the rune when not needed...
    
    	* src/ui/redisplay.c (create_text_block): use add_glyph_rune_noret
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/redisplay.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 51a4d03b18acfb6654c341b5c98ce7e27f905ebc
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 23:12:57 2011 -0400

    CID:170,172 PW.INCLUDE_RECURSION - Avoid recursive includes
    
    	* src/ui/lwlib/xlwmenu.h: Conditionally include lwlib.h
    
    	* src/ui/lwlib/lwlib.h: Conditionally include xlwmenu.h
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/lwlib/lwlib.h   |    2 ++
 src/ui/lwlib/xlwmenu.h |    2 ++
 2 files changed, 4 insertions(+)

commit 4203b7669ead397ed10a8ce908862ae5d2ba5620
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 23:08:57 2011 -0400

    CID:174 RESOURCE LEAK - memory not freed
    
    	* lib-src/etags.c (stream;): free memory in the case where it is not used
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/etags.c |   14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit 3f6dfb716145ced1c38839e2e3c58479d1c31812
Merge: 6d3da4a fc63bf6
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 23:02:59 2011 -0400

    Merge branch 'master' of http://git.sxemacs.org/sxemacs

commit 6d3da4a6d4c3f7e37e73f32b6ac807aa78d7bd63
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 23:01:46 2011 -0400

    CID:377 STRING OVERFLOW - use strncpy to avoid possible string overflow
    
    	* lib-src/gnuclient.c (main): Use strncpy
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/gnuclient.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit fc63bf62e635e8b85f32d76e18c710e22ee42778
Merge: 46457f6 cfb9290
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Sep 17 12:33:22 2011 +1000

    Coverity fixes from Nelson
    
    * merges:
      CID:395 UNINIT - Fix uninitalized use of a member of struct gb
      CID:456 FORWARD NULL - possible crash on dereference

commit cfb92900bc3f7d544793c9652ace58ef300d6c61
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 22:25:36 2011 -0400

    CID:395 UNINIT - Fix uninitalized use of a member of struct gb
    
    	* src/extents.c (extent_fragment_update): initialize width to 0, which seems better than some random value...
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/extents.c |    1 +
 1 file changed, 1 insertion(+)

commit 46457f66a34449fe24e188d4df6cfb3e3823421c
Merge: 094a87f 4cfb6a2
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Sep 17 12:14:03 2011 +1000

    Coverity fixes from Nelson
    
    * merges:
      CID:468 MISSING_LOCK
      CID:469 PW.BAD_MACRO_REDEF
      CID:469 PW.BAD_MACRO_REDEF
      CID:462 RESOURCE LEAK
      Add missing semi-color Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

commit bd9d2b26489b3cf95f5654a71912e7ea947e5000
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 22:09:06 2011 -0400

    CID:456 FORWARD NULL - possible crash on dereference
    
    	* src/media/media-ffmpeg.c (media_ffmpeg_analyse_audio): Only switch on avcc->sample_fmt if avcc != NULL
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-ffmpeg.c |   64 +++++++++++++++++++++++-----------------------
 1 file changed, 32 insertions(+), 32 deletions(-)

commit 4cfb6a2068be4032a16e7de99508e9d01ca1eff3
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 21:56:13 2011 -0400

    CID:468 MISSING_LOCK
    
    	* src/media/sound-alsa.c (sound_alsa_play): Add the lock around aj->play_state
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/sound-alsa.c |    2 ++
 1 file changed, 2 insertions(+)

commit e0cb37d7777a2a69d9fef9fce657bf43e9c27189
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 21:53:29 2011 -0400

    CID:469 PW.BAD_MACRO_REDEF
    
    	* src/media/media-sox.c: undef UNUSED before including media-sox.h
    	because sox.h conflicts with lisp.h definition. This should have
    	as proper fix a SXE_UNUSED macro... For a later time.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-sox.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 8091b99b0e8b5e0f1d9bc9265b585c5e4424f008
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 21:52:53 2011 -0400

    CID:469 PW.BAD_MACRO_REDEF
    
    	* src/media/media-sox.c: undef UNUSED before including media-sox.h
    	because sox.h conflicts with lisp.h definition. This should have
    	as proper fix a SXE_UNUSED macro... For a later time.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-sox.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit abbacea1e851264719f077735b96216e38f5001c
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 21:36:23 2011 -0400

    CID:462 RESOURCE LEAK
    
    	* src/media/media-sndfile.c (media_sndfile_open): free mtap on abnormal return
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-sndfile.c |    1 +
 1 file changed, 1 insertion(+)

commit 819a723c5e5104f58d36534c8f60f7f13e06a133
Merge: 81cbe4d 094a87f
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 08:46:50 2011 -0400

    Merge http://git.sxemacs.org/sxemacs

commit 094a87f0e7df248581651da93475651746c7697c
Merge: bbe5032 0d5520f
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Sep 16 19:36:29 2011 +1000

    quick typo fix
    
    * quickfix:
      Quick trivial one-char typo fix

commit 0d5520f336bbd7356912d1f527a7a4118bc27535
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Sep 16 19:35:35 2011 +1000

    Quick trivial one-char typo fix
    
    	* src/media/sound-ao.c (sound_ao_play): Add missing ;
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/media/sound-ao.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bbe503243aa874b469a6ba0b144f57ea6629046a
Merge: 8c40f61 e7291c9
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Sep 16 19:17:22 2011 +1000

    Coverity fixes from Nelson
    
    * njsf-merges:
      Fix stupid strncat usage mistake Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>
      Make sure a pointer to the local ures is not returned, but a copy instead. CID:199 Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>
      Make sure to fclose the file on error CID:195 Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>
      Make sure to use add.*_rune_noret when not interested on the return value.. CID:175,177,190 Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>
      Make sure that the args array is initialized CID:394 Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>
      Make sure dl.top_clip is initialized CID:406 Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>
      Avoid doing decode_buffer twice when not doing clash detection CID:430 Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>
      Remove unneeded initialization of command_builder pointer. CID:431 Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>
      Do not assign the return of setlocale(LC_ALL,"C") to locale var since it will be no longer used afterwards. CID:432 Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>
      Remove unused value of eckey CID:435 Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>
      Make sure that check and change of state is done on the mutual exclusion zone. move the sleep outside of it. CID:440
      make sure the optable_index cannot be negative, instead an assertion is made. CID:117,116,115,114,111,110,109,88,87 Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>
      Make sure avfc is not NULL before dereferencing CID:457 Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>
      Make sure that avfc is non null before de-reference. CID:458 Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>
      Make sure the pointers are valid before dereferencing CID:461 Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>
      Use strncat instead of strcat, even in a paranoid fashion. CID:463 Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>
      Make sure that mtp has the proper play state before entering the loop. CID:466 Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

commit 81cbe4d1fcfb8f484f9c2e77824edcb2da66e958
Merge: bfbb41f bbe5032
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 05:16:59 2011 -0400

    Merge http://git.sxemacs.org/sxemacs

commit bfbb41fed218d7a9304b35d636718b8f6817bd2b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 05:08:20 2011 -0400

    Add missing semi-color
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/sound-ao.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e7291c9856761f19e790e5ddc3da7e62b1253600
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 05:02:59 2011 -0400

    Fix stupid strncat usage mistake
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-ffmpeg.c |   25 +++++++++++++++----------
 1 file changed, 15 insertions(+), 10 deletions(-)

commit f7e10d70c18279c741e058b12c07207f3df84631
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 03:38:17 2011 -0400

    Make sure a pointer to the local ures is not returned, but a
    copy instead.
    CID:199
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 modules/ase/ase-interval.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit b99e5f98849430b5289fa8528a2e43ab50d49c89
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 03:35:38 2011 -0400

    Make sure to fclose the file on error
    CID:195
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/openssl.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 68c00c25312d910589b4e7ff4b4cb52fbf96c32c
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 03:33:59 2011 -0400

    Make sure to use add.*_rune_noret when not interested on the
    return value..
    CID:175,177,190
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/redisplay.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit f13aaac2d7059359140f640d5e0216a219f0a3d7
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 03:32:15 2011 -0400

    Make sure that the args array is initialized
    CID:394
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 modules/ase/ase-interval.c |   29 ++++++++++++++++-------------
 1 file changed, 16 insertions(+), 13 deletions(-)

commit b93e4a19a1740451f09f3583e8189296fd95117a
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 03:24:30 2011 -0400

    Make sure dl.top_clip is initialized
    CID:406
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/toolbar-x.c |    1 +
 1 file changed, 1 insertion(+)

commit c27cf9442451113ae38cc618a9877fe7043a13da
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 03:22:27 2011 -0400

    Avoid doing decode_buffer twice when not doing clash
    detection
    CID:430
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/buffer.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit bd3f42bc5d276a1eb0de972c1b21ad98921916e7
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 03:20:33 2011 -0400

    Remove unneeded initialization of command_builder pointer.
    CID:431
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/events/event-stream.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 74a24efbf7b2b2cae554d902d1c8182246ced527
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 03:12:13 2011 -0400

    Do not assign the return of setlocale(LC_ALL,"C") to locale var
    since it will be no longer used afterwards.
    CID:432
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mule/input-method-xlib.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2c330fc143900f8f9d42ec8970a792b8fc7a4189
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 03:08:39 2011 -0400

    Remove unused value of eckey
    CID:435
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/openssl.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 74e0a12ce9a5a6c0d32aee266a44cc4f0ef7fab2
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 03:06:33 2011 -0400

    Make sure that check and change of state is done on the
    mutual exclusion zone. move the sleep outside of it.
    CID:440
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/sound-ao.c |   26 ++++++++++++--------------
 1 file changed, 12 insertions(+), 14 deletions(-)

commit 0199ae03af9d581a3cc5d061ce546d13fdd79111
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 02:58:50 2011 -0400

    make sure the optable_index cannot be negative, instead
    an assertion is made.
    CID:117,116,115,114,111,110,109,88,87
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ent/ent.c |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 645c51d393756cf586aed02e4e2c60507d35a73b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 02:55:59 2011 -0400

    Make sure avfc is not NULL before dereferencing
    CID:457
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-ffmpeg.c |   18 +++++++++++-------
 1 file changed, 11 insertions(+), 7 deletions(-)

commit 1f7d14475ad7c51360fd306feeed2bf45a42b333
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 02:54:12 2011 -0400

    Make sure that avfc is non null before de-reference.
    CID:458
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-ffmpeg.c |   69 +++++++++++++++++++++++-----------------------
 1 file changed, 35 insertions(+), 34 deletions(-)

commit 29c457d81cdf29d0f120b577c5159a86377368ea
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 02:42:43 2011 -0400

    Make sure the pointers are valid before dereferencing
    CID:461
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-ffmpeg.c |   18 +++++++++++-------
 1 file changed, 11 insertions(+), 7 deletions(-)

commit 6b22b5595c47b17665b80edca66fd2801a1d5c81
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 02:39:23 2011 -0400

    Use strncat instead of strcat, even in a paranoid fashion.
    CID:463
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/media-ffmpeg.c |   20 +++++++++-----------
 1 file changed, 9 insertions(+), 11 deletions(-)

commit 0f123bce9031ac63ec3233d5d14c3b83c74fd5ba
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Fri Sep 16 02:29:35 2011 -0400

    Make sure that mtp has the proper play state before entering
    the loop.
    CID:466
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/sound-ao.c |    1 +
 1 file changed, 1 insertion(+)

commit 8c40f61aaa78271b885955cc6230f4a774535a7d
Merge: 35f5386 b6781fa
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Sep 16 14:19:32 2011 +1000

    More Coverity fixes from Nelson

commit b6781faf0ef11417ca4b9c534cdf41c424ab6da3
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Sep 15 23:44:22 2011 -0400

    Fix stupid typo on previous fix, that broke build.
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 modules/ase/ase-interval.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4dc86a9abb14efef7fc95295a3ed9ef3226cded0
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Sep 15 23:33:33 2011 -0400

    Fix several FILE* leaks in ssl
    CID:193,194,195,196,197,198
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/openssl.c |   48 +++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 45 insertions(+), 3 deletions(-)

commit 8169a297babb43f3d3c98e7f62d56cc79c51517e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Sep 15 23:17:23 2011 -0400

    Make implementation comment about issues with strlen of
    NULL pointers match the implementation
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/alloc.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0cf4be2e3f709b71e415bddcdef506af3dc3c1ff
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Sep 15 23:16:01 2011 -0400

    Fix several invalid uses of negative returns on acessing an array
    due to ase_optable_index
    CID:87,88,109,110,111,114,115,116,117
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ent/ent.c |   23 ++++++++++-------------
 1 file changed, 10 insertions(+), 13 deletions(-)

commit e33af2c8698c99df7630b756b48c80120591eed0
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Sep 15 22:59:24 2011 -0400

    Allocate and copy ures when it would be the return address.
    CID:200
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 modules/ase/ase-interval.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 3ac8ebb6f527f54b33ebd009c5c8c682c7a6b07f
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Sep 15 22:43:44 2011 -0400

    Move variable path definition to avoid out-of-scope references
    to the memory location.
    CID:201
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/editfns.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit e500fea58533821432a4e3d00ad2ce4f7d5d664b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Sep 15 22:36:53 2011 -0400

    CID:326,325
    Use snprintf instead of sprintf. Although current sizes and formatting
    string are fine (since it is only integer printing), it won't hurt to
    limit the buffer.
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/objects-x.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 98c274850f751a0d8beb8230719eaa3c468cabdc
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Sep 15 22:32:37 2011 -0400

    Use snprint instead of sprintf. One of the uses of
    this CID:342 was of valid concern.
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/specifier.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit b08c9e23dfa8660efd580f57a5dcd13466ddf19e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Sep 15 21:43:29 2011 -0400

    Use snprint even if there is no issue with given size...
    Actually reduced it, so that the stack is less likely to
    blow up.
    CID:343
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/window.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 41ec22d5d00f8fd1cd50b92315935fc29243ea27
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Sep 15 19:36:26 2011 -0400

    Get rid of harmless warning about ignoring result of getc, while ignoring ESC ISO2022 sequences.
    CID:11
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 lib-src/make-docfile.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 12e0723d376527a27703711230761c128cbb9b24
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Sep 15 19:01:26 2011 -0400

    Avoid potential race condition and check only mtp as loop
    exit condition, which is updated at each switch condition
    that may change the state and also updated under lock.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/sound-ao.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit bd10f44c52f220c633b33971339b71c56f3bfb39
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Sep 15 18:58:11 2011 -0400

    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>
    
    Correct silly mistake in previous locking fix. Use UNLOCK instead
    of LOCK.
    
    CID:454

 src/media/sound-ao.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 35f53868bffe4dbf5d9ba09194ba0fdadf61d996
Merge: 3e58c8d 2a25b39
Author: Steve Youngs <steve@sxemacs.org>
Date:   Thu Sep 15 15:49:06 2011 +1000

    Merge branch 'merges'

commit 2a25b391dc16c15a473cdeae07c74f2908e72c1e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Thu Sep 15 00:34:37 2011 -0400

    Avoid resource leaks in redisplay (runes mostly).
    CID:175,176,177,186,187,188,189,190,191
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/redisplay.c |   55 +++++++++++++++++++++++++++++++++++++++-------------
 1 file changed, 41 insertions(+), 14 deletions(-)

commit 3e58c8da036cac45dc58e1a48b1d1efc8351942d
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 23:44:13 2011 -0400

    Enclosed the media stop status assignment inside the
    mutex zone. Also made sure any "derived" vars were updated
    CID:440,441,442
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/sound-ao.c  |    7 +++++--
 src/media/sound-oss.c |    2 ++
 2 files changed, 7 insertions(+), 2 deletions(-)

commit f05461329a01c23ba2922fd6691db7bc3cc663c9
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 23:34:49 2011 -0400

    Use ssize_t for string length and return from read calls
    CID:130,131,132,133
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/openssl.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit fd8b8a3bb15f76d2e2bae30a1ebe314fc53356b2
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 23:25:35 2011 -0400

    Initialize the return object to Qnil
    CID:452
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/lstream.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 12053ed7c67df51b6d10d74a530778b4df3aceb5
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 23:13:27 2011 -0400

    Check for NULL return from getenv on pdump_load. These
    are made with assert since it is so early there is no
    recovery possible or needed.
    CID:443
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/dumper.c |    3 +++
 1 file changed, 3 insertions(+)

commit 5ad7dd003d7dd641db9b48b0f6592b4842943099
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 23:11:02 2011 -0400

    Check for NULL return from getenv
    CID:444
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/editfns.c |   45 ++++++++++++++++++++++++---------------------
 1 file changed, 24 insertions(+), 21 deletions(-)

commit 4c56069688f2a058c109ea7e4b73d6b192fe4bcb
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 22:54:49 2011 -0400

    Remove superfluous pointer check which seems to trigger
    CID:445
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/media/sound-ao.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 539a21ad7ca6e273390daf409e14d1572b6405cb
Merge: e42db6d 7c0ce6b
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Sep 14 21:58:56 2011 +1000

    Merge branch 'merges'

commit 7c0ce6b5e7d6f83c530a222e656a8d7e76dad9eb
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 06:17:22 2011 -0400

    Fix potential usage of negative file handle CID:119

 src/lread.c |    3 +++
 1 file changed, 3 insertions(+)

commit c287beb0ed2738a6d6276908e0111f2ceb53f6dc
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 06:15:46 2011 -0400

    Fix potential usage of negative file descriptor
    CID:120

 src/ui/TTY/console-tty.c |   18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit f405cbbbe32390d2566c2beaf5c625890f0141a4
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 06:10:40 2011 -0400

    Fix potential usage of negative file handle
    CID:119
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/lstream.c |    2 ++
 1 file changed, 2 insertions(+)

commit 8a746856b518bfebda288e42b123efddd0056a74
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 05:45:51 2011 -0400

    Make loop explicit in signal_if_x_error CID:61
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/X11/device-x.c |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit cfd1add02f324342f7759be9072370d3641a713d
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 05:41:35 2011 -0400

    Shutup unchecked call return value (CID:13)
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/dired.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bab7ced32042a27158cc4071953fd3a5bd5861d1
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 05:34:29 2011 -0400

    Fix  potential array overrun of static due to sign bit expansion
    CID:141

 src/ui/imgproc.c |    6 +++---
 src/ui/imgproc.h |    1 +
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 9a05aef02ce6295b9ed9ea4ab21d966192322cfd
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 05:27:18 2011 -0400

    Fix undefined order of eval in while condition.
    CID:30

 src/ent/ent-float.c |    6 ++----
 src/fns.c           |    1 +
 2 files changed, 3 insertions(+), 4 deletions(-)

commit bfe35695270a23519dbf07d1753d0338188c8911
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 04:36:00 2011 -0400

    Fix potential stack/string overflow warning
    CID:379

 src/symbols.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 5d005036fed821ef324ffc11b5d1f2c2096abb90
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 04:29:22 2011 -0400

    Fix potential stack overflow (via string overflow)
    CID:380

 src/symbols.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 16415314c4d55836d8d68a5501b1897dc60afb85
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 04:24:09 2011 -0400

    Use snprintf instead of sprint
    CID:344 SECURE_CODING

 src/ui/window.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 14bfb75b6c1b3bb3ddda1ef67d81f5f528e83a74
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 04:16:58 2011 -0400

    Fix strcpy from environment variable into fixed size buffer.  Fix strcat from argument into fixed size buffer (call to expand_filename).
    CID:381

 lib-src/gnuclient.c |   18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit e3696f36872c948d5a9767ac3215f25f07e6d6bd
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 04:15:53 2011 -0400

    Fix unchecked strcpy from commandline argument into fixed size buffer
    CID:382

 lib-src/yow.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit e42db6dabc516e4e217f70b0e311ea844ec20c59
Merge: 0d61b08 2c189e4
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Sep 14 15:30:04 2011 +1000

    Merge branch 'merges'

commit 2c189e4a741cb2b604420d70d6e6878596f43a11
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 01:05:59 2011 -0400

    Fix the ent-mpc issues of Bug 126.

 src/ent/ent-mpc.h |    5 +++++
 1 file changed, 5 insertions(+)

commit ee57c8f50fd14ab598244b190d1c051c0c6ca6ec
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Sep 14 00:59:52 2011 -0400

    Check the result of sxemacs_stat in Fwrite_region_internal (CID:14)

 src/fileio.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 0d61b08eaf1e6aa3b490e408546b0086f2a1e58d
Merge: 96a0253 524de51
Author: Steve Youngs <steve@sxemacs.org>
Date:   Wed Sep 14 14:26:44 2011 +1000

    Merge branch 'merges'

commit 524de51eeeaace9c84a933f778798a45fa611c6e
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Sep 13 23:20:05 2011 -0400

    Prevent harmless COVERITY warning message of the BAD_ALLOC_STRLEN checker on relative_filename about the usage of pointer+1 inside strlen as parameter to xnew.
    
    Changed it because it is indeed more maintainable to walk past the '/' and use that afterwards.

 lib-src/etags.c  |    5 +++--
 lib-src/ootags.c |    5 +++--
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 78bfe4f2108f42e55a0b4bda8601de8f2865c939
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Sep 13 22:44:30 2011 -0400

    Fix CID:436 Unused value

 src/ui/X11/dialog-x.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 231ffe1a4b25ba6275377c346577afd0565cd776
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Sep 13 22:36:15 2011 -0400

    Fix CID:437 Unused value

 src/ui/glyphs.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 0c3ccf5a2bc52569d4f808702ac1263dc5c460f0
Merge: 53b0119 96a0253
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Tue Sep 13 21:01:04 2011 -0400

    Merge http://git.sxemacs.org/sxemacs

commit 96a0253c2288125e9ea0541dcc99fc4389a8ddaf
Merge: 786d7ec 6d75147
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Sep 13 11:22:18 2011 +1000

    Merge branch 'tooltalkless'

commit 6d75147f02d56ed339f63eb55874e0adabac8e4b
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Sep 13 10:37:37 2011 +1000

    Purge SXEmacs of tooltalk -- remainding tidy up
    
    Finger's crossed, this is the END of tooltalk.  Yay!
    
    	* PROBLEMS: Delete the tooltalk stuff.
    
    	* etc/tests/external-widget/Makefile (CFLAGS): Remove the
    	-DTOOLTALK flag
    
    	* etc/tests/external-widget/test-ew-motif.c (handle_tt_input):
    	Remove.  It was tooltalk.
    
    	* etc/tests/external-widget/test-ew-motif.c
    	(HxInitializeToolTalk): Ditto.
    
    	* etc/tests/external-widget/test-ew-motif.c (main): Don't call
    	HxInitializeToolTalk().
    
    	* info/external-widget.texi (Using an External Client Widget):
    	Don't mention tooltalk.
    
    	* src/events/event-stream.c (execute_internal_event): Mention in
    	comments relating to tooltalk to revisit with D-Bus
    
    	* src/ui/X11/ExternalClient.h (XtNuseToolTalk): Remove.
    
    	* src/ui/X11/ExternalClient.h (XtCUseToolTalk): Ditto.
    
    	* .gitignore: Remove tooltalk directory.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 .gitignore                                |    1 -
 PROBLEMS                                  |    7 -----
 etc/tests/external-widget/Makefile        |    2 +-
 etc/tests/external-widget/test-ew-motif.c |   43 -----------------------------
 info/external-widget.texi                 |    9 ++++--
 src/events/event-stream.c                 |    5 +++-
 src/ui/X11/ExternalClient.h               |    7 -----
 7 files changed, 11 insertions(+), 63 deletions(-)

commit b359d963178f727f70ed74b16a8e99ae8f370f85
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Sep 13 03:03:00 2011 +1000

    Purge SXEmacs of tooltalk cruft -- src, lisp
    
    This kills off pretty much all of the tooltalk.  But I expect a couple
    more (at least) changesets to completely tidy it up.
    
    	* lisp/Makefile.am (corelispels): Remove check-features.el.  It
    	  was just tooltalk and sparcwork cruft.
    
    	* lisp/dumped-lisp.el (packages-hardcoded-lisp): Remove tooltalk
    	  related stuff.  Was all just comments anyway.
    
    	* lisp/subr.el (error): Remove tooltalk-error
    
    	* src/ui/Makefile.am (libsxeui_a_headers): Remove tooltalk.h
    
    	* src/ui/X11/ExternalClientP.h: Remove the use_tooltalk member
    	  from the ExternalClientPart struct.
    
    	* src/ui/X11/ExternalClient.c: Remove tooltalk cruft.
    
    	* src/ui/X11/ExternalClient.c (send_tooltalk_handshake): Remove.
    
    	* src/ui/X11/ExternalClient.c (tt_callback): Ditto.
    
    	* src/symsinit.h: Remove tooltalk cruft.
    
    	* src/procimpl.h: Remove tooltalk from process_methods
    
    	* src/process.c (connected_via_filedesc_p): return 0 regardless.
    	  It was only ever non-0 with a tooltalk connection.  'nuff said.
    
    	* src/process-unix.c (unix_tooltalk_connection_p): Remove.
    
    	* src/process-unix.c (process_type_create_unix): Remove tooltalk cruft.
    
    	* src/lrecord.h: Remove tooltalk cruft.
    
    	* src/inline.c: Ditto.
    
    	* src/gdbinit: Ditto.
    
    	* src/emacs.c (shut_down_emacs): Ditto.
    
    	* src/dbxrc (Usage): Ditto.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 lisp/Makefile.am             |    2 +-
 lisp/check-features.el       |   56 --
 lisp/dumped-lisp.el          |   26 -
 lisp/subr.el                 |    1 -
 src/dbxrc                    |    4 -
 src/emacs.c                  |   20 -
 src/gdbinit                  |    6 -
 src/inline.c                 |    4 -
 src/lrecord.h                |    2 -
 src/process-unix.c           |   10 +-
 src/process.c                |    7 +-
 src/procimpl.h               |    1 -
 src/symsinit.h               |    2 -
 src/tooltalk.c               | 1334 ------------------------------------------
 src/tooltalk.doc             |  330 -----------
 src/ui/Makefile.am           |    3 +-
 src/ui/X11/ExternalClient.c  |   61 --
 src/ui/X11/ExternalClientP.h |    2 +-
 src/ui/tooltalk.h            |   59 --
 19 files changed, 10 insertions(+), 1920 deletions(-)

commit 4e3e32b885e43b60602509c77881970a46d7842d
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Sep 13 01:07:35 2011 +1000

    Purge SXEmacs of tooltalk madness -- test suite
    
    This eradicates tooltalk from our test suite.
    
    	* tests/Makefile.am (tooltalk_tests): Removed.
    
    	* tests/Makefile.am (EXTRA_DIST): Remove tooltalk_tests.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 tests/Makefile.am                  |    5 +-
 tests/tooltalk/Makefile            |   25 ----------
 tests/tooltalk/beeps.el            |    5 --
 tests/tooltalk/emacs-eval.c        |   89 -----------------------------------
 tests/tooltalk/load-file.c         |   89 -----------------------------------
 tests/tooltalk/make-client-frame.c |   91 ------------------------------------
 tests/tooltalk/simple.el           |   38 ---------------
 7 files changed, 1 insertion(+), 341 deletions(-)

commit f630823748bc0215843d131ab437026cf75c5bb3
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Sep 13 00:31:59 2011 +1000

    Purge SXEmacs of tooltalk and CDE cruft -- docs, autoconf
    
    Tooltalk was some old Sun/Sparcworks thingamajiggy.  Nobody uses it
    anymore and it has been superseded by D-Bus anyway.  Even though SXEmacs
    doesn't yet have full (any?) D-Bus support we're nuking this silly
    tooltalk madness now.
    
    This changeset removes the tooltalk cruft from our build chain autotool
    stuff and from the docs.
    
    	* configure.ac: Remove all the tooltalk and CDE cruft.
    
    	* m4/sxe-summary.m4 (SXE_SUMMARY): Ditto.
    
    	* etc/PACKAGES: Ditto.
    
    	* info/sxemacs-faq.texi (Q4.4.2): Removed.
    	  Plus nuke other mentions of tooltalk.
    
    	* info/sxemacs/packages.texi (Available Packages): Remove
    	  tooltalk. Yes I know that the tooltalk XEmacs package is still
    	  available, but there's not much point in saying so in the SXEmacs
    	  manual if SXEmacs doesn't support tooltalk at all.
    
    	* info/lispref/objects.texi: Remove all the tooltalk cruft.
    
    	* info/lispref/lispref.texi: Ditto.
    
    	* info/lispref/hooks.texi (Standard Hooks): Ditto.
    
    	* info/lispref/errors.texi (Standard Errors): Ditto.
    
    	* info/internals/internals.texi: Ditto.
    
    	* info/lispref/ldap.texi (LDAP Support): Set prev node to
    	  X-Windows.  Skips tooltalk.
    
    	* info/lispref/x-windows.texi (X-Windows): Set next node to LDAP
    	  Support.  Skips tooltalk.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 configure.ac                  |   71 +-------
 etc/PACKAGES                  |    3 -
 info/Makefile.obsolete        |  377 ----------------------------------------
 info/internals/internals.texi |   23 +--
 info/lispref/errors.texi      |    5 -
 info/lispref/hooks.texi       |    3 -
 info/lispref/ldap.texi        |    2 +-
 info/lispref/lispref.texi     |    8 -
 info/lispref/objects.texi     |   20 +--
 info/lispref/tooltalk.texi    |  381 -----------------------------------------
 info/lispref/x-windows.texi   |    2 +-
 info/sxemacs-faq.texi         |   26 ---
 info/sxemacs/packages.texi    |    3 -
 m4/sxe-summary.m4             |    2 -
 14 files changed, 6 insertions(+), 920 deletions(-)

commit 786d7ecc150c784b1049150802fdd4bf411a0d07
Merge: 2b75e74 17c4890
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Jun 21 23:05:31 2011 +1000

    Merge branch 'merges'

commit 17c4890036d6eb15c2cadd59079a0308811b2d8e
Author: Zajcev Evgeny <zevlg@yandex.ru>
Date:   Tue Jun 21 16:47:10 2011 +0400

    - [FIX] ffi-curl, avoid signalling
    
    Signed-off-by: Zajcev Evgeny <zevlg@yandex.ru>

 lisp/ffi/ffi-curl.el |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 25efa66cc66274a744cacb5dbb877fb6ac1736f7
Author: Zajcev Evgeny <zevlg@yandex.ru>
Date:   Tue Jun 21 11:15:39 2011 +0400

    ffi-wand, removed some dups
    
    Signed-off-by: Zajcev Evgeny <zevlg@yandex.ru>

 lisp/ffi/ffi-wand.el |    6 ------
 1 file changed, 6 deletions(-)

commit 2b75e747e04aa8feab4018b3dc2e691229ec9ca8
Merge: bce3648 5a94101
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Jun 21 12:13:11 2011 +1000

    Merge branch 'merges'

commit 5a94101323ed5f2cdba8ce69c4e8a7fccf4bbc57
Author: Zajcev Evgeny <zevlg@yandex.ru>
Date:   Mon Jun 20 19:56:04 2011 +0400

    - revert, avoid raw format check
    
    Signed-off-by: Zajcev Evgeny <zevlg@yandex.ru>

 lisp/ffi/ffi-wand.el |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 24d257de634928f0e8e804e010b0c97a246fcb52
Author: Zajcev Evgeny <zevlg@yandex.ru>
Date:   Thu Jun 16 13:16:28 2011 +0400

    - [add] wand: partial support for GM lib
    - [fix] safe version of ffi-magic
    
    misc enhs

 lisp/ffi/ffi-wand.el | 1066 +++++++++++++++++++++++++++++++++-----------------
 1 file changed, 716 insertions(+), 350 deletions(-)

commit bce364853e3a9dfc411584dfd9a7ca1d92550557
Merge: ad9e2b4 40098fc
Author: Steve Youngs <steve@sxemacs.org>
Date:   Thu Jun 16 12:36:55 2011 +1000

    Merge branch 'merges'

commit 40098fccc15a565a136d36219d44c22ebbb0af44
Author: Steve Youngs <steve@sxemacs.org>
Date:   Thu Jun 16 12:36:17 2011 +1000

    Sundry FFI fixes (see bug #127)
    
    Here are a couple of FFI fixes that bring us closer to fixing bug #127
    
    	* lisp/ffi/ffi-sqlite.el (sqlite-bind-value): Use sqlite-STATIC
    	instead of sqlite-TRANSIENT
    
    	* src/effi.c (ffi_call_using_libffi): Temporarily turn of async
    	timeouts when calling ffi_call()
    
    	* src/signal.c (stop_async_timeouts): Make it available
    	externally.
    
    	* src/signal.c (start_async_timeouts): Ditto.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 lisp/ffi/ffi-sqlite.el |    4 ++--
 src/effi.c             |    2 ++
 src/signal.c           |    4 ++--
 3 files changed, 6 insertions(+), 4 deletions(-)

commit a2153383210b07e3bc0d8bc281647ee530907eb5
Author: Zajcev Evgeny <zevlg@yandex.ru>
Date:   Tue Jun 14 22:34:45 2011 +0400

    - [enh] ffi-magic with safe strings

 lisp/ffi.el           |   20 ++++++++++----------
 lisp/ffi/ffi-magic.el |   31 +++++++++++++++++++++----------
 2 files changed, 31 insertions(+), 20 deletions(-)

commit ad9e2b4f262ca555dc96b5f473a4f55709ad620c
Author: Steve Youngs <steve@sxemacs.org>
Date:   Thu May 12 09:50:23 2011 +1000

    Fix building with current git FFmpeg
    
    	* m4/sxe-mm.m4 (SXE_MM_CHECK_FFMPEG): Turn off -Werror in the test
    	to see if url_fopen() needs ByteIOContext**.
    
    	That stuff is now deprecated in current FFmpeg git repo.  This
    	patch allows SXEmacs to build with it, although, with loads of
    	warnings.  Yeah, I'm on it. :-)
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 m4/sxe-mm.m4 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 53b0119cfebc7f152b6eaf6dc1d5e4d0aac222ea
Merge: abc4221 3137c1f
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Sun May 8 00:42:47 2011 -0400

    Merge http://git.sxemacs.org/sxemacs

commit 3137c1f8547cb644bb2f58c129c4fd3f9efa1ecb
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat May 7 17:57:33 2011 +1000

    Update and fix our .desktop file.
    
    	* etc/sxemacs.desktop.in (StartupNotify): Set to false.  I'm
    	almost certain we don't do this.
    
    	* etc/sxemacs.desktop.in (MimeType): Update to include all the
    	MIME types I can think of that we support.
    
    	* etc/sxemacs.desktop.in (Categories): The spec says that if we're
    	a "TextEditor", we should also be a "Utility".  So add that.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 etc/sxemacs.desktop.in |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 57b7c2148871b254536dc0732b7d71409ad9c434
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat May 7 02:20:17 2011 +1000

    Libpng 1.5 fix.
    
    One of the things they did in libpng 1.5 was to remove all the stuff in
    1.4 and earlier that had been marked deprecated.  Of course we were using
    some of those deprecated things.  This patch fixes that and brings back
    PNGs to SXEmacsen built with the latest libpng.
    
    	* src/ui/glyphs-eimage.c (png_instantiate): Rewrite and update for
    	libpng 1.5.x.  Also, handle interlaced PNGs.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/ui/glyphs-eimage.c |  108 ++++++++++++++++++++++++------------------------
 1 file changed, 55 insertions(+), 53 deletions(-)

commit abc4221c4ffe1e3084e78a427f33255f51298071
Merge: e624dd0 9f3b1b6
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Wed Apr 20 21:08:06 2011 -0400

    Merge http://git.sxemacs.org/sxemacs

commit 9f3b1b68351f14b012ec1db6f1cfb99ce7a53deb
Merge: ae4f56c 85099e9
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Apr 19 09:30:01 2011 +1000

    Merge branch 'merges'

commit 85099e9ead057ba06b08f624ba4d01e54f980c50
Author: Steve Youngs <steve@sxemacs.org>
Date:   Tue Apr 19 08:48:54 2011 +1000

    Merge branch 'merges', remote-tracking branch 'njsf/master' into merges

commit e624dd0d042594f851ab12903b28f9597a08edea
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Apr 18 13:12:00 2011 -0400

    * src/mule/input-method-xlib.c: Fix a header due to
            EmacsFrame.h move that had been overlooked.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/mule/input-method-xlib.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0524224d1442a02959248ffeea8916612f3bd45b
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Apr 18 13:06:30 2011 -0400

    Even friendlier advice to the novice git SXEmacs
    contributor.
    
    * autogen.sh: also state one needs to git push --tag
    * autogen.sh: if the detected TREE_VERSION differs from the expected, issue a warning
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 autogen.sh |   28 +++++++++++++++++++++++++---
 1 file changed, 25 insertions(+), 3 deletions(-)

commit e3c67d680963dd79d409cf78bed451de25eaeb71
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Apr 18 12:11:16 2011 -0400

    * src/ui/glyphs.c: properly allow Q_mask_{file,data},
                       Q_hotspot_{x,y}, Q_foreground,
                       Qbackground on tty only builds.
    
    * src/ui/glyphs.c(syms_of_glyphs): ditto.
    
    * src/ui/glyphs.c(xface_normalize): properly handle
                       tty only builds by returning nil
                       when HAVE_WINDOW_SYSTEM is not
                       defined and conversion is needed.
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 src/ui/glyphs.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 5948c7c4c8d608de8432a1f0a5dda556335ef0ce
Author: Nelson Ferreira <nelson.ferreira@ieee.org>
Date:   Mon Apr 18 12:07:50 2011 -0400

    Build improvements
    
    * autogen.sh: when outside of "proper" git repos
                  try to be friendlier by using the
                  defaults and suggest the tag command.
    
    * src/Emacs{Frame,Manager,Shell}*, src/External*:
                  moved into src/ui/X11 as that is the
                  proper place for those files
    
    * src/Makefile.am, src/ui/X11/Makefile.am:
                  adjust targets for move of the files
    
    * src/mule/input-method-motif.c: adjust header path
    * src/ui/lwlib/lwlib-Xlw.c: ditto
    
    
    Signed-off-by: Nelson Ferreira <nelson.ferreira@ieee.org>

 autogen.sh                       |   11 +-
 src/EmacsFrame.c                 |  682 ----------------------------------
 src/EmacsFrame.h                 |  349 ------------------
 src/EmacsFrameP.h                |  136 -------
 src/EmacsManager.c               |  259 -------------
 src/EmacsManager.h               |   59 ---
 src/EmacsManagerP.h              |   66 ----
 src/EmacsShell-sub.c             |  389 --------------------
 src/EmacsShell.c                 |  163 ---------
 src/EmacsShell.h                 |   70 ----
 src/EmacsShellP.h                |  101 ------
 src/ExternalClient-Xlib.c        |  142 --------
 src/ExternalClient.c             |  619 -------------------------------
 src/ExternalClient.h             |   75 ----
 src/ExternalClientP.h            |   67 ----
 src/ExternalShell.c              |  743 --------------------------------------
 src/ExternalShell.h              |   58 ---
 src/ExternalShellP.h             |   60 ---
 src/Makefile.am                  |   30 +-
 src/mule/input-method-motif.c    |    2 +-
 src/ui/X11/EmacsFrame.c          |  682 ++++++++++++++++++++++++++++++++++
 src/ui/X11/EmacsFrame.h          |  349 ++++++++++++++++++
 src/ui/X11/EmacsFrameP.h         |  136 +++++++
 src/ui/X11/EmacsManager.c        |  259 +++++++++++++
 src/ui/X11/EmacsManager.h        |   59 +++
 src/ui/X11/EmacsManagerP.h       |   66 ++++
 src/ui/X11/EmacsShell-sub.c      |  389 ++++++++++++++++++++
 src/ui/X11/EmacsShell.c          |  163 +++++++++
 src/ui/X11/EmacsShell.h          |   70 ++++
 src/ui/X11/EmacsShellP.h         |  101 ++++++
 src/ui/X11/ExternalClient-Xlib.c |  142 ++++++++
 src/ui/X11/ExternalClient.c      |  619 +++++++++++++++++++++++++++++++
 src/ui/X11/ExternalClient.h      |   75 ++++
 src/ui/X11/ExternalClientP.h     |   67 ++++
 src/ui/X11/ExternalShell.c       |  743 ++++++++++++++++++++++++++++++++++++++
 src/ui/X11/ExternalShell.h       |   58 +++
 src/ui/X11/ExternalShellP.h      |   60 +++
 src/ui/X11/Makefile.am           |   29 ++
 src/ui/X11/xintrinsic.h          |   26 ++
 src/ui/X11/xintrinsicp.h         |   32 ++
 src/ui/lwlib/lwlib-Xlw.c         |    2 +-
 src/xintrinsic.h                 |   26 --
 src/xintrinsicp.h                |   32 --
 43 files changed, 4137 insertions(+), 4129 deletions(-)

commit ae4f56c0181f68b112fcb76e4995f953370e5afb
Author: Steve Youngs <steve@sxemacs.org>
Date:   Sat Mar 19 09:19:41 2011 +1000

    Couple more warning fixes
    
    	* src/media/sound-jack.c (sound_jack_shutdown_cbfun): Use %p mask
    	to prevent compiler warning.
    
    	* src/media/media.c (__add_prop): Drop the artificial attribute to
    	prevent a compiler warning.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/media/media.c      |    2 +-
 src/media/sound-jack.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit e3337135b8da41305d5f18c3f60ec43588a94f95
Author: Steve Youngs <steve@sxemacs.org>
Date:   Fri Mar 18 23:00:18 2011 +1000

    Fix a few more compiler warnings.
    
    	* src/skiplist.h: #if 0 out some as yet unused function
    	declarations.  Prevents compiler warnings.
    
    	* src/openssl.c (Fossl_ssl_cipher_description):
    	SSL_get_current_cipher returns a const, so needs to be stored in a
    	const.  Prevents compiler warning.
    
    	* src/openssl.c (Fossl_ssl_cipher_version): Ditto.
    
    	* src/openssl.c (Fossl_ssl_cipher_name): Ditto.
    
    	* src/openssl.c (Fossl_ssl_cipher_bits): Ditto.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 src/openssl.c  |    8 ++++----
 src/skiplist.h |    3 ++-
 2 files changed, 6 insertions(+), 5 deletions(-)

commit 9882c223485e9481ca620554eab0d1001726df24
Author: Steve Youngs <steve@sxemacs.org>
Date:   Mon Mar 14 18:43:31 2011 +1000

    Fixes all byte-compiler warnings in our elisp.
    
    	* lisp/ffi/ffi-wand.el
    	(Wand-mode-insert-info, Wand-mode-select-region): Use
    	#'when-boundp to avoid byte-compiler warning.  Also require
    	wid-edit for same.
    
    	* lisp/help.el: Globally declare #'find-function #'find-variable
    	and #'view-scroll-lines-up at compile time to avoid byte-compiler
    	warnings.
    
    	* lisp/minibuf.el (x-read-color-completion-table): defvar it at
    	compile time to avoid byte-compiler warning.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 lisp/ffi/ffi-wand.el |   10 ++++++----
 lisp/help.el         |    5 ++++-
 lisp/minibuf.el      |    2 ++
 3 files changed, 12 insertions(+), 5 deletions(-)

commit 14473da93cb50edd102821b88e5c6494df346263
Author: Steve Youngs <steve@sxemacs.org>
Date:   Mon Mar 14 17:36:18 2011 +1000

    Fix several compiler warnings in C sources.
    
    This takes care of most of the compiler warnings that have crept back into
    the C sources.  There are a couple more left, but they will require us to
    catch up with current versions of libpng and ffmpeg, so not quite as
    trivial as the rest of this patch.
    
    	* modules/ase/ase-metric.c (ase_metric_prnt): Don't try to cast
    	XASE_METRIC_DIST to unsigned int, use %p printf mask instead.
    	Prevents compiler warning about casting pointer to int of
    	different size.
    
    	* src/ui/TTY/terminfo.c (emacs_tparam): cast string to char* to
    	keep tparm/ncurses happy.
    	Prevents compiler warning.
    
    	* src/ui/X11/glyphs-x.c (x_subwindow_query_geometry): Cast dx, dy
    	to int.
    	Prevents a compiler warning about wrong types.
    
    	* src/media/sound-alsa.h (sound_alsa_aj_data_s): samplerate is an
    	unsigned int.
    	Prevents a compiler warning.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 modules/ase/ase-metric.c |    3 +--
 src/media/sound-alsa.h   |    2 +-
 src/ui/TTY/terminfo.c    |    2 +-
 src/ui/X11/glyphs-x.c    |    3 ++-
 4 files changed, 5 insertions(+), 5 deletions(-)

commit 18d23f87c34415e83693b14bdce915ed8ef5c080
Author: Steve Youngs <steve@sxemacs.org>
Date:   Mon Mar 14 08:19:33 2011 +1000

    Add Last version ChangeLog and tweak SPPM
    
    	* info/sppm.texi (Making Releases): Tweak the instructions in a
    	couple of places.
    
    Signed-off-by: Steve Youngs <steve@sxemacs.org>

 ChangeLog.d/ChangeLog-22.1.14 |  206 +++++++++++++++++++++++++++++++++++++++++
 info/sppm.texi                |    8 +-
 2 files changed, 210 insertions(+), 4 deletions(-)
